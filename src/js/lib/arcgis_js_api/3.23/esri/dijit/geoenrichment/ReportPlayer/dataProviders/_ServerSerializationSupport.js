// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.23/esri/copyright.txt for details.
//>>built
define("esri/dijit/geoenrichment/ReportPlayer/dataProviders/_ServerSerializationSupport","dojo/_base/declare dojo/when esri/graphic esri/geometry/Polygon ./supportClasses/ReportDataProcessor ./supportClasses/tasks/parsers/DataXMLParser ../core/supportClasses/ReportTemplateTypes ../core/supportClasses/templateJsonUtils/TemplateJsonSerializer ../core/conversion/PortalToEditorConverter".split(" "),function(g,f,k,l,m,n,p,q,r){return g(null,{_reportDataFromServerData:function(b){function g(a){a={metadata:{},
areaData:[],errors:[]};var h=c.filter(function(a){return"data.xml"===a.name})[0],b=/.*\.png/i,d={};c.forEach(function(a){b.test(a.name)&&(d[a.name]=a.data)});h={areaData:n.parse(h.data,function(a,b){return d[b]||b})};m.applyRunReportAndGetDataResults(h,{fieldData:a});return a}var t=this,c;if(Array.isArray(b.files))c=b.files;else{c=[];for(var e in b.files)c.push({name:e,data:b.files[e]})}return f(function(){var a={isGraphicReport:!0,portalJson:{files:c}};return f(r.provideEditorJson(a),function(){a.templateJson=
q.deserialize(a.templateJson);delete a.portalJson;return a})}(),function(a){for(var c=g(a),f=c.areaData.length,d=[],e=0;e<f;e++)d.push({name:"",feature:new k(new l)});return{isClassic:!1,reportType:p.STANDARD,reportTitle:"",templateJson:a.templateJson,reportObject:a,fieldData:c,analysisAreas:d,infographicOptions:t._infographicOptionsProvider.getInfographicOptions({geoenrichmentUrl:"",countryID:"",reportID:"",analysisAreas:d}),attachmentsStore:null,config:b.config||{}}})}})});