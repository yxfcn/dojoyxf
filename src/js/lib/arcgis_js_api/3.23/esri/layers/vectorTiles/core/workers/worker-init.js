// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.23/esri/copyright.txt for details.
//>>built
(function(g,n){var m,l=function(){return"undefined"!==typeof A&&"function"!==typeof A?A:"undefined"!==typeof window?window:"undefined"!==typeof self?self:this}(),p=function(){},t=function(a){for(var c in a)return 0;return 1},u={}.toString,w=function(a){return"[object Function]"==u.call(a)},f=function(a){return"[object String]"==u.call(a)},b=function(a){return"[object Array]"==u.call(a)},e=function(a,c){if(a)for(var b=0;b<a.length;)c(a[b++])},d=function(a,c){for(var b in c)a[b]=c[b];return a},C=function(a,
c){return d(Error(a),{src:"dojoLoader",info:c})},Ha=1,Z=function(){return"_"+Ha++},k=function(a,c,b){return oa(a,c,b,0,k)},A=l,N=A.document,Ia=N&&N.createElement("DiV"),r=k.has=function(a){return w(E[a])?E[a]=E[a](A,N,Ia):E[a]},E=r.cache=n.hasCache;w(g)&&(g=g(l));r.add=function(a,c,b,h){(void 0===E[a]||h)&&(E[a]=c);return b&&r(a)};d(n.hasCache,{"host-browser":0,dom:0,"dojo-dom-ready-api":0,"dojo-sniff":0,"dojo-inject-api":1,"host-webworker":1,"dojo-guarantee-console":0});n.loaderPatch={injectUrl:function(a,
c){try{importScripts(a),c()}catch(v){console.info("failed to load resource ("+a+")"),console.error(v)}}};for(var F in g.has)r.add(F,g.has[F],0,1);k.async=1;var Ja=r("csp-restrictions")?function(){}:new Function("return eval(arguments[0]);");k.eval=function(a,c){return Ja(a+"\r\n//# sourceURL\x3d"+c)};var aa={},D=k.signal=function(a,c){var v=aa[a];e(v&&v.slice(0),function(a){a.apply(null,b(c)?c:[c])})};F=k.on=function(a,c){var b=aa[a]||(aa[a]=[]);b.push(c);return{remove:function(){for(var a=0;a<b.length;a++)if(b[a]===
c){b.splice(a,1);break}}}};var pa=[],Ka={},qa=[],H={},ra=k.map={},O=[],x={},ba="",I={},P={},l={},da=function(a){var c,b,h,d;for(c in P)b=P[c],(h=c.match(/^url\:(.+)/))?I["url:"+sa(h[1],a)]=b:"*now"==c?d=b:"*noref"!=c&&(h=Q(c,a,!0),I[h.mid]=I["url:"+h.url]=b);d&&d(ca(a));P={}},ta=function(a){return a.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,function(a){return"\\"+a})},ea=function(a,c){c.splice(0,c.length);for(var b in a)c.push([b,a[b],new RegExp("^"+ta(b)+"(/|$)"),b.length]);c.sort(function(a,c){return c[3]-
a[3]});return c},La=function(a,c){e(a,function(a){c.push([f(a[0])?new RegExp("^"+ta(a[0])+"$"):a[0],a[1]])})},ua=function(a){var c=a.name;c||(c=a,a={name:c});a=d({main:"main"},a);a.location=a.location?a.location:c;a.packageMap&&(ra[c]=a.packageMap);a.main.indexOf("./")||(a.main=a.main.substring(2));H[c]=a},va=[],K=function(a,c,b){for(var h in a){"waitSeconds"==h&&(k.waitms=1E3*(a[h]||0));"cacheBust"==h&&(ba=a[h]?f(a[h])?a[h]:(new Date).getTime()+"":"");if("baseUrl"==h||"combo"==h)k[h]=a[h];a[h]!==
E&&(k.rawConfig[h]=a[h],"has"!=h&&r.add("config-"+h,a[h],0,c))}k.baseUrl||(k.baseUrl="./");/\/$/.test(k.baseUrl)||(k.baseUrl+="/");for(h in a.has)r.add(h,a.has[h],0,c);e(a.packages,ua);for(var v in a.packagePaths)e(a.packagePaths[v],function(a){var c=v+"/"+a;f(a)&&(a={name:a});a.location=c;ua(a)});ea(d(ra,a.map),O);e(O,function(a){a[1]=ea(a[1],[]);"*"==a[0]&&(O.star=a)});ea(d(Ka,a.paths),qa);La(a.aliases,pa);if(c)va.push({config:a.config});else for(h in a.config)c=G(h,b),c.config=d(c.config||{},a.config[h]);
a.cache&&(da(),P=a.cache,a.cache["*noref"]&&da());D("config",[a,k.rawConfig])};if(r("dojo-cdn")){var wa=N.getElementsByTagName("script");m=0;for(var R,y,S,L;m<wa.length;)if(R=wa[m++],(S=R.getAttribute("src"))&&(L=S.match(/(((.*)\/)|^)dojo\.js(\W|$)/i))&&(y=L[3]||"",n.baseUrl=n.baseUrl||y),S=R.getAttribute("data-dojo-config")||R.getAttribute("djConfig"))l=k.eval("({ "+S+" })","data-dojo-config")}k.rawConfig={};K(n,1);r("dojo-cdn")&&((H.dojo.location=y)&&(y+="/"),H.dijit.location=y+"../dijit/",H.dojox.location=
y+"../dojox/");K(g,1);K(l,1);var ga=function(a){fa(function(){e(a.deps,xa)})},oa=function(a,c,v,h,e){var q;if(f(a)){if((q=G(a,h,!0))&&q.executed)return q.result;throw C("undefinedModule",a);}b(a)||(K(a,0,h),a=c,c=v);if(b(a))if(a.length){v="require*"+Z();for(var g,l=[],m=0;m<a.length;)g=a[m++],l.push(G(g,h));q=d(T("",v,0,""),{injected:2,deps:l,def:c||p,require:h?h.require:k,gc:1});x[q.mid]=q;ga(q);var n=M&&!0;fa(function(){ha(q,n)});q.executed||B.push(q);ia()}else c&&c();return e},ca=function(a){if(!a)return k;
var c=a.require;c||(c=function(b,h,d){return oa(b,h,d,a,c)},a.require=d(c,k),c.module=a,c.toUrl=function(c){return sa(c,a)},c.toAbsMid=function(c){return ja(c,a)});return c},B=[],U=[],z={},Na=function(a){a.injected=1;z[a.mid]=1;a.url&&(z[a.url]=a.pack||1);ya()},W=function(a){a.injected=2;delete z[a.mid];a.url&&delete z[a.url];t(z)&&V()},Oa=k.idle=function(){return!U.length&&t(z)&&!B.length&&!M},ka=function(a,c){if(c)for(var b=0;b<c.length;b++)if(c[b][2].test(a))return c[b];return 0},za=function(a){var c=
[],b,h;for(a=a.replace(/\\/g,"/").split("/");a.length;)b=a.shift(),".."==b&&c.length&&".."!=h?(c.pop(),h=c[c.length-1]):"."!=b&&c.push(h=b);return c.join("/")},T=function(a,b,d,h){return{pid:a,mid:b,pack:d,url:h,executed:0,def:0}},Aa=function(a,b,d,h,f,k,g,l,m){var c,v,q,p;p=/^\./.test(a);if(/(^\/)|(\:)|(\.js$)/.test(a)||p&&!b)return T(0,a,0,a);a=za(p?b.mid+"/../"+a:a);if(/^\./.test(a))throw C("irrationalPath",a);b&&(q=ka(b.mid,k));(q=(q=q||k.star)&&ka(a,q[1]))&&(a=q[1]+a.substring(q[3]));b=(L=a.match(/^([^\/]+)(\/(.+))?$/))?
L[1]:"";(c=d[b])?a=b+"/"+(v=L[3]||c.main):b="";var n=0;e(l,function(b){var c=a.match(b[0]);c&&0<c.length&&(n=w(b[1])?a.replace(b[0],b[1]):b[1])});if(n)return Aa(n,0,d,h,f,k,g,l,m);if(d=h[a])return m?T(d.pid,d.mid,d.pack,d.url):h[a];h=(q=ka(a,g))?q[1]+a.substring(q[3]):b?c.location+"/"+v:r("config-tlmSiblingOfDojo")?"../"+a:a;/(^\/)|(\:)/.test(h)||(h=f+h);return T(b,a,c,za(h+".js"))},Q=function(a,b,d){return Aa(a,b,H,x,k.baseUrl,d?[]:O,d?[]:qa,d?[]:pa)},Ba=function(a,b,d){return a.normalize?a.normalize(b,
function(a){return ja(a,d)}):ja(b,d)},Ca=0,G=function(a,b,d){var c,e;(c=a.match(/^(.+?)\!(.*)$/))?(e=G(c[1],b,d),5!==e.executed||e.load||la(e),e.load?(c=Ba(e,c[2],b),a=e.mid+"!"+(e.dynamic?++Ca+"!":"")+c):(c=c[2],a=e.mid+"!"+ ++Ca+"!waitingForPlugin"),a={plugin:e,mid:a,req:ca(b),prid:c}):a=Q(a,b);return x[a.mid]||!d&&(x[a.mid]=a)},ja=k.toAbsMid=function(a,b){return Q(a,b).mid},sa=k.toUrl=function(a,b){var c=Q(a+"/x",b),d=c.url;return Da(0===c.pid?a:d.substring(0,d.length-5))},Ea={injected:2,executed:5,
def:3,result:3};y=function(a){return x[a]=d({mid:a},Ea)};var Pa=y("require"),Qa=y("exports"),Ra=y("module"),X={},ma=0,la=function(a){var b=a.result;a.dynamic=b.dynamic;a.normalize=b.normalize;a.load=b.load;return a},Sa=function(a){var b={};e(a.loadQ,function(c){var e=Ba(a,c.prid,c.req.module),h=a.dynamic?c.mid.replace(/waitingForPlugin$/,e):a.mid+"!"+e,e=d(d({},c),{mid:h,prid:e,injected:0});x[h]&&x[h].injected||Fa(x[h]=e);b[c.mid]=x[h];W(c);delete x[c.mid]});a.loadQ=0;var f=function(a){for(var c=
a.deps||[],d=0;d<c.length;d++)(a=b[c[d].mid])&&(c[d]=a)},h;for(h in x)f(x[h]);e(B,f)},na=function(a){k.trace("loader-finish-exec",[a.mid]);a.executed=5;a.defOrder=ma++;a.loadQ&&(la(a),Sa(a));for(m=0;m<B.length;)B[m]===a?B.splice(m,1):m++;/^require\*/.test(a.mid)&&delete x[a.mid]},Ta=[],ha=function(a,b){if(4===a.executed)return k.trace("loader-circular-dependency",[Ta.concat(a.mid).join("-\x3e")]),!a.def||b?X:a.cjs&&a.cjs.exports;if(!a.executed){if(!a.def)return X;var c=a.mid,d=a.deps||[],e,f=[],g=
0;for(a.executed=4;e=d[g++];){e=e===Pa?ca(a):e===Qa?a.cjs.exports:e===Ra?a.cjs:ha(e,b);if(e===X)return a.executed=0,k.trace("loader-exec-module",["abort",c]),X;f.push(e)}k.trace("loader-run-factory",[a.mid]);var c=a.def,l;if(r("config-dojo-loader-catches"))try{l=w(c)?c.apply(null,f):c}catch(Ma){D("error",a.result=C("factoryThrew",[a,Ma]))}else l=w(c)?c.apply(null,f):c;a.result=void 0===l&&a.cjs?a.cjs.exports:l;na(a)}return a.result},M=0,fa=function(a){try{M++,a()}catch(c){throw c;}finally{M--}Oa()&&
D("idle",[])},ia=function(){M||fa(function(){for(var a,b,d=0;d<B.length;)a=ma,b=B[d],ha(b),a!=ma?d=0:d++})},Da="function"==typeof g.fixupUrl?g.fixupUrl:function(a){a+="";return a+(ba?(/\?/.test(a)?"\x26":"?")+ba:"")};void 0===r("dojo-loader-eval-hint-url")&&r.add("dojo-loader-eval-hint-url",1);var Fa=function(a){var b=a.plugin;5!==b.executed||b.load||la(b);var d=function(b){a.result=b;W(a);na(a);ia()};b.load?b.load(a.prid,a.req,d):b.loadQ?b.loadQ.push(a):(b.loadQ=[a],B.unshift(b),xa(b))},J=0,Ua=function(a,
b){r("config-stripStrict")&&(a=a.replace(/(["'])use strict\1/g,""));if(r("config-dojo-loader-catches"))try{a===J?J.call(null):k.eval(a,r("dojo-loader-eval-hint-url")?b.url:b.mid)}catch(v){D("error",C("evalModuleThrew",b))}else a===J?J.call(null):k.eval(a,r("dojo-loader-eval-hint-url")?b.url:b.mid)},xa=function(a){var b=a.mid,e=a.url;if(!(a.executed||a.injected||z[b]||a.url&&(a.pack&&z[a.url]===a.pack||1==z[a.url])))if(Na(a),a.plugin)Fa(a);else{var h=function(){Va(a);if(2!==a.injected){if(r("dojo-enforceDefine")){D("error",
C("noDefine",a));return}W(a);d(a,Ea);k.trace("loader-define-nonmodule",[a.url])}ia()};(J=I[b]||I["url:"+a.url])?(k.trace("loader-inject",["cache",a.mid,e]),Ua(J,a),h()):(k.trace("loader-inject",["script",a.mid,e]),k.injectUrl(Da(e),h,a))}},Ga=function(a,b,e){k.trace("loader-define-module",[a.mid,b]);if(2===a.injected)return D("error",C("multipleDefine",a)),a;d(a,{deps:b,def:e,cjs:{id:a.mid,uri:a.url,exports:a.result={},setExports:function(b){a.cjs.exports=b},config:function(){return a.config}}});
for(var c=0;b[c];c++)b[c]=G(b[c],a);W(a);w(e)||b.length||(a.result=e,na(a));return a},Va=function(a,b){for(var c=[],d,f;U.length;)f=U.shift(),b&&(f[0]=b.shift()),d=f[0]&&G(f[0])||a,c.push([d,f[1],f[2]]);da(a);e(c,function(a){ga(Ga.apply(null,a))})},Y=0,V=p,ya=p,V=function(){Y&&clearTimeout(Y);Y=0},ya=function(){V();k.waitms&&(Y=A.setTimeout(function(){V();D("error",C("timeout",z))},k.waitms))};k.log=function(){try{for(var a=0;a<arguments.length;a++)console.log(arguments[a])}catch(c){}};k.trace=p;
y=function(a,b,d){var c=arguments.length,e=["require","exports","module"],g=[0,a,b];1==c?g=[0,w(a)?e:[],a]:2==c&&f(a)?g=[a,w(b)?e:[],b]:3==c&&(g=[a,b,d]);k.trace("loader-define",g.slice(0,2));(c=g[0]&&G(g[0]))&&!z[c.mid]?ga(Ga(c,g[1],g[2])):(r("ie-event-behavior"),U.push(g))};y.amd={vendor:"dojotoolkit.org"};d(d(k,n.loaderPatch),g.loaderPatch);F("error",function(a){try{if(console.error(a),a instanceof Error){for(var b in a)console.log(b+":",a[b]);console.log(".")}}catch(v){}});d(k,{uid:Z,cache:I,
packs:H});A.define?D("error",C("defineAlreadyDefined",0)):(A.define=y,A.require=k,e(va,function(a){K(a)}),F=l.deps||g.deps||n.deps,l=l.callback||g.callback||n.callback,k.boot=F||l?[F||[],l]:0)})(function(g){return g.dojoConfig||g.djConfig||g.require||{}},{async:1,hasCache:{"config-selectorEngine":"acme","config-tlmSiblingOfDojo":1,"dojo-built":1,"dojo-loader":1,dom:1,"host-browser":1},packages:[{location:".",name:"dojo"},{location:"../dijit",name:"dijit"},{location:"../dojox",name:"dojox"},{location:"../dgrid",
main:"OnDemandGrid",name:"dgrid"},{location:"../dgrid1",main:"OnDemandGrid",name:"dgrid1"},{location:"../dstore",main:"Store",name:"dstore"},{location:"../put-selector",main:"put",name:"put-selector"},{location:"../xstyle",name:"xstyle"},{location:"../moment",main:"moment.js",name:"moment"},{location:"../esri",name:"esri"}]});
require({cache:{"dojo/_base/lang":function(){define(["./kernel","../has","../sniff"],function(g,n){n.add("bug-for-in-skips-shadowed",function(){for(var b in{toString:1})return 0;return 1});var m=n("bug-for-in-skips-shadowed")?"hasOwnProperty valueOf isPrototypeOf propertyIsEnumerable toLocaleString toString constructor".split(" "):[],l=m.length,p=function(b,e,d){d||(d=b[0]&&g.scopeMap[b[0]]?g.scopeMap[b.shift()][1]:g.global);try{for(var f=0;f<b.length;f++){var l=b[f];if(!(l in d))if(e)d[l]={};else return;
d=d[l]}return d}catch(Z){}},t=Object.prototype.toString,u=function(b,e,d){return(d||[]).concat(Array.prototype.slice.call(b,e||0))},w=/\{([^\}]+)\}/g,f={_extraNames:m,_mixin:function(b,e,d){var f,g,p,k={};for(f in e)g=e[f],f in b&&(b[f]===g||f in k&&k[f]===g)||(b[f]=d?d(g):g);if(n("bug-for-in-skips-shadowed")&&e)for(p=0;p<l;++p)f=m[p],g=e[f],f in b&&(b[f]===g||f in k&&k[f]===g)||(b[f]=d?d(g):g);return b},mixin:function(b,e){b||(b={});for(var d=1,g=arguments.length;d<g;d++)f._mixin(b,arguments[d]);
return b},setObject:function(b,e,d){var f=b.split(".");b=f.pop();return(d=p(f,!0,d))&&b?d[b]=e:void 0},getObject:function(b,e,d){return b?p(b.split("."),e,d):d},exists:function(b,e){return void 0!==f.getObject(b,!1,e)},isString:function(b){return"string"==typeof b||b instanceof String},isArray:Array.isArray||function(b){return"[object Array]"==t.call(b)},isFunction:function(b){return"[object Function]"===t.call(b)},isObject:function(b){return void 0!==b&&(null===b||"object"==typeof b||f.isArray(b)||
f.isFunction(b))},isArrayLike:function(b){return!!b&&!f.isString(b)&&!f.isFunction(b)&&!(b.tagName&&"form"==b.tagName.toLowerCase())&&(f.isArray(b)||isFinite(b.length))},isAlien:function(b){return b&&!f.isFunction(b)&&/\{\s*\[native code\]\s*\}/.test(String(b))},extend:function(b,e){for(var d=1,g=arguments.length;d<g;d++)f._mixin(b.prototype,arguments[d]);return b},_hitchArgs:function(b,e){var d=f._toArray(arguments,2),l=f.isString(e);return function(){var p=f._toArray(arguments),m=l?(b||g.global)[e]:
e;return m&&m.apply(b||this,d.concat(p))}},hitch:function(b,e){if(2<arguments.length)return f._hitchArgs.apply(g,arguments);e||(e=b,b=null);if(f.isString(e)){b=b||g.global;if(!b[e])throw['lang.hitch: scope["',e,'"] is null (scope\x3d"',b,'")'].join("");return function(){return b[e].apply(b,arguments||[])}}return b?function(){return e.apply(b,arguments||[])}:e},delegate:function(){function b(){}return function(e,d){b.prototype=e;var g=new b;b.prototype=null;d&&f._mixin(g,d);return g}}(),_toArray:n("ie")?
function(){function b(b,d,f){f=f||[];for(d=d||0;d<b.length;d++)f.push(b[d]);return f}return function(e){return(e.item?b:u).apply(this,arguments)}}():u,partial:function(b){return f.hitch.apply(g,[null].concat(f._toArray(arguments)))},clone:function(b){if(!b||"object"!=typeof b||f.isFunction(b))return b;if(b.nodeType&&"cloneNode"in b)return b.cloneNode(!0);if(b instanceof Date)return new Date(b.getTime());if(b instanceof RegExp)return new RegExp(b);var e,d,g;if(f.isArray(b))for(e=[],d=0,g=b.length;d<
g;++d)d in b&&(e[d]=f.clone(b[d]));else e=b.constructor?new b.constructor:{};return f._mixin(e,b,f.clone)},trim:String.prototype.trim?function(b){return b.trim()}:function(b){return b.replace(/^\s\s*/,"").replace(/\s\s*$/,"")},replace:function(b,e,d){return b.replace(d||w,f.isFunction(e)?e:function(b,d){return f.getObject(d,!1,e)})}};f.mixin(g,f);return f})},"dojo/_base/kernel":function(){define(["../global","../has","./config","require","module"],function(g,n,m,l,p){var t,u={},w={},f={config:m,global:g,
dijit:u,dojox:w},u={dojo:["dojo",f],dijit:["dijit",u],dojox:["dojox",w]};p=l.map&&l.map[p.id.match(/[^\/]+/)[0]];for(t in p)u[t]?u[t][0]=p[t]:u[t]=[p[t],{}];for(t in u)p=u[t],p[1]._scopeName=p[0],m.noGlobals||(g[p[0]]=p[1]);f.scopeMap=u;f.baseUrl=f.config.baseUrl=l.baseUrl;f.isAsync=l.async;f.locale=m.locale;g="$Rev: aaa6750 $".match(/[0-9a-f]{7,}/);f.version={major:1,minor:13,patch:0,flag:"",revision:g?g[0]:NaN,toString:function(){var b=f.version;return b.major+"."+b.minor+"."+b.patch+b.flag+" ("+
b.revision+")"}};n("csp-restrictions")||Function("d","d.eval \x3d function(){return d.global.eval ? d.global.eval(arguments[0]) : eval(arguments[0]);}")(f);f.exit=function(){};n.add("dojo-debug-messages",!!m.isDebug);f.deprecated=f.experimental=function(){};n("dojo-debug-messages")&&(f.deprecated=function(b,e,d){b="DEPRECATED: "+b;e&&(b+=" "+e);d&&(b+=" -- will be removed in version: "+d);console.warn(b)},f.experimental=function(b,e){var d="EXPERIMENTAL: "+b+" -- APIs subject to change without notice.";
e&&(d+=" "+e);console.warn(d)});if(m.modulePaths){f.deprecated("dojo.modulePaths","use paths configuration");n={};for(t in m.modulePaths)n[t.replace(/\./g,"/")]=m.modulePaths[t];l({paths:n})}f.moduleUrl=function(b,e){f.deprecated("dojo.moduleUrl()","use require.toUrl","2.0");var d=null;b&&(d=l.toUrl(b.replace(/\./g,"/")+(e?"/"+e:"")+"/*.*").replace(/\/\*\.\*/,"")+(e?"":"/"));return d};f._hasResource={};return f})},"dojo/global":function(){define(function(){return"undefined"!==typeof global&&"function"!==
typeof global?global:"undefined"!==typeof window?window:"undefined"!==typeof self?self:this})},"dojo/has":function(){define(["./global","require","module"],function(g,n,m){var l=n.has||function(){};l.clearElement=function(g){g.innerHTML="";return g};l.normalize=function(g,m){var p=g.match(/[\?:]|[^:\?]*/g),n=0,f=function(b){var e=p[n++];if(":"==e)return 0;if("?"==p[n++]){if(!b&&l(e))return f();f(!0);return f(b)}return e||0};return(g=f())&&m(g)};l.load=function(g,l,m){g?l([g],m):m()};return l})},"dojo/_base/config":function(){define(["../global",
"../has","require"],function(g,n,m){g={};m=m.rawConfig;for(var l in m)g[l]=m[l];!g.locale&&"undefined"!=typeof navigator&&(l=navigator.languages&&navigator.languages.length?navigator.languages[0]:navigator.language||navigator.userLanguage)&&(g.locale=l.toLowerCase());return g})},"dojo/sniff":function(){define(["./has"],function(g){return g})}}});(function(){var g=this.require;g({cache:{}});!g.async&&g(["dojo"]);g.boot&&g.apply(null,g.boot)})();
//>>built
require({cache:{"esri/config":function(){define(["dojo/_base/config","dojo/topic","dojo/has","./kernel"],function(n,a,g,q){var d=function(){return this}(),f={defaults:{screenDPI:96,geometryService:null,kmlService:null,map:{width:400,height:400,layerNamePrefix:"layer",graphicsLayerNamePrefix:"graphicsLayer",slider:{left:"30px",top:"30px",width:null,height:"200px"},sliderLabel:{tick:5,labels:null,style:"width:2em; font-family:Verdana; font-size:75%;"},sliderChangeImmediate:!0,zoomSymbol:{color:[0,0,
0,64],outline:{color:[255,0,0,255],width:1.25,style:"esriSLSSolid"},style:"esriSFSSolid"},zoomDuration:500,zoomRate:25,panDuration:350,panRate:25,logoLink:"http://www.esri.com"},autoSpatialIndexing:d.Worker&&!1,io:{errorHandler:function(d,b){a.publish("esri.Error",[d])},proxyUrl:null,alwaysUseProxy:!1,useCors:"with-credentials",corsEnabledServers:"server.arcgisonline.com services.arcgisonline.com www.arcgis.com js.arcgis.com jsdev.arcgis.com jsqa.arcgis.com tiles.arcgis.com tiles1.arcgis.com tiles2.arcgis.com tiles3.arcgis.com tiles4.arcgis.com basemaps.arcgis.com basemapsbeta.arcgis.com elevation3d.arcgis.com services.arcgis.com services1.arcgis.com services2.arcgis.com services3.arcgis.com services4.arcgis.com services5.arcgis.com services6.arcgis.com services7.arcgis.com services8.arcgis.com services9.arcgis.com cdn.arcgis.com cdn-a.arcgis.com cdn-b.arcgis.com static.arcgis.com utility.arcgis.com utility.arcgisonline.com geocode.arcgis.com geoenrich.arcgis.com qaext.arcgis.com staticqa.arcgis.com tilesqa.arcgis.com servicesqa.arcgis.com servicesqa1.arcgis.com servicesqa2.arcgis.com servicesqa3.arcgis.com geocodeqa.arcgis.com geoenrichqa.arcgis.com dev.arcgis.com devext.arcgis.com localvtiles.arcgis.com staticdev.arcgis.com tilesdevext.arcgis.com elevation3ddev.arcgis.com servicesdev.arcgis.com servicesdev1.arcgis.com servicesdev2.arcgis.com servicesdev3.arcgis.com geocodedev.arcgis.com geoenrichdev.arcgis.com basemapsdev.arcgis.com basemapsbetadev.arcgis.com".split(" "),
corsDetection:d.cordova?!1:!0,corsDetectionTimeout:15,corsStatus:{},webTierAuthServers:[],proxyRules:[],postLength:2E3,timeout:6E4,useWorkers:"on-request",maxRequestWorkers:5,httpsDomains:"arcgis.com arcgisonline.com esrikr.com premiumservices.blackbridge.com esripremium.accuweather.com gbm.digitalglobe.com firstlook.digitalglobe.com msi.digitalglobe.com".split(" ")},workers:{loaderConfig:{has:{},paths:{},map:{},packages:[]}}}};g("extend-esri")&&(q.config=f);n.noGlobals||(d.esriConfig=f);return f})},
"dojo/topic":function(){define(["./Evented"],function(n){var a=new n;return{publish:function(g,q){return a.emit.apply(a,arguments)},subscribe:function(g,q){return a.on.apply(a,arguments)}}})},"dojo/Evented":function(){define(["./aspect","./on"],function(n,a){function g(){}var q=n.after;g.prototype={on:function(d,f){return a.parse(this,d,f,function(a,b){return q(a,"on"+b,f,!0)})},emit:function(d,f){var k=[this];k.push.apply(k,arguments);return a.emit.apply(a,k)}};return g})},"dojo/aspect":function(){define([],
function(){function n(a,b,c,h){var e=a[b],p="around"==b,d;if(p){var f=c(function(){return e.advice(this,arguments)});d={remove:function(){f&&(f=a=c=null)},advice:function(b,a){return f?f.apply(b,a):e.advice(b,a)}}}else d={remove:function(){if(d.advice){var e=d.previous,h=d.next;h||e?(e?e.next=h:a[b]=h,h&&(h.previous=e)):delete a[b];a=c=d.advice=null}},id:a.nextId++,advice:c,receiveArguments:h};if(e&&!p)if("after"==b){for(;e.next&&(e=e.next););e.next=d;d.previous=e}else"before"==b&&(a[b]=d,d.next=
e,e.previous=d);else a[b]=d;return d}function a(a){return function(b,c,h,e){var p=b[c],d;p&&p.target==b||(b[c]=d=function(){for(var b=d.nextId,e=arguments,a=d.before;a;)a.advice&&(e=a.advice.apply(this,e)||e),a=a.next;if(d.around)var c=d.around.advice(this,e);for(a=d.after;a&&a.id<b;){if(a.advice)if(a.receiveArguments)var h=a.advice.apply(this,e),c=h===g?c:h;else c=a.advice.call(this,c,e);a=a.next}return c},p&&(d.around={advice:function(b,e){return p.apply(b,e)}}),d.target=b,d.nextId=d.nextId||0);
b=n(d||p,a,h,e);h=null;return b}}var g,q=a("after"),d=a("before"),f=a("around");return{before:d,around:f,after:q}})},"dojo/on":function(){define(["./has!dom-addeventlistener?:./aspect","./_base/kernel","./sniff"],function(n,a,g){function q(a,c,h,p,d){if(p=c.match(/(.*):(.*)/))return c=p[2],p=p[1],k.selector(p,c).call(d,a,h);g("touch")&&(b.test(c)&&(h=B(h)),g("event-orientationchange")||"orientationchange"!=c||(c="resize",a=window,h=B(h)));z&&(h=z(h));if(a.addEventListener){var f=c in e,r=f?e[c]:c;
a.addEventListener(r,h,f);return{remove:function(){a.removeEventListener(r,h,f)}}}if(x&&a.attachEvent)return x(a,"on"+c,h);throw Error("Target must be an event emitter");}function d(){this.cancelable=!1;this.defaultPrevented=!0}function f(){this.bubbles=!1}var k=function(b,e,a,c){return"function"!=typeof b.on||"function"==typeof e||b.nodeType?k.parse(b,e,a,q,c,this):b.on(e,a)};k.pausable=function(b,e,a,c){var h;b=k(b,e,function(){if(!h)return a.apply(this,arguments)},c);b.pause=function(){h=!0};b.resume=
function(){h=!1};return b};k.once=function(b,e,a,c){var h=k(b,e,function(){h.remove();return a.apply(this,arguments)});return h};k.parse=function(b,e,a,c,h,p){var d;if(e.call)return e.call(p,b,a);e instanceof Array?d=e:-1<e.indexOf(",")&&(d=e.split(/\s*,\s*/));if(d){var f=[];e=0;for(var r;r=d[e++];)f.push(k.parse(b,r,a,c,h,p));f.remove=function(){for(var b=0;b<f.length;b++)f[b].remove()};return f}return c(b,e,a,h,p)};var b=/^touch/;k.matches=function(b,e,c,h,p){p=p&&"function"==typeof p.matches?p:
a.query;h=!1!==h;1!=b.nodeType&&(b=b.parentNode);for(;!p.matches(b,e,c);)if(b==c||!1===h||!(b=b.parentNode)||1!=b.nodeType)return!1;return b};k.selector=function(b,e,a){return function(c,h){function p(e){return k.matches(e,b,c,a,d)}var d="function"==typeof b?{matches:b}:this,f=e.bubble;return f?k(c,f(p),h):k(c,e,function(b){var e=p(b.target);if(e)return b.selectorTarget=e,h.call(e,b)})}};var c=[].slice,h=k.emit=function(b,e,a){var h=c.call(arguments,2),p="on"+e;if("parentNode"in b){var r=h[0]={},
k;for(k in a)r[k]=a[k];r.preventDefault=d;r.stopPropagation=f;r.target=b;r.type=e;a=r}do b[p]&&b[p].apply(b,h);while(a&&a.bubbles&&(b=b.parentNode));return a&&a.cancelable&&a},e=g("event-focusin")?{}:{focusin:"focus",focusout:"blur"};if(!g("event-stopimmediatepropagation"))var p=function(){this.modified=this.immediatelyStopped=!0},z=function(b){return function(e){if(!e.immediatelyStopped)return e.stopImmediatePropagation=p,b.apply(this,arguments)}};if(g("dom-addeventlistener"))k.emit=function(b,e,
a){if(b.dispatchEvent&&document.createEvent){var c=(b.ownerDocument||document).createEvent("HTMLEvents");c.initEvent(e,!!a.bubbles,!!a.cancelable);for(var p in a)p in c||(c[p]=a[p]);return b.dispatchEvent(c)&&c}return h.apply(k,arguments)};else{k._fixEvent=function(b,e){b||(b=(e&&(e.ownerDocument||e.document||e).parentWindow||window).event);if(!b)return b;try{y&&b.type==y.type&&b.srcElement==y.target&&(b=y)}catch(Q){}if(!b.target)switch(b.target=b.srcElement,b.currentTarget=e||b.srcElement,"mouseover"==
b.type&&(b.relatedTarget=b.fromElement),"mouseout"==b.type&&(b.relatedTarget=b.toElement),b.stopPropagation||(b.stopPropagation=A,b.preventDefault=J),b.type){case "keypress":var a="charCode"in b?b.charCode:b.keyCode;10==a?(a=0,b.keyCode=13):13==a||27==a?a=0:3==a&&(a=99);b.charCode=a;a=b;a.keyChar=a.charCode?String.fromCharCode(a.charCode):"";a.charOrCode=a.keyChar||a.keyCode}return b};var y,r=function(b){this.handle=b};r.prototype.remove=function(){delete _dojoIEListeners_[this.handle]};var u=function(b){return function(e){e=
k._fixEvent(e,this);var a=b.call(this,e);e.modified&&(y||setTimeout(function(){y=null}),y=e);return a}},x=function(b,e,a){a=u(a);if(((b.ownerDocument?b.ownerDocument.parentWindow:b.parentWindow||b.window||window)!=top||5.8>g("jscript"))&&!g("config-_allow_leaks")){"undefined"==typeof _dojoIEListeners_&&(_dojoIEListeners_=[]);var c=b[e];if(!c||!c.listeners){var h=c,c=Function("event","var callee \x3d arguments.callee; for(var i \x3d 0; i\x3ccallee.listeners.length; i++){var listener \x3d _dojoIEListeners_[callee.listeners[i]]; if(listener){listener.call(this,event);}}");
c.listeners=[];b[e]=c;c.global=this;h&&c.listeners.push(_dojoIEListeners_.push(h)-1)}c.listeners.push(b=c.global._dojoIEListeners_.push(a)-1);return new r(b)}return n.after(b,e,a,!0)},A=function(){this.cancelBubble=!0},J=k._preventDefault=function(){this.bubbledKeyCode=this.keyCode;if(this.ctrlKey)try{this.keyCode=0}catch(v){}this.defaultPrevented=!0;this.returnValue=!1;this.modified=!0}}if(g("touch"))var C=function(){},E=window.orientation,B=function(b){return function(e){var a=e.corrected;if(!a){var c=
e.type;try{delete e.type}catch(I){}if(e.type){if(g("touch-can-modify-event-delegate"))C.prototype=e,a=new C;else{var a={},h;for(h in e)a[h]=e[h]}a.preventDefault=function(){e.preventDefault()};a.stopPropagation=function(){e.stopPropagation()}}else a=e,a.type=c;e.corrected=a;if("resize"==c){if(E==window.orientation)return null;E=window.orientation;a.type="orientationchange";return b.call(this,a)}"rotation"in a||(a.rotation=0,a.scale=1);if(window.TouchEvent&&e instanceof TouchEvent){var c=a.changedTouches[0],
p;for(p in c)delete a[p],a[p]=c[p]}}return b.call(this,a)}};return k})},"esri/kernel":function(){define(["dojo/_base/kernel","dojo/_base/config","dojo/has"],function(n,a,g){var q=function(){return this}(),d=q.location,f=d.pathname,k=d.protocol,d={version:"3.23",_appBaseUrl:k+"//"+d.host+f.substring(0,f.lastIndexOf(f.split("/")[f.split("/").length-1]))};a.noGlobals||(q.esri=d);n.isAsync||g.add("extend-esri",1);(d.dijit=d.dijit||{})._arcgisUrl=("http:"===k||"https:"===k?k:"http:")+"//www.arcgis.com/sharing/rest";
return d})},"esri/layers/vectorTiles/core/workers/WorkerConnection":function(){define(["require","exports","./WorkerProxy"],function(n,a,g){return function(){function a(a,f,k){this.id=k;this._target="function"===typeof a?new a(this):a;this.proxy=new g(this._target,f,this)}a.prototype.invoke=function(a,f,k){return this.proxy.invoke(a,f,k,this.id)};return a}()})},"esri/layers/vectorTiles/core/workers/WorkerProxy":function(){define(["require","exports","dojo/Deferred","../Error"],function(n,a,g,q){return function(){function a(a,
d,b){this.parentModule=a;this.worker=d;this.connection=b;this.msgCount=0;this.outgoingJobs=new Map;this.incomingJobs=new Map}a.prototype.invoke=function(a,d,b,c){var h=this,e=++this.msgCount,p=new g(function(b){h.worker.postMessage({type:"\x3ccancel\x3e",id:e,connection:c,data:{reason:b}});if(h.outgoingJobs.has(e))h.outgoingJobs["delete"](e)});this.outgoingJobs.set(e,p);this.worker.postMessage({type:a,id:e,connection:c,data:d},b);return p.promise};a.prototype.message=function(a){var d=this;if(a&&
a.data){var b=a.data.type;if(b){var c=a.data,h=a.data.id,e=a.data.connection;if("\x3cresponse\x3e"===b&&h){if(a=this.outgoingJobs.get(h))this.outgoingJobs["delete"](h),c.error?a.reject(q.fromJSON(c.error)):a.resolve(c.data)}else"\x3ccancel\x3e"===b&&h?(a=this.incomingJobs.get(h))&&a.cancel(c.data.reason||"cancel"):(a=this.parentModule[b],"function"===typeof a&&(c=a.call(this.parentModule,c.data,this.connection),this.incomingJobs.set(h,c),c.then(function(b){d.worker.postMessage({type:"\x3cresponse\x3e",
id:h,connection:e,data:b&&null!=b.data?b.data:b},b&&b.buffers||[])}).otherwise(function(a){a||(a={message:"Error encountered at method "+b});d.worker.postMessage({type:"\x3cresponse\x3e",id:h,connection:e,data:null,error:{message:a.message,stack:a.stack}})}).always(function(){d.incomingJobs["delete"](h)})))}}};return a}()})},"dojo/Deferred":function(){define(["./has","./_base/lang","./errors/CancelError","./promise/Promise","./promise/instrumentation"],function(n,a,g,q,d){var f=Object.freeze||function(){},
k=function(a,c,h,d,f){2===c&&e.instrumentRejected&&0===a.length&&e.instrumentRejected(h,!1,d,f);for(f=0;f<a.length;f++)b(a[f],c,h,d)},b=function(b,a,d,f){var p=b[a],r=b.deferred;if(p)try{var k=p(d);if(0===a)"undefined"!==typeof k&&h(r,a,k);else{if(k&&"function"===typeof k.then){b.cancel=k.cancel;k.then(c(r,1),c(r,2),c(r,0));return}h(r,1,k)}}catch(J){h(r,2,J)}else h(r,a,d);2===a&&e.instrumentRejected&&e.instrumentRejected(d,!!p,f,r.promise)},c=function(b,a){return function(e){h(b,a,e)}},h=function(b,
a,e){if(!b.isCanceled())switch(a){case 0:b.progress(e);break;case 1:b.resolve(e);break;case 2:b.reject(e)}},e=function(a){var c=this.promise=new q,h=this,d,p,x,A=!1,J=[];Error.captureStackTrace&&(Error.captureStackTrace(h,e),Error.captureStackTrace(c,e));this.isResolved=c.isResolved=function(){return 1===d};this.isRejected=c.isRejected=function(){return 2===d};this.isFulfilled=c.isFulfilled=function(){return!!d};this.isCanceled=c.isCanceled=function(){return A};this.progress=function(b,a){if(d){if(!0===
a)throw Error("This deferred has already been fulfilled.");return c}k(J,0,b,null,h);return c};this.resolve=function(b,a){if(d){if(!0===a)throw Error("This deferred has already been fulfilled.");return c}k(J,d=1,p=b,null,h);J=null;return c};var C=this.reject=function(b,a){if(d){if(!0===a)throw Error("This deferred has already been fulfilled.");return c}Error.captureStackTrace&&Error.captureStackTrace(x={},C);k(J,d=2,p=b,x,h);J=null;return c};this.then=c.then=function(a,h,f){var k=[f,a,h];k.cancel=
c.cancel;k.deferred=new e(function(b){return k.cancel&&k.cancel(b)});d&&!J?b(k,d,p,x):J.push(k);return k.deferred.promise};this.cancel=c.cancel=function(b,e){if(!d){if(a){var c=a(b);b="undefined"===typeof c?b:c}A=!0;if(!d)return"undefined"===typeof b&&(b=new g),C(b),b;if(2===d&&p===b)return b}else if(!0===e)throw Error("This deferred has already been fulfilled.");};f(c)};e.prototype.toString=function(){return"[object Deferred]"};d&&d(e);return e})},"dojo/errors/CancelError":function(){define(["./create"],
function(n){return n("CancelError",null,null,{dojoType:"cancel",log:!1})})},"dojo/errors/create":function(){define(["../_base/lang"],function(n){return function(a,g,q,d){q=q||Error;var f=function(a){if(q===Error){Error.captureStackTrace&&Error.captureStackTrace(this,f);var b=Error.call(this,a),c;for(c in b)b.hasOwnProperty(c)&&(this[c]=b[c]);this.message=a;this.stack=b.stack}else q.apply(this,arguments);g&&g.apply(this,arguments)};f.prototype=n.delegate(q.prototype,d);f.prototype.name=a;return f.prototype.constructor=
f}})},"dojo/promise/Promise":function(){define(["../_base/lang"],function(n){function a(){throw new TypeError("abstract");}return n.extend(function(){},{then:function(g,q,d){a()},cancel:function(g,q){a()},isResolved:function(){a()},isRejected:function(){a()},isFulfilled:function(){a()},isCanceled:function(){a()},always:function(a){return this.then(a,a)},"catch":function(a){return this.then(null,a)},otherwise:function(a){return this.then(null,a)},trace:function(){return this},traceRejected:function(){return this},
toString:function(){return"[object Promise]"}})})},"dojo/promise/instrumentation":function(){define(["./tracer","../has","../_base/lang","../_base/array"],function(n,a,g,q){function d(b,a,e){if(!b||!1!==b.log){var c="";b&&b.stack&&(c+=b.stack);a&&a.stack&&(c+="\n    ----------------------------------------\n    rejected"+a.stack.split("\n").slice(1).join("\n").replace(/^\s+/," "));e&&e.stack&&(c+="\n    ----------------------------------------\n"+e.stack);console.error(b,c)}}function f(b,a,e,c){a||
d(b,e,c)}function k(a,d,f,k){q.some(c,function(b){if(b.error===a)return d&&(b.handled=!0),!0})||c.push({error:a,rejection:f,handled:d,deferred:k,timestamp:(new Date).getTime()});h||(h=setTimeout(b,e))}function b(){var a=(new Date).getTime(),f=a-e;c=q.filter(c,function(b){return b.timestamp<f?(b.handled||d(b.error,b.rejection,b.deferred),!1):!0});h=c.length?setTimeout(b,c[0].timestamp+e-a):!1}a.add("config-useDeferredInstrumentation","report-unhandled-rejections");var c=[],h=!1,e=1E3;return function(b){var c=
a("config-useDeferredInstrumentation");if(c){n.on("resolved",g.hitch(console,"log","resolved"));n.on("rejected",g.hitch(console,"log","rejected"));n.on("progress",g.hitch(console,"log","progress"));var h=[];"string"===typeof c&&(h=c.split(","),c=h.shift());if("report-rejections"===c)b.instrumentRejected=f;else if("report-unhandled-rejections"===c||!0===c||1===c)b.instrumentRejected=k,e=parseInt(h[0],10)||e;else throw Error("Unsupported instrumentation usage \x3c"+c+"\x3e");}}})},"dojo/promise/tracer":function(){define(["../_base/lang",
"./Promise","../Evented"],function(n,a,g){function q(a){setTimeout(function(){f.apply(d,a)},0)}var d=new g,f=d.emit;d.emit=null;a.prototype.trace=function(){var a=n._toArray(arguments);this.then(function(b){q(["resolved",b].concat(a))},function(b){q(["rejected",b].concat(a))},function(b){q(["progress",b].concat(a))});return this};a.prototype.traceRejected=function(){var a=n._toArray(arguments);this.otherwise(function(b){q(["rejected",b].concat(a))});return this};return d})},"dojo/_base/array":function(){define(["./kernel",
"../has","./lang"],function(n,a,g){function q(b){return k[b]=new Function("item","index","array",b)}function d(b){var a=!b;return function(e,c,h){var d=0,p=e&&e.length||0,f;p&&"string"==typeof e&&(e=e.split(""));"string"==typeof c&&(c=k[c]||q(c));if(h)for(;d<p;++d){if(f=!c.call(h,e[d],d,e),b^f)return!f}else for(;d<p;++d)if(f=!c(e[d],d,e),b^f)return!f;return a}}function f(a){var e=1,h=0,d=0;a||(e=h=d=-1);return function(p,f,k,x){if(x&&0<e)return c.lastIndexOf(p,f,k);x=p&&p.length||0;var r=a?x+d:h;
k===b?k=a?h:x+d:0>k?(k=x+k,0>k&&(k=h)):k=k>=x?x+d:k;for(x&&"string"==typeof p&&(p=p.split(""));k!=r;k+=e)if(p[k]==f)return k;return-1}}var k={},b,c={every:d(!1),some:d(!0),indexOf:f(!0),lastIndexOf:f(!1),forEach:function(b,a,c){var e=0,h=b&&b.length||0;h&&"string"==typeof b&&(b=b.split(""));"string"==typeof a&&(a=k[a]||q(a));if(c)for(;e<h;++e)a.call(c,b[e],e,b);else for(;e<h;++e)a(b[e],e,b)},map:function(b,a,c,d){var e=0,h=b&&b.length||0;d=new (d||Array)(h);h&&"string"==typeof b&&(b=b.split(""));
"string"==typeof a&&(a=k[a]||q(a));if(c)for(;e<h;++e)d[e]=a.call(c,b[e],e,b);else for(;e<h;++e)d[e]=a(b[e],e,b);return d},filter:function(b,a,c){var e=0,d=b&&b.length||0,h=[],f;d&&"string"==typeof b&&(b=b.split(""));"string"==typeof a&&(a=k[a]||q(a));if(c)for(;e<d;++e)f=b[e],a.call(c,f,e,b)&&h.push(f);else for(;e<d;++e)f=b[e],a(f,e,b)&&h.push(f);return h},clearCache:function(){k={}}};g.mixin(n,c);return c})},"esri/layers/vectorTiles/core/Error":function(){define(["require","exports","./tsSupport/extendsHelper",
"./Message","./lang"],function(n,a,g,q,d){n=function(a){function f(b,c,d){var e=a.call(this,b,c,d)||this;return e instanceof f?e:new f(b,c,d)}g(f,a);f.prototype.toJSON=function(){return{name:this.name,message:this.message,details:d.clone(this.details),dojoType:this.dojoType}};f.fromJSON=function(b){var a=new f(b.name,b.message,b.details);a.dojoType=b.dojoType;return a};return f}(q);n.prototype.type="error";return n})},"esri/layers/vectorTiles/core/tsSupport/extendsHelper":function(){define([],function(){return function(){var n=
Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,g){a.__proto__=g}||function(a,g){for(var q in g)g.hasOwnProperty(q)&&(a[q]=g[q])};return function(a,g){function q(){this.constructor=a}n(a,g);a.prototype=null===g?Object.create(g):(q.prototype=g.prototype,new q)}}()})},"esri/layers/vectorTiles/core/Message":function(){define(["require","exports","dojo/string"],function(n,a,g){return function(){function a(d,f,k){this instanceof a&&(this.name=d,this.message=f&&g.substitute(f,k,function(b){return null==
b?"":b})||"",this.details=k)}a.prototype.toString=function(){return"["+this.name+"]: "+this.message};return a}()})},"dojo/string":function(){define(["./_base/kernel","./_base/lang"],function(n,a){var g=/[&<>'"\/]/g,q={"\x26":"\x26amp;","\x3c":"\x26lt;","\x3e":"\x26gt;",'"':"\x26quot;","'":"\x26#x27;","/":"\x26#x2F;"},d={};a.setObject("dojo.string",d);d.escape=function(a){return a?a.replace(g,function(a){return q[a]}):""};d.rep=function(a,d){if(0>=d||!a)return"";for(var b=[];;){d&1&&b.push(a);if(!(d>>=
1))break;a+=a}return b.join("")};d.pad=function(a,k,b,c){b||(b="0");a=String(a);k=d.rep(b,Math.ceil((k-a.length)/b.length));return c?a+k:k+a};d.substitute=function(d,k,b,c){c=c||n.global;b=b?a.hitch(c,b):function(b){return b};return d.replace(/\$\{([^\s\:\}]*)(?:\:([^\s\:\}]+))?\}/g,function(d,e,p){if(""==e)return"$";d=a.getObject(e,!1,k);p&&(d=a.getObject(p,!1,c).call(c,d,e));p=b(d,e);if("undefined"===typeof p)throw Error('string.substitute could not find key "'+e+'" in template');return p.toString()})};
d.trim=String.prototype.trim?a.trim:function(a){a=a.replace(/^\s+/,"");for(var d=a.length-1;0<=d;d--)if(/\S/.test(a.charAt(d))){a=a.substring(0,d+1);break}return a};return d})},"esri/layers/vectorTiles/core/lang":function(){define("dojo/_base/array dojo/_base/kernel dojo/_base/lang dojo/date dojo/number dojo/date/locale dojo/i18n!../nls/common".split(" "),function(n,a,g,q,d,f,k){function b(a){return void 0!==a&&null!==a}function c(a){return b(a)?a:""}function h(a,e,h){var p=h.match(/([^\(]+)(\([^\)]+\))?/i),
k=g.trim(p[1]);h=e[a];var p=JSON.parse((p[2]?g.trim(p[2]):"{}").replace(/^\(/,"{").replace(/\)$/,"}").replace(/([{,])\s*([0-9a-zA-Z\_]+)\s*:/gi,'$1"$2":').replace(/\"\s*:\s*\'/gi,'":"').replace(/\'\s*(,|\})/gi,'"$1')),r=p.utcOffset;if(-1===n.indexOf(z,k))k=g.getObject(k),g.isFunction(k)&&(h=k(h,a,e,p));else if("number"===typeof h||"string"===typeof h&&h&&!isNaN(Number(h)))switch(h=Number(h),k){case "NumberFormat":a=g.mixin({},p);e=parseFloat(a.places);if(isNaN(e)||0>e)a.places=Infinity;return d.format(h,
a);case "DateString":h=new Date(h);if(p.local||p.systemLocale)return p.systemLocale?h.toLocaleDateString()+(p.hideTime?"":" "+h.toLocaleTimeString()):h.toDateString()+(p.hideTime?"":" "+h.toTimeString());h=h.toUTCString();p.hideTime&&(h=h.replace(/\s+\d\d\:\d\d\:\d\d\s+(utc|gmt)/i,""));return h;case "DateFormat":return h=new Date(h),b(r)&&(h=q.add(h,"minute",h.getTimezoneOffset()-r)),f.format(h,p)}return c(h)}function e(a,b){var c;if(b)for(c in a)a.hasOwnProperty(c)&&(void 0===a[c]?delete a[c]:a[c]instanceof
Object&&e(a[c],!0));else for(c in a)a.hasOwnProperty(c)&&void 0===a[c]&&delete a[c];return a}function p(a){if(!a||"object"!=typeof a||g.isFunction(a))return a;if("function"===typeof a.clone)a=a.clone();else if("function"===typeof a.map&&"function"===typeof a.forEach)a=a.map(p);else{var b={},e,c,d={};for(e in a){c=a[e];var h=!(e in d)||d[e]!==c;if(!(e in b)||b[e]!==c&&h)b[e]=p?p(c):c}a=b}return a}var z=["NumberFormat","DateString","DateFormat"],y=/<\/?[^>]+>/g;return{equals:function(a,b){return a===
b||"number"===typeof a&&isNaN(a)&&"number"===typeof b&&isNaN(b)||g.isFunction((a||{}).getTime)&&g.isFunction((b||{}).getTime)&&a.getTime()==b.getTime()||g.isFunction((a||{}).equals)&&a.equals(b)||g.isFunction((b||{}).equals)&&b.equals(a)||!1},valueOf:function(a,b){for(var e in a)if(a[e]==b)return e;return null},stripTags:function(a){if(a){var b=typeof a;if("string"===b)a=a.replace(y,"");else if("object"===b)for(var e in a)(b=a[e])&&"string"===typeof b&&(b=b.replace(y,"")),a[e]=b}return a},substitute:function(a,
e,d){var p,f,q;b(d)&&(g.isObject(d)?(p=d.first,f=d.dateFormat,q=d.numberFormat):p=d);if(e&&"{*}"!==e)return g.replace(e,g.hitch({obj:a},function(a,b){var e=b.split(":");return 1<e.length?(b=e[0],e.shift(),h(b,this.obj,e.join(":"))):f&&-1!==n.indexOf(f.properties||"",b)?h(b,this.obj,f.formatter||"DateString"):q&&-1!==n.indexOf(q.properties||"",b)?h(b,this.obj,q.formatter||"NumberFormat"):c(this.obj[b])}));e=[];var r;e.push('\x3ctable summary\x3d"'+k.fieldsSummary+'"\x3e\x3ctbody\x3e');for(r in a)if(d=
a[r],f&&-1!==n.indexOf(f.properties||"",r)?d=h(r,a,f.formatter||"DateString"):q&&-1!==n.indexOf(q.properties||"",r)&&(d=h(r,a,q.formatter||"NumberFormat")),e.push("\x3ctr\x3e\x3cth\x3e"+r+"\x3c/th\x3e\x3ctd\x3e"+c(d)+"\x3c/td\x3e\x3c/tr\x3e"),p)break;e.push("\x3c/tbody\x3e\x3c/table\x3e");return e.join("")},filter:function(b,e,c){e=[g.isString(b)?b.split(""):b,c||a.global,g.isString(e)?new Function("item","index","array",e):e];c={};var d;b=e[0];for(d in b)e[2].call(e[d],b[d],d,b)&&(c[d]=b[d]);return c},
startsWith:function(a,b,e){e=e||0;return a.indexOf(b,e)===e},endsWith:function(a,b,e){if("number"!==typeof e||!isFinite(e)||Math.floor(e)!==e||e>a.length)e=a.length;e-=b.length;a=a.indexOf(b,e);return-1!==a&&a===e},isDefined:b,fixJson:e,clone:p}})},"dojo/date":function(){define(["./has","./_base/lang"],function(n,a){var g={getDaysInMonth:function(a){var d=a.getMonth();return 1==d&&g.isLeapYear(a)?29:[31,28,31,30,31,30,31,31,30,31,30,31][d]},isLeapYear:function(a){a=a.getFullYear();return!(a%400)||
!(a%4)&&!!(a%100)},getTimezoneName:function(a){var d=a.toString(),f="",k=d.indexOf("(");if(-1<k)f=d.substring(++k,d.indexOf(")"));else if(k=/([A-Z\/]+) \d{4}$/,d=d.match(k))f=d[1];else if(d=a.toLocaleString(),k=/ ([A-Z\/]+)$/,d=d.match(k))f=d[1];return"AM"==f||"PM"==f?"":f},compare:function(a,d,f){a=new Date(+a);d=new Date(+(d||new Date));"date"==f?(a.setHours(0,0,0,0),d.setHours(0,0,0,0)):"time"==f&&(a.setFullYear(0,0,0),d.setFullYear(0,0,0));return a>d?1:a<d?-1:0},add:function(a,d,f){var k=new Date(+a),
b=!1,c="Date";switch(d){case "day":break;case "weekday":var h;(d=f%5)?h=parseInt(f/5):(d=0<f?5:-5,h=0<f?(f-5)/5:(f+5)/5);var e=a.getDay(),p=0;6==e&&0<f?p=1:0==e&&0>f&&(p=-1);e+=d;if(0==e||6==e)p=0<f?2:-2;f=7*h+d+p;break;case "year":c="FullYear";b=!0;break;case "week":f*=7;break;case "quarter":f*=3;case "month":b=!0;c="Month";break;default:c="UTC"+d.charAt(0).toUpperCase()+d.substring(1)+"s"}if(c)k["set"+c](k["get"+c]()+f);b&&k.getDate()<a.getDate()&&k.setDate(0);return k},difference:function(a,d,
f){d=d||new Date;f=f||"day";var k=d.getFullYear()-a.getFullYear(),b=1;switch(f){case "quarter":a=a.getMonth();d=d.getMonth();b=Math.floor(d/3)+1+4*k-(Math.floor(a/3)+1);break;case "weekday":k=Math.round(g.difference(a,d,"day"));f=parseInt(g.difference(a,d,"week"));if(0==k%7)k=5*f;else{var b=0,c=a.getDay(),h=d.getDay();f=parseInt(k/7);d=k%7;a=new Date(a);a.setDate(a.getDate()+7*f);a=a.getDay();if(0<k)switch(!0){case 6==c:b=-1;break;case 0==c:b=0;break;case 6==h:b=-1;break;case 0==h:b=-2;break;case 5<
a+d:b=-2}else if(0>k)switch(!0){case 6==c:b=0;break;case 0==c:b=1;break;case 6==h:b=2;break;case 0==h:b=1;break;case 0>a+d:b=2}k=k+b-2*f}b=k;break;case "year":b=k;break;case "month":b=d.getMonth()-a.getMonth()+12*k;break;case "week":b=parseInt(g.difference(a,d,"day")/7);break;case "day":b/=24;case "hour":b/=60;case "minute":b/=60;case "second":b/=1E3;case "millisecond":b*=d.getTime()-a.getTime()}return Math.round(b)}};a.mixin(a.getObject("dojo.date",!0),g);return g})},"dojo/number":function(){define(["./_base/lang",
"./i18n","./i18n!./cldr/nls/number","./string","./regexp"],function(n,a,g,q,d){var f={};n.setObject("dojo.number",f);f.format=function(b,c){c=n.mixin({},c||{});var d=a.normalizeLocale(c.locale),d=a.getLocalization("dojo.cldr","number",d);c.customs=d;d=c.pattern||d[(c.type||"decimal")+"Format"];return isNaN(b)||Infinity==Math.abs(b)?null:f._applyPattern(b,d,c)};f._numberPatternRE=/[#0,]*[#0](?:\.0*#*)?/;f._applyPattern=function(a,c,d){d=d||{};var b=d.customs.group,h=d.customs.decimal;c=c.split(";");
var k=c[0];c=c[0>a?1:0]||"-"+k;if(-1!=c.indexOf("%"))a*=100;else if(-1!=c.indexOf("\u2030"))a*=1E3;else if(-1!=c.indexOf("\u00a4"))b=d.customs.currencyGroup||b,h=d.customs.currencyDecimal||h,c=c.replace(/([\s\xa0]*)(\u00a4{1,3})([\s\xa0]*)/,function(a,b,e,c){return(a=d[["symbol","currency","displayName"][e.length-1]]||d.currency||"")?b+a+c:""});else if(-1!=c.indexOf("E"))throw Error("exponential notation not supported");var g=f._numberPatternRE,k=k.match(g);if(!k)throw Error("unable to find a number expression in pattern: "+
c);!1===d.fractional&&(d.places=0);return c.replace(g,f._formatAbsolute(a,k[0],{decimal:h,group:b,places:d.places,round:d.round}))};f.round=function(a,c,d){d=10/(d||10);return(d*+a).toFixed(c)/d};if(0==(.9).toFixed()){var k=f.round;f.round=function(a,c,d){var b=Math.pow(10,-c||0),h=Math.abs(a);if(!a||h>=b)b=0;else if(h/=b,.5>h||.95<=h)b=0;return k(a,c,d)+(0<a?b:-b)}}f._formatAbsolute=function(a,c,d){d=d||{};!0===d.places&&(d.places=0);Infinity===d.places&&(d.places=6);c=c.split(".");var b="string"==
typeof d.places&&d.places.indexOf(","),h=d.places;b?h=d.places.substring(b+1):0<=h||(h=(c[1]||[]).length);0>d.round||(a=f.round(a,h,d.round));a=String(Math.abs(a)).split(".");var k=a[1]||"";c[1]||d.places?(b&&(d.places=d.places.substring(0,b)),b=void 0!==d.places?d.places:c[1]&&c[1].lastIndexOf("0")+1,b>k.length&&(a[1]=q.pad(k,b,"0",!0)),h<k.length&&(a[1]=k.substr(0,h))):a[1]&&a.pop();h=c[0].replace(",","");b=h.indexOf("0");-1!=b&&(b=h.length-b,b>a[0].length&&(a[0]=q.pad(a[0],b)),-1==h.indexOf("#")&&
(a[0]=a[0].substr(a[0].length-b)));var h=c[0].lastIndexOf(","),g,r;-1!=h&&(g=c[0].length-h-1,c=c[0].substr(0,h),h=c.lastIndexOf(","),-1!=h&&(r=c.length-h-1));c=[];for(h=a[0];h;)b=h.length-g,c.push(0<b?h.substr(b):h),h=0<b?h.slice(0,b):"",r&&(g=r,r=void 0);a[0]=c.reverse().join(d.group||",");return a.join(d.decimal||".")};f.regexp=function(a){return f._parseInfo(a).regexp};f._parseInfo=function(b){b=b||{};var c=a.normalizeLocale(b.locale),c=a.getLocalization("dojo.cldr","number",c),h=b.pattern||c[(b.type||
"decimal")+"Format"],e=c.group,p=c.decimal,k=1;if(-1!=h.indexOf("%"))k/=100;else if(-1!=h.indexOf("\u2030"))k/=1E3;else{var g=-1!=h.indexOf("\u00a4");g&&(e=c.currencyGroup||e,p=c.currencyDecimal||p)}c=h.split(";");1==c.length&&c.push("-"+c[0]);c=d.buildGroupRE(c,function(a){a="(?:"+d.escapeString(a,".")+")";return a.replace(f._numberPatternRE,function(a){var c={signed:!1,separator:b.strict?e:[e,""],fractional:b.fractional,decimal:p,exponent:!1};a=a.split(".");var d=b.places;1==a.length&&1!=k&&(a[1]=
"###");1==a.length||0===d?c.fractional=!1:(void 0===d&&(d=b.pattern?a[1].lastIndexOf("0")+1:Infinity),d&&void 0==b.fractional&&(c.fractional=!0),!b.places&&d<a[1].length&&(d+=","+a[1].length),c.places=d);a=a[0].split(",");1<a.length&&(c.groupSize=a.pop().length,1<a.length&&(c.groupSize2=a.pop().length));return"("+f._realNumberRegexp(c)+")"})},!0);g&&(c=c.replace(/([\s\xa0]*)(\u00a4{1,3})([\s\xa0]*)/g,function(a,e,c,h){a=d.escapeString(b[["symbol","currency","displayName"][c.length-1]]||b.currency||
"");if(!a)return"";e=e?"[\\s\\xa0]":"";h=h?"[\\s\\xa0]":"";return b.strict?e+a+h:(e&&(e+="*"),h&&(h+="*"),"(?:"+e+a+h+")?")}));return{regexp:c.replace(/[\xa0 ]/g,"[\\s\\xa0]"),group:e,decimal:p,factor:k}};f.parse=function(a,c){var b=f._parseInfo(c),e=(new RegExp("^"+b.regexp+"$")).exec(a);if(!e)return NaN;var d=e[1];if(!e[1]){if(!e[2])return NaN;d=e[2];b.factor*=-1}d=d.replace(new RegExp("["+b.group+"\\s\\xa0]","g"),"").replace(b.decimal,".");return d*b.factor};f._realNumberRegexp=function(a){a=a||
{};"places"in a||(a.places=Infinity);"string"!=typeof a.decimal&&(a.decimal=".");"fractional"in a&&!/^0/.test(a.places)||(a.fractional=[!0,!1]);"exponent"in a||(a.exponent=[!0,!1]);"eSigned"in a||(a.eSigned=[!0,!1]);var b=f._integerRegexp(a),h=d.buildGroupRE(a.fractional,function(b){var e="";b&&0!==a.places&&(e="\\"+a.decimal,e=Infinity==a.places?"(?:"+e+"\\d+)?":e+("\\d{"+a.places+"}"));return e},!0),e=d.buildGroupRE(a.exponent,function(b){return b?"([eE]"+f._integerRegexp({signed:a.eSigned})+")":
""}),b=b+h;h&&(b="(?:(?:"+b+")|(?:"+h+"))");return b+e};f._integerRegexp=function(a){a=a||{};"signed"in a||(a.signed=[!0,!1]);"separator"in a?"groupSize"in a||(a.groupSize=3):a.separator="";var b=d.buildGroupRE(a.signed,function(a){return a?"[-+]":""},!0),h=d.buildGroupRE(a.separator,function(b){if(!b)return"(?:\\d+)";b=d.escapeString(b);" "==b?b="\\s":"\u00a0"==b&&(b="\\s\\xa0");var e=a.groupSize,c=a.groupSize2;return c?(b="(?:0|[1-9]\\d{0,"+(c-1)+"}(?:["+b+"]\\d{"+c+"})*["+b+"]\\d{"+e+"})",0<e-
c?"(?:"+b+"|(?:0|[1-9]\\d{0,"+(e-1)+"}))":b):"(?:0|[1-9]\\d{0,"+(e-1)+"}(?:["+b+"]\\d{"+e+"})*)"},!0);return b+h};return f})},"dojo/i18n":function(){define("./_base/kernel require ./has ./_base/array ./_base/config ./_base/lang require ./json module".split(" "),function(n,a,g,q,d,f,k,b,c){g.add("dojo-preload-i18n-Api",1);k=n.i18n={};var h=/(^.*(^|\/)nls)(\/|$)([^\/]*)\/?([^\/]*)/,e=function(a,b,e,c){var d=[e+c];b=b.split("-");for(var h="",f=0;f<b.length;f++)if(h+=(h?"-":"")+b[f],!a||a[h])d.push(e+
h+"/"+c),d.specificity=h;return d},p={},z=function(a,b,e){e=e?e.toLowerCase():n.locale;a=a.replace(/\./g,"/");b=b.replace(/\./g,"/");return/root/i.test(e)?a+"/nls/"+b:a+"/nls/"+e+"/"+b},y=n.getL10nName=function(a,b,e){return a=c.id+"!"+z(a,b,e)},r=function(a,b,c,d,h,k){a([b],function(g){var q=f.clone(g.root||g.ROOT),r=e(!g._v1x&&g,h,c,d);a(r,function(){for(var a=1;a<r.length;a++)q=f.mixin(f.clone(q),arguments[a]);p[b+"/"+h]=q;q.$locale=r.specificity;k()})})},u=function(a){var b=d.extraLocale||[],
b=f.isArray(b)?b:[b];b.push(a);return b},x=function(a,e,c){var d=h.exec(a),k=d[1]+"/",z=d[5]||d[4],y=k+z,x=(d=d[5]&&d[4])||n.locale||"",v=y+"/"+x,d=d?[x]:u(x),A=d.length,K=function(){--A||c(f.delegate(p[v]))},x=a.split("*"),G="preload"==x[1];if(g("dojo-preload-i18n-Api")){if(G&&(p[a]||(p[a]=1,E(x[2],b.parse(x[3]),1,e)),c(1)),(x=G)||(J&&C.push([a,e,c]),x=J&&!p[v]),x)return}else if(G){c(1);return}q.forEach(d,function(a){var b=y+"/"+a;g("dojo-preload-i18n-Api")&&B(b);p[b]?K():r(e,y,k,z,a,K)})};g("dojo-preload-i18n-Api");
var A=k.normalizeLocale=function(a){a=a?a.toLowerCase():n.locale;return"root"==a?"ROOT":a},J=0,C=[],E=k._preloadLocalizations=function(b,e,c,d){function h(a,b){d([a],b)}function k(a,b){for(var e=a.split("-");e.length;){if(b(e.join("-")))return;e.pop()}b("ROOT")}function g(){for(--J;!J&&C.length;)x.apply(null,C.shift())}function r(c){c=A(c);k(c,function(r){if(0<=q.indexOf(e,r)){var B=b.replace(/\./g,"/")+"_"+r;J++;h(B,function(b){for(var e in b){var h=b[e],q=e.match(/(.+)\/([^\/]+)$/),B;if(q&&(B=q[2],
q=q[1]+"/",h._localized)){var z;if("ROOT"===r){var u=z=h._localized;delete h._localized;u.root=h;p[a.toAbsMid(e)]=u}else z=h._localized,p[a.toAbsMid(q+B+"/"+r)]=h;r!==c&&function(b,e,h,r){var q=[],B=[];k(c,function(c){r[c]&&(q.push(a.toAbsMid(b+c+"/"+e)),B.push(a.toAbsMid(b+e+"/"+c)))});q.length?(J++,d(q,function(){for(var d=q.length-1;0<=d;d--)h=f.mixin(f.clone(h),arguments[d]),p[B[d]]=h;p[a.toAbsMid(b+e+"/"+c)]=f.clone(h);g()})):p[a.toAbsMid(b+e+"/"+c)]=h}(q,B,h,z)}}g()});return!0}return!1})}d=
d||a;r();q.forEach(n.config.extraLocale,r)},B=function(){},B=function(a){for(var b,e=a.split("/"),c=n.global[e[0]],d=1;c&&d<e.length-1;c=c[e[d++]]);c&&((b=c[e[d]])||(b=c[e[d].replace(/-/g,"_")]),b&&(p[a]=b));return b};k.getLocalization=function(b,e,c){var d;b=z(b,e,c);x(b,a,function(a){d=a});return d};return f.mixin(k,{dynamic:!0,normalize:function(a,b){return/^\./.test(a)?b(a):a},load:x,cache:p,getL10nName:y})})},"dojo/json":function(){define(["./has"],function(n){var a="undefined"!=typeof JSON;
n.add("json-parse",a);n.add("json-stringify",a&&'{"a":1}'==JSON.stringify({a:0},function(a,d){return d||1}));if(n("json-stringify"))return JSON;var g=function(a){return('"'+a.replace(/(["\\])/g,"\\$1")+'"').replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r")};return{parse:n("json-parse")?JSON.parse:function(a,d){if(d&&!/^([\s\[\{]*(?:"(?:\\.|[^"])*"|-?\d[\d\.]*(?:[Ee][+-]?\d+)?|null|true|false|)[\s\]\}]*(?:,|:|$))+$/.test(a))throw new SyntaxError("Invalid characters in JSON");
return eval("("+a+")")},stringify:function(a,d,f){function k(a,h,e){d&&(a=d(e,a));var c;c=typeof a;if("number"==c)return isFinite(a)?a+"":"null";if("boolean"==c)return a+"";if(null===a)return"null";if("string"==typeof a)return g(a);if("function"==c||"undefined"==c)return b;if("function"==typeof a.toJSON)return k(a.toJSON(e),h,e);if(a instanceof Date)return'"{FullYear}-{Month+}-{Date}T{Hours}:{Minutes}:{Seconds}Z"'.replace(/\{(\w+)(\+)?\}/g,function(b,e,c){b=a["getUTC"+e]()+(c?1:0);return 10>b?"0"+
b:b});if(a.valueOf()!==a)return k(a.valueOf(),h,e);var q=f?h+f:"",y=f?" ":"",r=f?"\n":"";if(a instanceof Array){var y=a.length,u=[];for(e=0;e<y;e++)c=k(a[e],q,e),"string"!=typeof c&&(c="null"),u.push(r+q+c);return"["+u.join(",")+r+h+"]"}u=[];for(e in a){var x;if(a.hasOwnProperty(e)){if("number"==typeof e)x='"'+e+'"';else if("string"==typeof e)x=g(e);else continue;c=k(a[e],q,e);"string"==typeof c&&u.push(r+q+x+":"+y+c)}}return"{"+u.join(",")+r+h+"}"}var b;"string"==typeof d&&(f=d,d=null);return k(a,
"","")}}})},"dojo/regexp":function(){define(["./_base/kernel","./_base/lang"],function(n,a){var g={};a.setObject("dojo.regexp",g);g.escapeString=function(a,d){return a.replace(/([\.$?*|{}\(\)\[\]\\\/\+\-^])/g,function(a){return d&&-1!=d.indexOf(a)?a:"\\"+a})};g.buildGroupRE=function(a,d,f){if(!(a instanceof Array))return d(a);for(var k=[],b=0;b<a.length;b++)k.push(d(a[b]));return g.group(k.join("|"),f)};g.group=function(a,d){return"("+(d?"?:":"")+a+")"};return g})},"dojo/date/locale":function(){define("../_base/lang ../_base/array ../date ../cldr/supplemental ../i18n ../regexp ../string ../i18n!../cldr/nls/gregorian module".split(" "),
function(n,a,g,q,d,f,k,b,c){function h(a,b,e,c){return c.replace(/([a-z])\1*/ig,function(d){var h,f,p=d.charAt(0);d=d.length;var g=["abbr","wide","narrow"];switch(p){case "G":h=b[4>d?"eraAbbr":"eraNames"][0>a.getFullYear()?0:1];break;case "y":h=a.getFullYear();switch(d){case 1:break;case 2:if(!e.fullYear){h=String(h);h=h.substr(h.length-2);break}default:f=!0}break;case "Q":case "q":h=Math.ceil((a.getMonth()+1)/3);f=!0;break;case "M":case "L":h=a.getMonth();3>d?(h+=1,f=!0):(p=["months","L"==p?"standAlone":
"format",g[d-3]].join("-"),h=b[p][h]);break;case "w":h=z._getWeekOfYear(a,0);f=!0;break;case "d":h=a.getDate();f=!0;break;case "D":h=z._getDayOfYear(a);f=!0;break;case "e":case "c":if(h=a.getDay(),2>d){h=(h-q.getFirstDayOfWeek(e.locale)+8)%7;break}case "E":h=a.getDay();3>d?(h+=1,f=!0):(p=["days","c"==p?"standAlone":"format",g[d-3]].join("-"),h=b[p][h]);break;case "a":p=12>a.getHours()?"am":"pm";h=e[p]||b["dayPeriods-format-wide-"+p];break;case "h":case "H":case "K":case "k":f=a.getHours();switch(p){case "h":h=
f%12||12;break;case "H":h=f;break;case "K":h=f%12;break;case "k":h=f||24}f=!0;break;case "m":h=a.getMinutes();f=!0;break;case "s":h=a.getSeconds();f=!0;break;case "S":h=Math.round(a.getMilliseconds()*Math.pow(10,d-3));f=!0;break;case "v":case "z":if(h=z._getZone(a,!0,e))break;d=4;case "Z":p=z._getZone(a,!1,e);p=[0>=p?"+":"-",k.pad(Math.floor(Math.abs(p)/60),2),k.pad(Math.abs(p)%60,2)];4==d&&(p.splice(0,0,"GMT"),p.splice(3,0,":"));h=p.join("");break;default:throw Error("dojo.date.locale.format: invalid pattern char: "+
c);}f&&(h=k.pad(h,d));return h})}function e(b,e,c,d){var h=function(a){return a};e=e||h;c=c||h;d=d||h;var f=b.match(/(''|[^'])+/g),p="'"==b.charAt(0);a.forEach(f,function(a,b){a?(f[b]=(p?c:e)(a.replace(/''/g,"'")),p=!p):f[b]=""});return d(f.join(""))}function p(a,b,e,c){c=f.escapeString(c);e.strict||(c=c.replace(" a"," ?a"));return c.replace(/([a-z])\1*/ig,function(c){var d;d=c.charAt(0);var h=c.length,f="",p="";e.strict?(1<h&&(f="0{"+(h-1)+"}"),2<h&&(p="0{"+(h-2)+"}")):(f="0?",p="0{0,2}");switch(d){case "y":d=
"\\d{2,4}";break;case "M":case "L":2<h?(d=b["months-"+("L"==d?"standAlone":"format")+"-"+y[h-3]].slice(0).join("|"),e.strict||(d=d.replace(/\./g,""),d="(?:"+d+")\\.?")):d="1[0-2]|"+f+"[1-9]";break;case "D":d="[12][0-9][0-9]|3[0-5][0-9]|36[0-6]|"+f+"[1-9][0-9]|"+p+"[1-9]";break;case "d":d="3[01]|[12]\\d|"+f+"[1-9]";break;case "w":d="[1-4][0-9]|5[0-3]|"+f+"[1-9]";break;case "E":case "e":case "c":d=".+?";break;case "h":d="1[0-2]|"+f+"[1-9]";break;case "k":d="1[01]|"+f+"\\d";break;case "H":d="1\\d|2[0-3]|"+
f+"\\d";break;case "K":d="1\\d|2[0-4]|"+f+"[1-9]";break;case "m":case "s":d="[0-5]\\d";break;case "S":d="\\d{"+h+"}";break;case "a":h=e.am||b["dayPeriods-format-wide-am"];f=e.pm||b["dayPeriods-format-wide-pm"];d=h+"|"+f;e.strict||(h!=h.toLowerCase()&&(d+="|"+h.toLowerCase()),f!=f.toLowerCase()&&(d+="|"+f.toLowerCase()),-1!=d.indexOf(".")&&(d+="|"+d.replace(/\./g,"")));d=d.replace(/\./g,"\\.");break;default:d=".*"}a&&a.push(c);return"("+d+")"}).replace(/[\xa0 ]/g,"[\\s\\xa0]")}var z={};n.setObject(c.id.replace(/\//g,
"."),z);z._getZone=function(a,b,e){return b?g.getTimezoneName(a):a.getTimezoneOffset()};z.format=function(a,b){b=b||{};var c=d.normalizeLocale(b.locale),f=b.formatLength||"short",c=z._getGregorianBundle(c),p=[],k=n.hitch(this,h,a,c,b);if("year"==b.selector)return e(c["dateFormatItem-yyyy"]||"yyyy",k);var g;"date"!=b.selector&&(g=b.timePattern||c["timeFormat-"+f])&&p.push(e(g,k));"time"!=b.selector&&(g=b.datePattern||c["dateFormat-"+f])&&p.push(e(g,k));return 1==p.length?p[0]:c["dateTimeFormat-"+f].replace(/\'/g,
"").replace(/\{(\d+)\}/g,function(a,b){return p[b]})};z.regexp=function(a){return z._parseInfo(a).regexp};z._parseInfo=function(a){a=a||{};var b=d.normalizeLocale(a.locale),b=z._getGregorianBundle(b),c=a.formatLength||"short",h=a.datePattern||b["dateFormat-"+c],f=a.timePattern||b["timeFormat-"+c],c="date"==a.selector?h:"time"==a.selector?f:b["dateTimeFormat-"+c].replace(/\{(\d+)\}/g,function(a,b){return[f,h][b]}),k=[];return{regexp:e(c,n.hitch(this,p,k,b,a)),tokens:k,bundle:b}};z.parse=function(b,
e){var c=/[\u200E\u200F\u202A\u202E]/g,d=z._parseInfo(e),h=d.tokens,f=d.bundle,c=(new RegExp("^"+d.regexp.replace(c,"")+"$",d.strict?"":"i")).exec(b&&b.replace(c,""));if(!c)return null;var p=["abbr","wide","narrow"],k=[1970,0,1,0,0,0,0],r="",c=a.every(c,function(b,c){if(!c)return!0;var d=h[c-1],g=d.length,d=d.charAt(0);switch(d){case "y":if(2!=g&&e.strict)k[0]=b;else if(100>b)b=Number(b),d=""+(new Date).getFullYear(),g=100*d.substring(0,2),d=Math.min(Number(d.substring(2,4))+20,99),k[0]=b<d?g+b:g-
100+b;else{if(e.strict)return!1;k[0]=b}break;case "M":case "L":if(2<g){if(g=f["months-"+("L"==d?"standAlone":"format")+"-"+p[g-3]].concat(),e.strict||(b=b.replace(".","").toLowerCase(),g=a.map(g,function(a){return a.replace(".","").toLowerCase()})),b=a.indexOf(g,b),-1==b)return!1}else b--;k[1]=b;break;case "E":case "e":case "c":g=f["days-"+("c"==d?"standAlone":"format")+"-"+p[g-3]].concat();e.strict||(b=b.toLowerCase(),g=a.map(g,function(a){return a.toLowerCase()}));b=a.indexOf(g,b);if(-1==b)return!1;
break;case "D":k[1]=0;case "d":k[2]=b;break;case "a":g=e.am||f["dayPeriods-format-wide-am"];d=e.pm||f["dayPeriods-format-wide-pm"];if(!e.strict){var q=/\./g;b=b.replace(q,"").toLowerCase();g=g.replace(q,"").toLowerCase();d=d.replace(q,"").toLowerCase()}if(e.strict&&b!=g&&b!=d)return!1;r=b==d?"p":b==g?"a":"";break;case "K":24==b&&(b=0);case "h":case "H":case "k":if(23<b)return!1;k[3]=b;break;case "m":k[4]=b;break;case "s":k[5]=b;break;case "S":k[6]=b}return!0}),d=+k[3];"p"===r&&12>d?k[3]=d+12:"a"===
r&&12==d&&(k[3]=0);d=new Date(k[0],k[1],k[2],k[3],k[4],k[5],k[6]);e.strict&&d.setFullYear(k[0]);var q=h.join(""),u=-1!=q.indexOf("d"),q=-1!=q.indexOf("M");if(!c||q&&d.getMonth()>k[1]||u&&d.getDate()>k[2])return null;if(q&&d.getMonth()<k[1]||u&&d.getDate()<k[2])d=g.add(d,"hour",1);return d};var y=["abbr","wide","narrow"],r=[],u={};z.addCustomFormats=function(a,b){r.push({pkg:a,name:b});u={}};z._getGregorianBundle=function(b){if(u[b])return u[b];var e={};a.forEach(r,function(a){a=d.getLocalization(a.pkg,
a.name,b);e=n.mixin(e,a)},this);return u[b]=e};z.addCustomFormats(c.id.replace(/\/date\/locale$/,".cldr"),"gregorian");z.getNames=function(a,b,e,c){var d;c=z._getGregorianBundle(c);a=[a,e,b];"standAlone"==e&&(e=a.join("-"),d=c[e],1==d[0]&&(d=void 0));a[1]="format";return(d||c[a.join("-")]).concat()};z.isWeekend=function(a,b){var e=q.getWeekend(b),c=(a||new Date).getDay();e.end<e.start&&(e.end+=7,c<e.start&&(c+=7));return c>=e.start&&c<=e.end};z._getDayOfYear=function(a){return g.difference(new Date(a.getFullYear(),
0,1,a.getHours()),a)+1};z._getWeekOfYear=function(a,b){1==arguments.length&&(b=0);var e=(new Date(a.getFullYear(),0,1)).getDay(),c=(e-b+7)%7,c=Math.floor((z._getDayOfYear(a)+c-1)/7);e==b&&c++;return c};return z})},"dojo/cldr/supplemental":function(){define(["../_base/lang","../i18n"],function(n,a){var g={};n.setObject("dojo.cldr.supplemental",g);g.getFirstDayOfWeek=function(a){a={bd:5,mv:5,ae:6,af:6,bh:6,dj:6,dz:6,eg:6,iq:6,ir:6,jo:6,kw:6,ly:6,ma:6,om:6,qa:6,sa:6,sd:6,sy:6,ye:6,ag:0,ar:0,as:0,au:0,
br:0,bs:0,bt:0,bw:0,by:0,bz:0,ca:0,cn:0,co:0,dm:0,"do":0,et:0,gt:0,gu:0,hk:0,hn:0,id:0,ie:0,il:0,"in":0,jm:0,jp:0,ke:0,kh:0,kr:0,la:0,mh:0,mm:0,mo:0,mt:0,mx:0,mz:0,ni:0,np:0,nz:0,pa:0,pe:0,ph:0,pk:0,pr:0,py:0,sg:0,sv:0,th:0,tn:0,tt:0,tw:0,um:0,us:0,ve:0,vi:0,ws:0,za:0,zw:0}[g._region(a)];return void 0===a?1:a};g._region=function(g){g=a.normalizeLocale(g);g=g.split("-");var d=g[1];d?4==d.length&&(d=g[2]):d={aa:"et",ab:"ge",af:"za",ak:"gh",am:"et",ar:"eg",as:"in",av:"ru",ay:"bo",az:"az",ba:"ru",be:"by",
bg:"bg",bi:"vu",bm:"ml",bn:"bd",bo:"cn",br:"fr",bs:"ba",ca:"es",ce:"ru",ch:"gu",co:"fr",cr:"ca",cs:"cz",cv:"ru",cy:"gb",da:"dk",de:"de",dv:"mv",dz:"bt",ee:"gh",el:"gr",en:"us",es:"es",et:"ee",eu:"es",fa:"ir",ff:"sn",fi:"fi",fj:"fj",fo:"fo",fr:"fr",fy:"nl",ga:"ie",gd:"gb",gl:"es",gn:"py",gu:"in",gv:"gb",ha:"ng",he:"il",hi:"in",ho:"pg",hr:"hr",ht:"ht",hu:"hu",hy:"am",ia:"fr",id:"id",ig:"ng",ii:"cn",ik:"us","in":"id",is:"is",it:"it",iu:"ca",iw:"il",ja:"jp",ji:"ua",jv:"id",jw:"id",ka:"ge",kg:"cd",ki:"ke",
kj:"na",kk:"kz",kl:"gl",km:"kh",kn:"in",ko:"kr",ks:"in",ku:"tr",kv:"ru",kw:"gb",ky:"kg",la:"va",lb:"lu",lg:"ug",li:"nl",ln:"cd",lo:"la",lt:"lt",lu:"cd",lv:"lv",mg:"mg",mh:"mh",mi:"nz",mk:"mk",ml:"in",mn:"mn",mo:"ro",mr:"in",ms:"my",mt:"mt",my:"mm",na:"nr",nb:"no",nd:"zw",ne:"np",ng:"na",nl:"nl",nn:"no",no:"no",nr:"za",nv:"us",ny:"mw",oc:"fr",om:"et",or:"in",os:"ge",pa:"in",pl:"pl",ps:"af",pt:"br",qu:"pe",rm:"ch",rn:"bi",ro:"ro",ru:"ru",rw:"rw",sa:"in",sd:"in",se:"no",sg:"cf",si:"lk",sk:"sk",sl:"si",
sm:"ws",sn:"zw",so:"so",sq:"al",sr:"rs",ss:"za",st:"za",su:"id",sv:"se",sw:"tz",ta:"in",te:"in",tg:"tj",th:"th",ti:"et",tk:"tm",tl:"ph",tn:"za",to:"to",tr:"tr",ts:"za",tt:"ru",ty:"pf",ug:"cn",uk:"ua",ur:"pk",uz:"uz",ve:"za",vi:"vn",wa:"be",wo:"sn",xh:"za",yi:"il",yo:"ng",za:"cn",zh:"cn",zu:"za",ace:"id",ady:"ru",agq:"cm",alt:"ru",amo:"ng",asa:"tz",ast:"es",awa:"in",bal:"pk",ban:"id",bas:"cm",bax:"cm",bbc:"id",bem:"zm",bez:"tz",bfq:"in",bft:"pk",bfy:"in",bhb:"in",bho:"in",bik:"ph",bin:"ng",bjj:"in",
bku:"ph",bqv:"ci",bra:"in",brx:"in",bss:"cm",btv:"pk",bua:"ru",buc:"yt",bug:"id",bya:"id",byn:"er",cch:"ng",ccp:"in",ceb:"ph",cgg:"ug",chk:"fm",chm:"ru",chp:"ca",chr:"us",cja:"kh",cjm:"vn",ckb:"iq",crk:"ca",csb:"pl",dar:"ru",dav:"ke",den:"ca",dgr:"ca",dje:"ne",doi:"in",dsb:"de",dua:"cm",dyo:"sn",dyu:"bf",ebu:"ke",efi:"ng",ewo:"cm",fan:"gq",fil:"ph",fon:"bj",fur:"it",gaa:"gh",gag:"md",gbm:"in",gcr:"gf",gez:"et",gil:"ki",gon:"in",gor:"id",grt:"in",gsw:"ch",guz:"ke",gwi:"ca",haw:"us",hil:"ph",hne:"in",
hnn:"ph",hoc:"in",hoj:"in",ibb:"ng",ilo:"ph",inh:"ru",jgo:"cm",jmc:"tz",kaa:"uz",kab:"dz",kaj:"ng",kam:"ke",kbd:"ru",kcg:"ng",kde:"tz",kdt:"th",kea:"cv",ken:"cm",kfo:"ci",kfr:"in",kha:"in",khb:"cn",khq:"ml",kht:"in",kkj:"cm",kln:"ke",kmb:"ao",koi:"ru",kok:"in",kos:"fm",kpe:"lr",krc:"ru",kri:"sl",krl:"ru",kru:"in",ksb:"tz",ksf:"cm",ksh:"de",kum:"ru",lag:"tz",lah:"pk",lbe:"ru",lcp:"cn",lep:"in",lez:"ru",lif:"np",lis:"cn",lki:"ir",lmn:"in",lol:"cd",lua:"cd",luo:"ke",luy:"ke",lwl:"th",mad:"id",mag:"in",
mai:"in",mak:"id",man:"gn",mas:"ke",mdf:"ru",mdh:"ph",mdr:"id",men:"sl",mer:"ke",mfe:"mu",mgh:"mz",mgo:"cm",min:"id",mni:"in",mnk:"gm",mnw:"mm",mos:"bf",mua:"cm",mwr:"in",myv:"ru",nap:"it",naq:"na",nds:"de","new":"np",niu:"nu",nmg:"cm",nnh:"cm",nod:"th",nso:"za",nus:"sd",nym:"tz",nyn:"ug",pag:"ph",pam:"ph",pap:"bq",pau:"pw",pon:"fm",prd:"ir",raj:"in",rcf:"re",rej:"id",rjs:"np",rkt:"in",rof:"tz",rwk:"tz",saf:"gh",sah:"ru",saq:"ke",sas:"id",sat:"in",saz:"in",sbp:"tz",scn:"it",sco:"gb",sdh:"ir",seh:"mz",
ses:"ml",shi:"ma",shn:"mm",sid:"et",sma:"se",smj:"se",smn:"fi",sms:"fi",snk:"ml",srn:"sr",srr:"sn",ssy:"er",suk:"tz",sus:"gn",swb:"yt",swc:"cd",syl:"bd",syr:"sy",tbw:"ph",tcy:"in",tdd:"cn",tem:"sl",teo:"ug",tet:"tl",tig:"er",tiv:"ng",tkl:"tk",tmh:"ne",tpi:"pg",trv:"tw",tsg:"ph",tts:"th",tum:"mw",tvl:"tv",twq:"ne",tyv:"ru",tzm:"ma",udm:"ru",uli:"fm",umb:"ao",unr:"in",unx:"in",vai:"lr",vun:"tz",wae:"ch",wal:"et",war:"ph",xog:"ug",xsr:"np",yao:"mz",yap:"fm",yav:"cm",zza:"tr"}[g[0]];return d};g.getWeekend=
function(a){var d=g._region(a);a={"in":0,af:4,dz:4,ir:4,om:4,sa:4,ye:4,ae:5,bh:5,eg:5,il:5,iq:5,jo:5,kw:5,ly:5,ma:5,qa:5,sd:5,sy:5,tn:5}[d];d={af:5,dz:5,ir:5,om:5,sa:5,ye:5,ae:6,bh:5,eg:6,il:6,iq:6,jo:6,kw:6,ly:6,ma:6,qa:6,sd:6,sy:6,tn:6}[d];void 0===a&&(a=6);void 0===d&&(d=0);return{start:a,end:d}};return g})},"esri/layers/vectorTiles/views/vectorTiles/WorkerTileHandler":function(){define("require exports dojo/Deferred ../../core/promiseUtils ./WorkerTile ./style/StyleRepository".split(" "),function(n,
a,g,q,d,f){return function(){function a(){this._tiles=new Map;this._spriteInfo={};this._glyphInfo={}}a.prototype.reset=function(){var a=new g;this._spriteInfo={};this._glyphInfo={};var c=this._tiles;c.forEach(function(a){return a.setObsolete()});c.clear();a.resolve();return a.promise};a.prototype.getLayers=function(){return this._layers};a.prototype.setLayers=function(a){this._layers=(new f(a)).layers;return q.resolve({data:""})};a.prototype.getTile=function(a,c){var b=this,e=a.key,f=d.pool.acquire();
f.initialize(a.key,a.refKey,this,a.rotation);var k=a.cacheTile;return c.invoke("fetchTileData",a.refKey).then(function(a){return f.setDataAndParse(a.protobuff,c).then(function(a){k&&6!==f.status&&b._tiles.set(e,f);return a}).otherwise(function(a){f.setObsolete();d.pool.release(f);b._tiles["delete"](f.tileKey);return q.reject(a)})}).otherwise(function(a){f.setObsolete();if(b._tiles.has(f.tileKey))b._tiles["delete"](f.tileKey);return q.reject(a)}).always(function(a){k||d.pool.release(f);return a})};
a.prototype.update=function(a){var b=this._tiles.get(a.key);return b?b.updateSymbols(a.rotation):q.reject()};a.prototype.destructTileData=function(a){this._tiles.has(a.key)&&(d.pool.release(this._tiles.get(a.key)),this._tiles["delete"](a.key));return q.resolve()};a.prototype.fetchSprites=function(a,c){var b=[],e=this._spriteInfo;a.forEach(function(a){void 0===e[a]&&b.push(a)});return 0===b.length?q.resolve():c.invoke("getSprites",{sprites:b}).then(function(a){a=a.spriteItems;for(var b in a)e[b]=a[b]})};
a.prototype.getSpriteItems=function(){return this._spriteInfo};a.prototype.fetchGlyphs=function(a,c,d,e){var b=[],h=this._glyphInfo[c];h?d.forEach(function(a){h[a]||b.push(a)}):(h=this._glyphInfo[c]=[],d.forEach(function(a){return b.push(a)}));return 0===b.length?q.resolve():e.invoke("getGlyphs",{tileID:a,font:c,codePoints:b}).then(function(a){a=a.glyphItems;for(var b in a)h[b]=a[b]})};a.prototype.getGlyphItems=function(a){return this._glyphInfo[a]};return a}()})},"esri/layers/vectorTiles/core/promiseUtils":function(){define("require exports dojo/Deferred dojo/promise/all dojo/when ./Error".split(" "),
function(n,a,g,q,d,f){function k(a){if(a){if("function"!==typeof a.forEach){var b=Object.keys(a),d=b.map(function(b){return a[b]});return k(d).then(function(a){var e={};b.forEach(function(b,c){return e[b]=a[c]});return e})}var e=new g,f=[],q=a.length;0===q&&e.resolve(f);a.forEach(function(a){var b={promise:a};f.push(b);a.then(function(a){b.value=a}).otherwise(function(a){b.error=a}).then(function(){--q;0===q&&e.resolve(f)})});return e.promise}}Object.defineProperty(a,"__esModule",{value:!0});a.all=
function(a){return q(a)};a.filter=function(a,c){var b=a.slice();return q(a.map(function(a,b){return c(a,b)})).then(function(a){return b.filter(function(b,e){return a[e]})})};a.eachAlways=k;a.create=function(a,c){var b=new g(c);a(function(a){void 0===a&&(a=null);return d(a).then(b.resolve)},b.reject);return b.promise};a.reject=function(a){var b=new g;b.reject(a);return b.promise};a.resolve=function(a){void 0===a&&(a=null);var b=new g;b.resolve(a);return b.promise};a.after=function(a,d){void 0===d&&
(d=null);var b=0,e=new g(function(){b&&(clearTimeout(b),b=0)}),b=setTimeout(function(){e.resolve(d)},a);return e.promise};a.timeout=function(a,d,h){var b=0,c=new g(a.cancel);a.then(function(a){c.isFulfilled()||(c.resolve(a),b&&(clearTimeout(b),b=0))});a.otherwise(function(a){c.isFulfilled()||(c.reject(a),b&&(clearTimeout(b),b=0))});b=setTimeout(function(){var a=h||new f("promiseUtils:timeout","The wrapped promise did not resolve within "+d+" ms");c.reject(a)},d);return c.promise};a.wrapCallback=function(a){var b=
!1,d=new g(function(){return b=!0});a(function(a){b||d.resolve(a)});return d.promise};a.isThenable=function(a){return a&&"function"===typeof a.then};a.when=function(a){return d(a)}})},"dojo/promise/all":function(){define(["../_base/array","../Deferred","../when"],function(n,a,g){var q=n.some;return function(d){var f,k;d instanceof Array?k=d:d&&"object"===typeof d&&(f=d);var b,c=[];if(f){k=[];for(var h in f)Object.hasOwnProperty.call(f,h)&&(c.push(h),k.push(f[h]));b={}}else k&&(b=[]);if(!k||!k.length)return(new a).resolve(b);
var e=new a;e.promise.always(function(){b=c=null});var p=k.length;q(k,function(a,d){f||c.push(d);g(a,function(a){e.isFulfilled()||(b[c[d]]=a,0===--p&&e.resolve(b))},e.reject);return e.isFulfilled()});return e.promise}})},"dojo/when":function(){define(["./Deferred","./promise/Promise"],function(n,a){return function(g,q,d,f){var k=g&&"function"===typeof g.then,b=k&&g instanceof a;if(!k)return 1<arguments.length?q?q(g):g:(new n).resolve(g);b||(k=new n(g.cancel),g.then(k.resolve,k.reject,k.progress),
g=k.promise);return q||d||f?g.then(q,d,f):g}})},"esri/layers/vectorTiles/views/vectorTiles/WorkerTile":function(){define("require exports dojo/Deferred ../../core/promiseUtils ../../core/executeAsync ../../core/ObjectPool ./VertexMemoryBuffer ./IndexMemoryBuffer ./TileParser ./BackgroundBucket ./FillBucket ./LineBucket ./SymbolBucket ./Placement ./GeometryUtils".split(" "),function(n,a,g,q,d,f,k,b,c,h,e,p,z,y,r){return function(){function a(){this.status=this.rotation=0;this._symbolBuckets=[];this.placementEngine=
new y.PlacementEngine;this.fillVertexBuffer=new k.FillVertexBuffer(!1);this.fillDDVertexBuffer=new k.FillVertexBuffer(!0);this.fillIndexBuffer=new b.TriangleIndexBuffer;this.outlineVertexBuffer=new k.OutlineVertexBuffer(!1);this.outlineDDVertexBuffer=new k.OutlineVertexBuffer(!0);this.outlineIndexBuffer=new b.TriangleIndexBuffer;this.lineVertexBuffer=new k.LineVertexBuffer(!1);this.lineDDVertexBuffer=new k.LineVertexBuffer(!0);this.lineIndexBuffer=new b.TriangleIndexBuffer;this.iconVertexBuffer=new k.SymbolVertexBuffer(!1);
this.iconDDVertexBuffer=new k.SymbolVertexBuffer(!0);this.iconIndexBuffer=new b.TriangleIndexBuffer;this.textVertexBuffer=new k.SymbolVertexBuffer(!1);this.textDDVertexBuffer=new k.SymbolVertexBuffer(!0);this.textIndexBuffer=new b.TriangleIndexBuffer}a.prototype.initialize=function(a,b,e,d){void 0===d&&(d=0);this.tileKey=a;this.refKey=b;this._workerTileHandler=e;this.rotation=d;this.placementEngine.setAngle(r.C_DEG_TO_RAD*d)};a.prototype.release=function(){this.tileKey=this.refKey="";this.rotation=
this.status=0;this.fillVertexBuffer.reset();this.fillDDVertexBuffer.reset();this.fillIndexBuffer.reset();this.outlineVertexBuffer.reset();this.outlineDDVertexBuffer.reset();this.outlineIndexBuffer.reset();this.lineVertexBuffer.reset();this.lineDDVertexBuffer.reset();this.lineIndexBuffer.reset();this.iconVertexBuffer.reset();this.iconDDVertexBuffer.reset();this.iconIndexBuffer.reset();this.textVertexBuffer.reset();this.textDDVertexBuffer.reset();this.textIndexBuffer.reset();this.placementEngine.reset();
this._symbolBuckets.length=0;this._workerTileHandler=null};a.prototype.setDataAndParse=function(a,b){var d=this,c=new g(function(a){d.status=6});this._parse(a,b).then(function(a){d.status=4;for(var b=new Uint32Array([1,d.fillVertexBuffer.sizeInBytes,2,d.fillDDVertexBuffer.sizeInBytes,3,d.fillIndexBuffer.sizeInBytes,4,d.outlineVertexBuffer.sizeInBytes,5,d.outlineDDVertexBuffer.sizeInBytes,6,d.outlineIndexBuffer.sizeInBytes,7,d.lineVertexBuffer.sizeInBytes,8,d.lineDDVertexBuffer.sizeInBytes,9,d.lineIndexBuffer.sizeInBytes,
10,d.iconVertexBuffer.sizeInBytes,11,d.iconDDVertexBuffer.sizeInBytes,12,d.iconIndexBuffer.sizeInBytes,13,d.textVertexBuffer.sizeInBytes,14,d.textDDVertexBuffer.sizeInBytes,15,d.textIndexBuffer.sizeInBytes]),f=[],k=a.length,g=0;g<k;g++){var r=a[g];if(r instanceof e)f.push(r.layerIndex),f.push(1),f.push(r.fillIndexStart),f.push(r.fillIndexCount),f.push(r.outlineIndexStart),f.push(r.outlineIndexCount);else if(r instanceof p)f.push(r.layerIndex),f.push(2),f.push(r.lineIndexStart),f.push(r.lineIndexCount),
f.push(r.connectorStart),f.push(r.connectorCount);else if(r instanceof z){f.push(r.layerIndex);f.push(3);f.push(r.sdfMarker?1:0);var q=r.markerPageMap;f.push(q.size);q.forEach(function(a,b){f.push(b);f.push(a[0]);f.push(a[1])});r=r.glyphsPageMap;f.push(r.size);r.forEach(function(a,b){f.push(b);f.push(a[0]);f.push(a[1])})}else r instanceof h&&(f.push(r.layerIndex),f.push(0))}a=new Uint32Array(f);var k=d.fillVertexBuffer.toBuffer(),g=d.fillDDVertexBuffer.toBuffer(),r=d.fillIndexBuffer.toBuffer(),q=
d.outlineVertexBuffer.toBuffer(),u=d.outlineDDVertexBuffer.toBuffer(),y=d.outlineIndexBuffer.toBuffer(),x=d.lineVertexBuffer.toBuffer(),A=d.lineDDVertexBuffer.toBuffer(),C=d.lineIndexBuffer.toBuffer(),w=d.iconVertexBuffer.toBuffer(),G=d.iconDDVertexBuffer.toBuffer(),H=d.iconIndexBuffer.toBuffer(),R=d.textVertexBuffer.toBuffer(),E=d.textDDVertexBuffer.toBuffer(),J=d.textIndexBuffer.toBuffer();c.resolve({data:{bufferDataInfo:b.buffer,bucketDataInfo:a.buffer,bufferData:[k,g,r,q,u,y,x,A,C,w,G,H,R,E,J]},
buffers:[k,g,r,q,u,y,x,A,C,w,G,H,R,E,J,b.buffer,a.buffer]})});return c.promise};a.prototype.addBucket=function(a){this._symbolBuckets.push(a)};a.prototype.updateSymbols=function(a){var b=this,e=this._symbolBuckets;if(!e||0===e.length)return q.resolve({data:null,buffers:null});this.rotation=a;var c=this.placementEngine;c.reset();c.setAngle(a/256*360*r.C_DEG_TO_RAD);var h=this.iconVertexBuffer;h.reset();var f=this.iconDDVertexBuffer;f.reset();var k=this.iconIndexBuffer;k.reset();var p=this.textVertexBuffer;
p.reset();var g=this.textDDVertexBuffer;g.reset();var u=this.textIndexBuffer;u.reset();var z=[],y=e.length,x=0;return d(function(){if(6===b.status||0===b.status)return!0;if(x<y){var a=e[x++],d=a.layer;if(a=a.copy(d.hasDataDrivenIcon?f:h,k,d.hasDataDrivenText?g:p,u,c))z.push(a),a.updateSymbols()}return x>=y},5).then(function(){if(6===b.status||0===b.status||0===h.sizeInBytes&&0===f.sizeInBytes&&0===k.sizeInBytes&&0===p.sizeInBytes&&0===g.sizeInBytes&&0===u.sizeInBytes)return{data:null,buffers:null};
var a=new Uint32Array([10,h.sizeInBytes,11,f.sizeInBytes,12,k.sizeInBytes,13,p.sizeInBytes,14,g.sizeInBytes,15,u.sizeInBytes]),e=[];y=z.length;for(var d=0;d<y;d++){var c=z[d];e.push(c.layerIndex);e.push(3);e.push(c.sdfMarker?1:0);var r=c.markerPageMap;e.push(r.size);r.forEach(function(a,b){e.push(b);e.push(a[0]);e.push(a[1])});c=c.glyphsPageMap;e.push(c.size);c.forEach(function(a,b){e.push(b);e.push(a[0]);e.push(a[1])})}var d=new Uint32Array(e),c=h.toBuffer(),r=f.toBuffer(),q=k.toBuffer(),B=p.toBuffer(),
x=g.toBuffer(),A=u.toBuffer();return{data:{bufferDataInfo:a.buffer,bucketDataInfo:d.buffer,bufferData:[c,r,q,B,x,A]},buffers:[c,r,q,B,x,A,a.buffer,d.buffer]}}).otherwise(function(a){return q.resolve({data:null,buffers:null})})};a.prototype.setObsolete=function(){this.status=6};a.prototype.getLayers=function(){return this._workerTileHandler.getLayers()};a.prototype.getWorkerTileHandler=function(){return this._workerTileHandler};a.prototype._parse=function(a,b){if(!a||0===a.byteLength)return q.resolve([]);
this.status=2;return(new c(a,this,b)).parse()};a.pool=new f(a);return a}()})},"esri/layers/vectorTiles/core/executeAsync":function(){define(["require","exports","dojo/Deferred","./now"],function(n,a,g,q){return function(a,f){var d;if(!f||0>=f)f=500;var b=new g(function(){d&&clearTimeout(d)}),c=function(){if(!b.isFulfilled()){for(var h=q(),e=!1;!e&&q()-h<f;)e=!0===a();e?b.resolve():d=setTimeout(c,0)}};d=setTimeout(c,0);return b.promise}})},"esri/layers/vectorTiles/core/now":function(){define(["require",
"exports","./global"],function(n,a,g){return function(){var a=g.performance||{};if(a.now)return function(){return a.now()};if(a.webkitNow)return function(){return a.webkitNow()};if(a.mozNow)return function(){return a.mozNow()};if(a.msNow)return function(){return a.msNow()};if(a.oNow)return function(){return a.oNow()};var d;d=a.timing&&a.timing.navigationStart?a.timing.navigationStart:Date.now();return function(){return Date.now()-d}}()})},"esri/layers/vectorTiles/core/global":function(){define(["require",
"exports"],function(n,a){return function(){if("undefined"!==typeof global)return global;if("undefined"!==typeof window)return window;if("undefined"!==typeof self)return self}()})},"esri/layers/vectorTiles/core/ObjectPool":function(){define(["require","exports"],function(n,a){var g=function(){return function(){}}();return function(){function a(a,f,k,b,c){void 0===b&&(b=1);void 0===c&&(c=0);this.classConstructor=a;this.acquireFunctionOrWithConstructor=f;this.releaseFunction=k;this.growthSize=b;!0===
f?this.acquireFunction=this._constructorAcquireFunction:"function"===typeof f&&(this.acquireFunction=f);this._pool=Array(c);this._set=new Set;this._initialSize=c;for(a=0;a<c;a++)this._pool[a]=new this.classConstructor;this.growthSize=Math.max(b,1)}a.prototype.acquire=function(){for(var a=[],f=0;f<arguments.length;f++)a[f]=arguments[f];f=this.classConstructor||g;if(0===this._pool.length)for(var k=this.growthSize,b=0;b<k;b++)this._pool[b]=new f;f=this._pool.shift();this.acquireFunction?this.acquireFunction.apply(this,
[f].concat(a)):f&&f.acquire&&"function"===typeof f.acquire&&f.acquire.apply(f,a);this._set.delete(f);return f};a.prototype.release=function(a){a&&!this._set.has(a)&&(this.releaseFunction?this.releaseFunction(a):a&&a.release&&"function"===typeof a.release&&a.release(),this._pool.push(a),this._set.add(a))};a.prototype.prune=function(){if(!(this._pool.length<=this._initialSize))for(var a;this._initialSize>this._pool.length;)a=this._pool.shift(),this._set.delete(a),a.dispose&&"function"===typeof a.dispose&&
a.dispose()};a.prototype._constructorAcquireFunction=function(a){for(var d=[],k=1;k<arguments.length;k++)d[k-1]=arguments[k];(b=this.classConstructor).call.apply(b,[a].concat(d));var b};return a}()})},"esri/layers/vectorTiles/views/vectorTiles/VertexMemoryBuffer":function(){define("require exports ../../core/tsSupport/extendsHelper ../../core/tsSupport/decorateHelper ./MemoryBuffer ./GeometryUtils".split(" "),function(n,a,g,q,d,f){Object.defineProperty(a,"__esModule",{value:!0});var k=new Float32Array(1),
b=new Uint32Array(k.buffer);n=function(a){function c(b){var e=a.call(this,b?20:12)||this;e._isDataDriven=b;return e}g(c,a);c.prototype.isDataDriven=function(){return this._isDataDriven};c.prototype.add=function(a,c,h,f,g,q,x,A){var e=this.array;a=d.i1616to32(a,c);e.push(a);a=d.i8888to32(Math.round(31*h),Math.round(31*f),Math.round(31*g),Math.round(31*q));e.push(a);a=d.i1616to32(x,0);e.push(a);if(this._isDataDriven){if(!A)throw Error("Expecting data driven values.");h=A.color;f=h[3]*A.opacity*255;
e.push(d.i8888to32(h[0]*f,h[1]*f,h[2]*f,f));k[0]=A.size;e.push(b[0])}};return c}(d);a.LineVertexBuffer=n;n=function(a){function b(b){var e=a.call(this,b?8:4)||this;e._isDataDriven=b;return e}g(b,a);b.prototype.isDataDriven=function(){return this._isDataDriven};b.prototype.add=function(a,b,c){var e=this.array;e.push(d.i1616to32(a,b));if(this._isDataDriven){if(!c)throw Error("Expecting data driven values.");a=c.color;c=a[3]*c.opacity*255;e.push(d.i8888to32(a[0]*c,a[1]*c,a[2]*c,c))}};return b}(d);a.FillVertexBuffer=
n;n=function(a){function b(b){var e=a.call(this,b?12:8)||this;e._isDataDriven=b;return e}g(b,a);b.prototype.isDataDriven=function(){return this._isDataDriven};b.prototype.add=function(a,b,c,h,f,k,g){var e=this.array,p=this.index;a=d.i1616to32(a,b);e.push(a);a=d.i8888to32(Math.round(15*c),Math.round(15*h),f,k);e.push(a);if(this._isDataDriven){if(!g)throw Error("Expecting data driven values.");c=g.color;g=c[3]*g.opacity*255;e.push(d.i8888to32(c[0]*g,c[1]*g,c[2]*g,g))}return p};return b}(d);a.OutlineVertexBuffer=
n;n=function(a){function c(b){var e=a.call(this,b?24:16)||this;e._isDataDriven=b;return e}g(c,a);c.prototype.isDataDriven=function(){return this._isDataDriven};c.prototype.add=function(a,c,h,g,r,q,x,A,J,C,E){var e=this.array;a=d.i1616to32(a,c);e.push(a);a=d.i1616to32(Math.round(32*h),Math.round(32*g));e.push(a);a=d.i8888to32(r/4,q/4,0,0);e.push(a);a=d.i8888to32(Math.ceil(10*C),f.radToByte(x),10*A,Math.min(10*J,255));e.push(a);if(this._isDataDriven){if(!E)throw Error("Expecting data driven values.");
h=E.color;g=h[3]*E.opacity*255;e.push(d.i8888to32(h[0]*g,h[1]*g,h[2]*g,g));k[0]=E.size;e.push(b[0])}};return c}(d);a.SymbolVertexBuffer=n})},"esri/layers/vectorTiles/core/tsSupport/decorateHelper":function(){define([],function(){return function(n,a,g,q){var d=arguments.length,f=3>d?a:null===q?q=Object.getOwnPropertyDescriptor(a,g):q,k;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)f=Reflect.decorate(n,a,g,q);else for(var b=n.length-1;0<=b;b--)if(k=n[b])f=(3>d?k(f):3<d?k(a,g,f):
k(a,g))||f;return 3<d&&f&&Object.defineProperty(a,g,f),f}})},"esri/layers/vectorTiles/views/vectorTiles/MemoryBuffer":function(){define(["require","exports"],function(n,a){return function(){function a(a){this._array=[];0>=a&&console.error("strideInBytes must be positive!");this._stride=a}Object.defineProperty(a.prototype,"array",{get:function(){return this._array},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"index",{get:function(){return 4*this._array.length/this._stride},enumerable:!0,
configurable:!0});Object.defineProperty(a.prototype,"itemSize",{get:function(){return this._stride},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"sizeInBytes",{get:function(){return 4*this._array.length},enumerable:!0,configurable:!0});a.prototype.reset=function(){this.array.length=0};a.prototype.toBuffer=function(){return(new Uint32Array(this._array)).buffer};a.i1616to32=function(a,d){return 65535&a|d<<16};a.i8888to32=function(a,d,f,k){return a&255|(d&255)<<8|(f&255)<<16|k<<
24};a.i8816to32=function(a,d,f){return a&255|(d&255)<<8|f<<16};return a}()})},"esri/layers/vectorTiles/views/vectorTiles/GeometryUtils":function(){define(["require","exports"],function(n,a){function g(a,f){a%=f;return 0<=a?a:a+f}Object.defineProperty(a,"__esModule",{value:!0});a.C_INFINITY=Number.POSITIVE_INFINITY;a.C_PI=Math.PI;a.C_2PI=2*a.C_PI;a.C_PI_BY_2=a.C_PI/2;a.C_RAD_TO_256=128/a.C_PI;a.C_256_TO_RAD=a.C_PI/128;a.C_DEG_TO_256=256/360;a.C_DEG_TO_RAD=a.C_PI/180;a.C_SQRT2=1.414213562;a.C_SQRT2_INV=
1/a.C_SQRT2;var q=1/Math.LN2;a.positiveMod=g;a.radToByte=function(d){return g(d*a.C_RAD_TO_256,256)};a.degToByte=function(d){return g(d*a.C_DEG_TO_256,256)};a.log2=function(a){return Math.log(a)*q};a.sqr=function(a){return a*a};a.clamp=function(a,f,k){return Math.min(Math.max(a,f),k)};a.interpolate=function(a,f,k){return a*(1-k)+f*k};a.between=function(a,f,k){return a>=f&&a<=k||a>=k&&a<=f}})},"esri/layers/vectorTiles/views/vectorTiles/IndexMemoryBuffer":function(){define(["require","exports","../../core/tsSupport/extendsHelper",
"../../core/tsSupport/decorateHelper","./MemoryBuffer"],function(n,a,g,q,d){Object.defineProperty(a,"__esModule",{value:!0});n=function(a){function d(){return a.call(this,12)||this}g(d,a);d.prototype.add=function(a,c,d){var b=this.array;b.push(a);b.push(c);b.push(d)};return d}(d);a.TriangleIndexBuffer=n;d=function(a){function d(){return a.call(this,4)||this}g(d,a);d.prototype.add=function(a){this.array.push(a)};return d}(d);a.PointElementMemoryBuffer=d})},"esri/layers/vectorTiles/views/vectorTiles/TileParser":function(){define("require exports dojo/promise/all ../../core/promiseUtils ../../core/executeAsync ../../core/pbf ./SourceLayerData ./Feature ./BackgroundBucket ./FillBucket ./LineBucket ./SymbolBucket ../2d/engine/webgl/TileClipper".split(" "),
function(n,a,g,q,d,f,k,b,c,h,e,p,z){return function(){function a(a,b,e){this._pbfTile=new f(new Uint8Array(a),new DataView(a));this._tile=b;this._connection=e;this._layers=b.getLayers();e=b.tileKey.split("/").map(parseFloat);var c=e[0];a=e[1];e=e[2];this._level=c;b.refKey&&(b=b.refKey.split("/").map(parseFloat)[0],b=c-b,0<b&&(c=(1<<b)-1,this._tileClipper=new z.TileClipper(b,a&c,e&c)));this._tileClipper||(this._tileClipper=new z.SimpleBuilder)}a.prototype.parse=function(){for(var a=this,e=this._parseTileData(this._pbfTile),
c=this._layers,h=c.length,f=this._level,k,p=[],z={},y=new Set,h=h-1;0<=h;h--)if(k=c[h],!(k.minzoom&&f<k.minzoom||k.maxzoom&&f>=k.maxzoom||k.layout&&"none"===k.layout.visibility))if(0===k.type)k=this._createBucket(k),k.layerIndex=h,p.push(k);else{var K=k.sourceLayer,n=e[K];n&&(y.add(K),k=this._createBucket(k))&&(k.layerIndex=h,k.layerExtent=n.extent,(n=z[K])||(n=z[K]=[]),n.push(k))}var Q=10*this._level,F=10*(this._level+1),D=[],I=[],N=[],S=[],L=this._tileClipper,w=new Set,G={},H=[];y.forEach(function(a){return H.push(a)});
var R=0,M=0,T=H.length;return d(function(){if(6===a._tile.status)return!0;switch(R){case 0:if(M<T){var c=H[M++],d=e[c],h=z[c];if(h&&0!==h.length)for(c=d.getData();c.next(2);){var f=new b(c.getMessage(),d),k=f.values;if(k){var p=k._minzoom;if(p&&p>=F)continue;if((k=k._maxzoom)&&k<=Q)continue}for(var p=0,g=h;p<g.length;p++)k=g[p],k.pushFeature(f)}}else{d=a._tile;for(c in z)for(h=z[c],f=0;f<h.length;f++)k=h[f],k.hasFeatures()&&(3===k.layer.type?(D.push(k),d.addBucket(k)):k.layer.refLayerId?N.push(k):
(I.push(k),S[k.layer.id]=k));R=1;M=0;T=D.length}break;case 1:M<T?D[M++].getResources(L,w,G):R=2}return 2===R},50).then(function(){if(6===a._tile.status)return[];var b=[],e=a._tile.getWorkerTileHandler(),c;0<w.size&&(c=e.fetchSprites(w,a._connection),b.push(c));for(var h in G)c=G[h],0<c.size&&(c=e.fetchGlyphs(a._tile.tileKey,h,c,a._connection),b.push(c));return g(b).then(function(b){if(6===a._tile.status)return[];var e=0,c=0,h=I.length;return d(function(){if(6===a._tile.status)return!0;switch(e){case 0:if(c<
h){var b=I[c++];b.processFeatures(L,a._tile);p.push(b)}else e=1,c=0,h=N.length;break;case 1:for(var d=0;d<N.length;d++){var b=N[d],f=S[b.layer.refLayerId];f&&(f.assignBufferInfo(b),p.push(b))}e=2;c=0;h=D.length;break;case 2:c<h?(b=D[c++],b.processFeatures(L,a._tile),p.push(b)):e=3}return 3===e},50).then(function(){p.sort(function(a,b){return a.layerIndex-b.layerIndex});return p})}).otherwise(function(a){return q.reject(Error(a))})}).otherwise(function(a){return q.reject(Error(a))})};a.prototype._parseTileData=
function(a){for(var b={};a.next();)switch(a.tag()){case 3:var e=new k(a.getMessage());b[e.name]=e;break;default:a.skip()}return b};a.prototype._createBucket=function(a){switch(a.type){case 0:return this._createBackgroundBucket(a);case 1:return this._createFillBucket(a);case 2:return this._createLineBucket(a);case 3:return this._createSymbolBucket(a)}};a.prototype._createBackgroundBucket=function(a){return new c(a,this._level)};a.prototype._createFillBucket=function(a){var b=this._tile;return new h(a,
this._level,a.hasDataDrivenFill?b.fillDDVertexBuffer:b.fillVertexBuffer,b.fillIndexBuffer,a.hasDataDrivenOutline?b.outlineDDVertexBuffer:b.outlineVertexBuffer,b.outlineIndexBuffer)};a.prototype._createLineBucket=function(a){var b=this._tile;return new e(a,this._level,a.hasDataDrivenLine?b.lineDDVertexBuffer:b.lineVertexBuffer,b.lineIndexBuffer)};a.prototype._createSymbolBucket=function(a){var b=this._tile;return new p(a,this._level,a.hasDataDrivenIcon?b.iconDDVertexBuffer:b.iconVertexBuffer,b.iconIndexBuffer,
a.hasDataDrivenText?b.textDDVertexBuffer:b.textVertexBuffer,b.textIndexBuffer,b.placementEngine,b.getWorkerTileHandler())};return a}()})},"esri/layers/vectorTiles/core/pbf":function(){define(["require","exports"],function(n,a){return function(){function a(a,d,f,k){this._tag=0;this._dataType=99;this._data=a;this._dataView=d;this._pos=f||0;this._end=k||a.byteLength}a.prototype.clone=function(){return new a(this._data,this._dataView,this._pos,this._end)};a.prototype.next=function(a){for(;;){if(this._pos===
this._end)return!1;var d=this._decodeVarint();this._tag=d>>3;this._dataType=d&7;if(!a||a===this._tag)break;this.skip()}return!0};a.prototype.empty=function(){return this._pos>=this._end};a.prototype.tag=function(){return this._tag};a.prototype.getInt32=function(){return this._decodeVarint()};a.prototype.getInt64=function(){return this._decodeVarint()};a.prototype.getUInt32=function(){return this._decodeVarint()};a.prototype.getUInt64=function(){return this._decodeVarint()};a.prototype.getSInt32=function(){return this._decodeSVarint()};
a.prototype.getSInt64=function(){return this._decodeSVarint()};a.prototype.getBool=function(){var a=0!==this._data[this._pos];this._skip(1);return a};a.prototype.getEnum=function(){return this._decodeVarint()};a.prototype.getFixed64=function(){var a=this._dataView,d=this._pos,a=a.getUint32(d,!0)+4294967296*a.getUint32(d+4,!0);this._skip(8);return a};a.prototype.getSFixed64=function(){var a=this._dataView,d=this._pos,a=a.getUint32(d,!0)+4294967296*a.getInt32(d+4,!0);this._skip(8);return a};a.prototype.getDouble=
function(){var a=this._dataView.getFloat64(this._pos,!0);this._skip(8);return a};a.prototype.getFixed32=function(){var a=this._dataView.getUint32(this._pos,!0);this._skip(4);return a};a.prototype.getSFixed32=function(){var a=this._dataView.getInt32(this._pos,!0);this._skip(4);return a};a.prototype.getFloat=function(){var a=this._dataView.getFloat32(this._pos,!0);this._skip(4);return a};a.prototype.getString=function(){var a=this._getLength(),d=this._pos,d=this._toString(this._data,d,d+a);this._skip(a);
return d};a.prototype.getBytes=function(){var a=this._getLength(),d=this._pos,d=this._toBytes(this._data,d,d+a);this._skip(a);return d};a.prototype.getMessage=function(){var g=this._getLength(),d=this._pos,d=new a(this._data,this._dataView,d,d+g);this._skip(g);return d};a.prototype.skip=function(){switch(this._dataType){case 0:this._decodeVarint();break;case 1:this._skip(8);break;case 2:this._skip(this._getLength());break;case 5:this._skip(4);break;default:throw Error("Invalid data type!");}};a.prototype._skip=
function(a){if(this._pos+a>this._end)throw Error("Attempt to skip past the end of buffer!");this._pos+=a};a.prototype._decodeVarint=function(){var a=this._data,d=this._pos,f=0,k;if(10<=this._end-d){if(k=a[d++],f|=k&127,0!==(k&128)&&(k=a[d++],f|=(k&127)<<7,0!==(k&128)&&(k=a[d++],f|=(k&127)<<14,0!==(k&128)&&(k=a[d++],f|=(k&127)<<21,0!==(k&128)&&(k=a[d++],f+=268435456*(k&127),0!==(k&128)&&(k=a[d++],f+=34359738368*(k&127),0!==(k&128)&&(k=a[d++],f+=4398046511104*(k&127),0!==(k&128)&&(k=a[d++],f+=562949953421312*
(k&127),0!==(k&128)&&(k=a[d++],f+=72057594037927936*(k&127),0!==(k&128)&&(k=a[d++],f+=0x7fffffffffffffff*(k&127),0!==(k&128)))))))))))throw Error("Varint too long!");}else{for(var b=1;d!==this._end;){k=a[d];if(0===(k&128))break;++d;f+=(k&127)*b;b*=128}if(d===this._end)throw Error("Varint overrun!");++d;f+=k*b}this._pos=d;return f};a.prototype._decodeSVarint=function(){var a=this._decodeVarint();return a%2?-(a+1)/2:a/2};a.prototype._getLength=function(){if(2!==this._dataType)throw Error("Not a delimited data type!");
return this._decodeVarint()};a.prototype._toString=function(a,d,f){var k="",b="";for(f=Math.min(this._end,f);d<f;++d){var c=a[d];c&128?b+="%"+c.toString(16):(k+=decodeURIComponent(b)+String.fromCharCode(c),b="")}b.length&&(k+=decodeURIComponent(b));return k};a.prototype._toBytes=function(a,d,f){f=Math.min(this._end,f);return new Uint8Array(a.buffer,d,f-d)};return a}()})},"esri/layers/vectorTiles/views/vectorTiles/SourceLayerData":function(){define(["require","exports"],function(n,a){return function(){function a(g){this.extent=
4096;this.keys=[];this.values=[];for(this._pbfLayer=g.clone();g.next();)switch(g.tag()){case 1:this.name=g.getString();break;case 3:this.keys.push(g.getString());break;case 4:this.values.push(a._parseValue(g.getMessage()));break;case 5:this.extent=g.getUInt32();break;default:g.skip()}}a.prototype.getData=function(){return this._pbfLayer};a._parseValue=function(a){for(;a.next();)switch(a.tag()){case 1:return a.getString();case 2:return a.getFloat();case 3:return a.getDouble();case 4:return a.getInt64();
case 5:return a.getUInt64();case 6:return a.getSInt64();case 7:return a.getBool();default:a.skip()}return null};return a}()})},"esri/layers/vectorTiles/views/vectorTiles/Feature":function(){define(["require","exports","../2d/engine/webgl/Geometry"],function(n,a,g){return function(){function a(a,f){this.values={};for(var d=f.keys,b=f.values;a.next();)switch(a.tag()){case 1:this.id=a.getUInt64();break;case 2:for(var c=a.getMessage(),h=this.values;!c.empty();){var e=c.getUInt32(),p=c.getUInt32();h[d[e]]=
b[p]}break;case 3:this.type=a.getUInt32();break;case 4:this._pbfGeometry=a.getMessage();break;default:a.skip()}}a.prototype.getGeometry=function(a){if(void 0!==this._geometry)return this._geometry;var d=this._pbfGeometry,k,b;a?a.reset(this.type):k=[];for(var c=1,h=0,e=0,p=0;!d.empty();)switch(0===h&&(h=d.getUInt32(),c=h&7,h>>=3),h--,c){case 1:e+=d.getSInt32();p+=d.getSInt32();a?a.moveTo(e,p):(b&&k.push(b),b=[],b.push(new g.Point(e,p)));break;case 2:e+=d.getSInt32();p+=d.getSInt32();a?a.lineTo(e,p):
b.push(new g.Point(e,p));break;case 7:a?a.close():b&&!b[0].equals(e,p)&&b.push(b[0].clone());break;default:throw Error("Invalid path operation");}a?a=a.result():(b&&k.push(b),a=k);return this._geometry=a};return a}()})},"esri/layers/vectorTiles/views/2d/engine/webgl/Geometry":function(){define(["require","exports"],function(n,a){Object.defineProperty(a,"__esModule",{value:!0});var g=function(){function a(a,f){this.x=a;this.y=f}a.prototype.clone=function(){return new a(this.x,this.y)};a.prototype.equals=
function(a,f){return a===this.x&&f===this.y};a.prototype.isEqual=function(a){return a.x===this.x&&a.y===this.y};a.prototype.setCoords=function(a,f){this.x=a;this.y=f};a.prototype.normalize=function(){var a=this.x,f=this.y,a=Math.sqrt(a*a+f*f);this.x/=a;this.y/=a};a.prototype.rightPerpendicular=function(){var a=this.x;this.x=this.y;this.y=-a};a.prototype.move=function(a,f){this.x+=a;this.y+=f};a.prototype.assign=function(a){this.x=a.x;this.y=a.y};a.prototype.assignAdd=function(a,f){this.x=a.x+f.x;
this.y=a.y+f.y};a.prototype.assignSub=function(a,f){this.x=a.x-f.x;this.y=a.y-f.y};a.prototype.rotate=function(a,f){var d=this.x,b=this.y;this.x=d*a-b*f;this.y=d*f+b*a};a.prototype.scale=function(a){this.x*=a;this.y*=a};a.prototype.length=function(){var a=this.x,f=this.y;return Math.sqrt(a*a+f*f)};a.distance=function(a,f){var d=f.x-a.x,b=f.y-a.y;return Math.sqrt(d*d+b*b)};a.add=function(d,f){return new a(d.x+f.x,d.y+f.y)};a.sub=function(d,f){return new a(d.x-f.x,d.y-f.y)};return a}();a.Point=g})},
"esri/layers/vectorTiles/views/vectorTiles/BackgroundBucket":function(){define(["require","exports","../../core/tsSupport/extendsHelper","../../core/tsSupport/decorateHelper","./Bucket"],function(n,a,g,q,d){return function(a){function d(b,c){return a.call(this,b,c)||this}g(d,a);return d}(d)})},"esri/layers/vectorTiles/views/vectorTiles/Bucket":function(){define(["require","exports"],function(n,a){return function(){function a(a,d){this.layerExtent=4096;this._features=[];this.layer=a;this.zoom=d;this._filter=
a.getFeatureFilter()}a.prototype.pushFeature=function(a){this._filter.filter(a)&&this._features.push(a)};a.prototype.hasFeatures=function(){return 0<this._features.length};a.prototype.processFeatures=function(a,d){};a.prototype.assignBufferInfo=function(a){};return a}()})},"esri/layers/vectorTiles/views/vectorTiles/FillBucket":function(){define("require exports ../../core/tsSupport/extendsHelper ../../core/tsSupport/decorateHelper ../../core/ArrayPool ./Bucket ../2d/engine/webgl/Geometry ../../core/libs/earcut/earcut".split(" "),
function(n,a,g,q,d,f,k,b){return function(a){function c(b,c,d,h,f,k){c=a.call(this,b,c)||this;if(b.hasDataDrivenFill!==d.isDataDriven())throw Error("incompatible fill buffer");if(b.hasDataDrivenOutline!==f.isDataDriven())throw Error("incompatible outline buffer");c._fillVertexBuffer=d;c._fillIndexBuffer=h;c._outlineVertexBuffer=f;c._outlineIndexBuffer=k;return c}g(c,a);Object.defineProperty(c.prototype,"fillIndexStart",{get:function(){return this._fillIndexStart},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,
"fillIndexCount",{get:function(){return this._fillIndexCount},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"outlineIndexStart",{get:function(){return this._outlineIndexStart},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"outlineIndexCount",{get:function(){return this._outlineIndexCount},enumerable:!0,configurable:!0});c.prototype.assignBufferInfo=function(a){a._fillIndexStart=this._fillIndexStart;a._fillIndexCount=this._fillIndexCount;a.layer.getPaintProperty("fill-outline-color")?
(a._outlineIndexStart=this._outlineIndexStart,a._outlineIndexCount=this._outlineIndexCount):(a._outlineIndexStart=0,a._outlineIndexCount=0)};c.prototype.processFeatures=function(a,b){this._fillIndexStart=this._fillIndexBuffer.index;this._fillIndexCount=0;this._outlineIndexStart=this._outlineIndexBuffer.index;this._outlineIndexCount=0;var e=this.layer,c=this.zoom,d=e.hasDataDrivenFill,h=e.hasDataDrivenOutline;a&&a.setExtent(this.layerExtent);for(var f=e.getPaintValue("fill-pattern",c),k=e.getPaintValue("fill-antialias",
c)&&void 0===f,p=0,g=this._features;p<g.length;p++){var q=g[p],B=void 0;d&&(B={color:f?[1,1,1,1]:e.getPaintValue("fill-color",c,q),opacity:e.getPaintValue("fill-opacity",c,q)});var v=void 0;h&&(v={color:f?[1,1,1,1]:e.getPaintValue("fill-outline-color",c,q),opacity:e.getPaintValue("fill-opacity",c,q)});q=q.getGeometry(a);this._processFeature(q,k,B,v)}};c.prototype._processFeature=function(a,b,d,h){if(a){var e=a.length;if(b)for(b=0;b<e;b++)this._processOutline(a[b],h);var f;for(b=0;b<e;b++)h=c._area(a[b]),
128<h?(void 0!==f&&this._processFill(a,f,d),f=[b]):-128>h&&void 0!==f&&f.push(b);void 0!==f&&this._processFill(a,f,d)}};c.prototype._processOutline=function(a,b){var e=this._outlineVertexBuffer,c=this._outlineIndexBuffer,d=c.index,h,f,p,g=new k.Point(0,0),q=new k.Point(0,0),E=new k.Point(0,0),B=-1,v=-1,K=-1,n=-1,Q=-1,F=!1,D=a.length;if(!(2>D)){var I=a[0];for(h=a[D-1];D&&h.isEqual(I);)--D,h=a[D-1];if(!(2>D-0)){for(I=0;I<D;++I){0===I?(h=a[D-1],f=a[0],p=a[1],g.assignSub(f,h),g.normalize(),g.rightPerpendicular()):
(h=f,f=p,p=I!==D-1?a[I+1]:a[0],g.assign(q));h=this._isClipEdge(h,f);-1===n&&(F=h);q.assignSub(p,f);q.normalize();q.rightPerpendicular();K=g.x*q.y-g.y*q.x;E.assignAdd(g,q);E.normalize();var N=-E.x*-g.x+-E.y*-g.y,N=Math.abs(0!==N?1/N:1);8<N&&(N=8);0<=K?(K=e.add(f.x,f.y,g.x,g.y,0,1,b),-1===n&&(n=K),0<=B&&0<=v&&0<=K&&!h&&c.add(B,v,K),v=e.add(f.x,f.y,N*-E.x,N*-E.y,0,-1,b),-1===Q&&(Q=v),0<=B&&0<=v&&0<=K&&!h&&c.add(B,v,K),B=v,v=K,K=e.add(f.x,f.y,E.x,E.y,0,1,b),0<=B&&0<=v&&0<=K&&!h&&c.add(B,v,K),v=e.add(f.x,
f.y,q.x,q.y,0,1,b)):(K=e.add(f.x,f.y,N*E.x,N*E.y,0,1,b),-1===n&&(n=K),0<=B&&0<=v&&0<=K&&!h&&c.add(B,v,K),v=e.add(f.x,f.y,-g.x,-g.y,0,-1,b),-1===Q&&(Q=v),0<=B&&0<=v&&0<=K&&!h&&c.add(B,v,K),B=v,v=K,K=e.add(f.x,f.y,-E.x,-E.y,0,-1,b),0<=B&&0<=v&&0<=K&&!h&&c.add(B,v,K),B=e.add(f.x,f.y,-q.x,-q.y,0,-1,b));0<=B&&0<=v&&0<=K&&!h&&c.add(B,v,K)}0<=B&&0<=v&&0<=n&&!F&&c.add(B,v,n);0<=B&&0<=n&&0<=Q&&!F&&c.add(B,Q,n);this._outlineIndexCount+=3*(c.index-d)}}};c.prototype._processFill=function(a,c,h){var e;1<c.length&&
(e=[]);for(var f=0,k=0;k<c.length;k++){var p=c[k];0!==f&&e.push(f);f+=a[p].length}for(var k=2*f,f=d.acquire(),g=0;g<c.length;g++)for(var p=c[g],p=a[p],z=p.length,q=0;q<z;++q)f.push(p[q].x),f.push(p[q].y);a=b(f,e,2);c=a.length;if(0<c){e=this._fillVertexBuffer.index;for(g=0;g<k;)this._fillVertexBuffer.add(f[g++],f[g++],h);for(h=0;h<c;)this._fillIndexBuffer.add(e+a[h++],e+a[h++],e+a[h++]);this._fillIndexCount+=c}d.release(f)};c.prototype._isClipEdge=function(a,b){return a.x===b.x?-64>=a.x||4160<=a.x:
a.y===b.y?-64>=a.y||4160<=a.y:!1};c._area=function(a){for(var b=0,e=a.length-1,c=0;c<e;c++)b+=(a[c].x-a[c+1].x)*(a[c].y+a[c+1].y);b+=(a[e].x-a[0].x)*(a[e].y+a[0].y);return.5*b};return c}(f)})},"esri/layers/vectorTiles/core/ArrayPool":function(){define(["require","exports","./ObjectPool"],function(n,a,g){function q(a){a.length=0}var d=Array.prototype.splice;n=function(){function a(a,c){void 0===a&&(a=50);void 0===c&&(c=50);this._pool=new g(Array,!1,q,c,a)}a.prototype.acquire=function(){return this._pool.acquire()};
a.prototype.copy=function(a){var b=this.acquire();a.unshift(0,0);d.apply(b,a);a.splice(0,2);return b};a.prototype.release=function(a){this._pool.release(a)};a.acquire=function(){return f.acquire()};a.copy=function(a){return f.copy(a)};a.release=function(a){return f.release(a)};return a}();var f=new n(100);return n})},"esri/layers/vectorTiles/core/libs/earcut/earcut":function(){define([],function(){function n(b,e,d){d=d||2;C=b.length/d+(e?2*e.length:0);E=!1;var h=e&&e.length,p=h?e[0]*d:b.length,z=
a(b,0,p,d,!0),u=[];if(!z)return u;var B,y,x,v;if(h)a:{var w=d,h=[],G,H,R;v=0;for(G=e.length;v<G;v++)H=e[v]*w,R=v<G-1?e[v+1]*w:b.length,H=a(b,H,R,w,!1),H===H.next&&(H.steiner=!0),h.push(c(H));h.sort(f);for(v=0;v<h.length;v++){if(!z){z=null;break a}e=h[v];w=z;if(w=k(e,w))e=r(w,e),g(e,e.next);z=g(z,z.next)}}if(E)return u;if(b.length>80*d){B=x=b[0];y=h=b[1];for(w=d;w<p;w+=d)v=b[w],e=b[w+1],v<B&&(B=v),e<y&&(y=e),v>x&&(x=v),e>h&&(h=e);x=Math.max(x-B,h-y)}q(z,u,d,B,y,x);return u}function a(a,b,e,c,d){var h;
if(d===0<J(a,b,e,c))for(d=b;d<e;d+=c)h=u(d,a[d],a[d+1],h);else for(d=e-c;d>=b;d-=c)h=u(d,a[d],a[d+1],h);h&&p(h,h.next)&&(x(h),h=h.next);return h}function g(a,b){if(!a)return a;b||(b=a);var c=a,d,h=0,f=C*C/2;do{d=!1;if(c.steiner||!p(c,c.next)&&0!==e(c.prev,c,c.next))c=c.next;else{x(c);c=b=c.prev;if(c===c.next)return null;d=!0}if(h++>f)return E=!0,null}while(d||c!==b);return b}function q(a,c,f,k,u,A,D){if(a){if(!D&&A){var B=a,v=B;do null===v.z&&(v.z=b(v.x,v.y,k,u,A)),v.prevZ=v.prev,v=v.nextZ=v.next;
while(v!==B);v.prevZ.nextZ=null;v.prevZ=null;var B=v,F,n,w,G,H,R,M=1;do{v=B;w=B=null;for(G=0;v;){G++;n=v;for(F=H=0;F<M&&(H++,n=n.nextZ,n);F++);for(R=M;0<H||0<R&&n;)0===H?(F=n,n=n.nextZ,R--):0!==R&&n?v.z<=n.z?(F=v,v=v.nextZ,H--):(F=n,n=n.nextZ,R--):(F=v,v=v.nextZ,H--),w?w.nextZ=F:B=F,F.prevZ=w,w=F;v=n}w.nextZ=null;M*=2}while(1<G)}for(B=a;a.prev!==a.next;){v=a.prev;n=a.next;if(A)a:{w=a;R=k;var C=u,Q=A;G=w.prev;H=w;M=w.next;if(0<=e(G,H,M))w=!1;else{var K=G.x>H.x?G.x>M.x?G.x:M.x:H.x>M.x?H.x:M.x,J=G.y>
H.y?G.y>M.y?G.y:M.y:H.y>M.y?H.y:M.y;F=b(G.x<H.x?G.x<M.x?G.x:M.x:H.x<M.x?H.x:M.x,G.y<H.y?G.y<M.y?G.y:M.y:H.y<M.y?H.y:M.y,R,C,Q);R=b(K,J,R,C,Q);for(C=w.nextZ;C&&C.z<=R;){if(C!==w.prev&&C!==w.next&&h(G.x,G.y,H.x,H.y,M.x,M.y,C.x,C.y)&&0<=e(C.prev,C,C.next)){w=!1;break a}C=C.nextZ}for(C=w.prevZ;C&&C.z>=F;){if(C!==w.prev&&C!==w.next&&h(G.x,G.y,H.x,H.y,M.x,M.y,C.x,C.y)&&0<=e(C.prev,C,C.next)){w=!1;break a}C=C.prevZ}w=!0}}else w=d(a);if(w)c.push(v.i/f),c.push(a.i/f),c.push(n.i/f),x(a),B=a=n.next;else{if(E)break;
a=n;if(a===B){if(!D)q(g(a),c,f,k,u,A,1);else if(1===D){D=c;B=f;v=a;do n=v.prev,w=v.next.next,!p(n,w)&&z(n,v,v.next,w)&&y(n,w)&&y(w,n)&&(D.push(n.i/B),D.push(v.i/B),D.push(w.i/B),x(v),x(v.next),v=a=w),v=v.next;while(v!==a);a=v;q(a,c,f,k,u,A,2)}else if(2===D)a:{D=a;do{for(B=D.next.next;B!==D.prev;){if(v=D.i!==B.i){v=D;n=B;w=void 0;if(w=v.next.i!==n.i&&v.prev.i!==n.i){w=void 0;b:{w=v;do{if(w.i!==v.i&&w.next.i!==v.i&&w.i!==n.i&&w.next.i!==n.i&&z(w,w.next,v,n)){w=!0;break b}w=w.next}while(w!==v);w=!1}w=
!w}G=void 0;if(G=w&&y(v,n)&&y(n,v)){w=v;G=!1;H=(v.x+n.x)/2;n=(v.y+n.y)/2;do w.y>n!==w.next.y>n&&H<(w.next.x-w.x)*(n-w.y)/(w.next.y-w.y)+w.x&&(G=!G),w=w.next;while(w!==v)}v=G}if(v){a=r(D,B);D=g(D,D.next);a=g(a,a.next);q(D,c,f,k,u,A);q(a,c,f,k,u,A);break a}B=B.next}D=D.next}while(D!==a)}break}}}}}function d(a){var b=a.prev,c=a.next;if(0<=e(b,a,c))return!1;for(var d=a.next.next,f=0;d!==a.prev;){if(h(b.x,b.y,a.x,a.y,c.x,c.y,d.x,d.y)&&0<=e(d.prev,d,d.next))return!1;d=d.next;if(f++>C)return E=!0,!1}return!0}
function f(a,b){return a.x-b.x}function k(a,b){var c=b,e=a.x,d=a.y,f=-Infinity,k;do{if(!c)return null;if(d<=c.y&&d>=c.next.y){var g=c.x+(d-c.y)*(c.next.x-c.x)/(c.next.y-c.y);if(g<=e&&g>f){f=g;if(g===e){if(d===c.y)return c;if(d===c.next.y)return c.next}k=c.x<c.next.x?c:c.next}}c=c.next}while(c!==b);if(!k)return null;if(e===f)return k.prev;for(var g=k,p=k.x,r=k.y,z=Infinity,u,c=k.next;c!==g;)e>=c.x&&c.x>=p&&h(d<r?e:f,d,p,r,d<r?f:e,d,c.x,c.y)&&(u=Math.abs(d-c.y)/(e-c.x),(u<z||u===z&&c.x>k.x)&&y(c,a)&&
(k=c,z=u)),c=c.next;return k}function b(a,b,c,e,d){a=32767*(a-c)/d;b=32767*(b-e)/d;a=(a|a<<8)&16711935;a=(a|a<<4)&252645135;a=(a|a<<2)&858993459;b=(b|b<<8)&16711935;b=(b|b<<4)&252645135;b=(b|b<<2)&858993459;return(a|a<<1)&1431655765|((b|b<<1)&1431655765)<<1}function c(a){var b=a,c=a;do b.x<c.x&&(c=b),b=b.next;while(b!==a);return c}function h(a,b,c,e,d,h,f,k){return 0<=(d-f)*(b-k)-(a-f)*(h-k)&&0<=(a-f)*(e-k)-(c-f)*(b-k)&&0<=(c-f)*(h-k)-(d-f)*(e-k)}function e(a,b,c){return(b.y-a.y)*(c.x-b.x)-(b.x-a.x)*
(c.y-b.y)}function p(a,b){return a.x===b.x&&a.y===b.y}function z(a,b,c,d){return p(a,b)&&p(c,d)||p(a,d)&&p(c,b)?!0:0<e(a,b,c)!==0<e(a,b,d)&&0<e(c,d,a)!==0<e(c,d,b)}function y(a,b){return 0>e(a.prev,a,a.next)?0<=e(a,b,a.next)&&0<=e(a,a.prev,b):0>e(a,b,a.prev)||0>e(a,a.next,b)}function r(a,b){var c=new A(a.i,a.x,a.y),e=new A(b.i,b.x,b.y),d=a.next,h=b.prev;a.next=b;b.prev=a;c.next=d;d.prev=c;e.next=c;c.prev=e;h.next=e;e.prev=h;return e}function u(a,b,c,e){a=new A(a,b,c);e?(a.next=e.next,a.prev=e,e.next.prev=
a,e.next=a):(a.prev=a,a.next=a);return a}function x(a){a.next.prev=a.prev;a.prev.next=a.next;a.prevZ&&(a.prevZ.nextZ=a.nextZ);a.nextZ&&(a.nextZ.prevZ=a.prevZ)}function A(a,b,c){this.i=a;this.x=b;this.y=c;this.nextZ=this.prevZ=this.z=this.next=this.prev=null;this.steiner=!1}function J(a,b,c,e){for(var d=0,h=c-e;b<c;b+=e)d+=(a[h]-a[b])*(a[b+1]+a[h+1]),h=b;return d}var C,E;n.deviation=function(a,b,c,e){var d=b&&b.length,h=Math.abs(J(a,0,d?b[0]*c:a.length,c));if(d)for(var d=0,f=b.length;d<f;d++)h-=Math.abs(J(a,
b[d]*c,d<f-1?b[d+1]*c:a.length,c));for(d=b=0;d<e.length;d+=3){var f=e[d]*c,k=e[d+1]*c,g=e[d+2]*c;b+=Math.abs((a[f]-a[g])*(a[k+1]-a[f+1])-(a[f]-a[k])*(a[g+1]-a[f+1]))}return 0===h&&0===b?0:Math.abs((b-h)/h)};n.flatten=function(a){for(var b=a[0][0].length,c={vertices:[],holes:[],dimensions:b},e=0,d=0;d<a.length;d++){for(var h=0;h<a[d].length;h++)for(var f=0;f<b;f++)c.vertices.push(a[d][h][f]);0<d&&(e+=a[d-1].length,c.holes.push(e))}return c};return n})},"esri/layers/vectorTiles/views/vectorTiles/LineBucket":function(){define("require exports ../../core/tsSupport/extendsHelper ../../core/tsSupport/decorateHelper ./Bucket ../2d/engine/webgl/LineTess ./style/StyleLayer".split(" "),
function(n,a,g,q,d,f,k){var b=new f.Tessellator({distanceAlongCorrection:!0});return function(a){function c(b,c,d,h){c=a.call(this,b,c)||this;c.extrudeVectorsDoubleBuffer=[f.allocExtrudeVectors(),f.allocExtrudeVectors()];c.firstExtrudeVectors=f.allocExtrudeVectors();c.recycledTriangleBridge=f.allocTriangles(20);c.recycledTrianglePie=f.allocTriangles(20);if(b.hasDataDrivenLine!==d.isDataDriven())throw Error("incompatible line buffer");c._lineVertexBuffer=d;c._lineIndexBuffer=h;return c}g(c,a);Object.defineProperty(c.prototype,
"lineIndexStart",{get:function(){return this._lineIndexStart},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"lineIndexCount",{get:function(){return this._lineIndexCount},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"connectorStart",{get:function(){return 0},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"connectorCount",{get:function(){return 0},enumerable:!0,configurable:!0});c.prototype.assignBufferInfo=function(a){a._lineIndexStart=this._lineIndexStart;
a._lineIndexCount=this._lineIndexCount};c.prototype.processFeatures=function(a,b){this._lineIndexStart=this._lineIndexBuffer.index;this._lineIndexCount=0;var c=this.layer,e=this.zoom,d=c.hasDataDrivenLine;a&&a.setExtent(this.layerExtent);for(var h=c.getPaintValue("line-pattern",e),f=0,g=this._features;f<g.length;f++){var p=g[f],q=new k.LineLayout(c,e,p),n=void 0;if(d&&(n={color:h?[1,1,1,1]:c.getPaintValue("line-color",e,p),opacity:c.getPaintValue("line-opacity",e,p),size:Math.max(Math.min(c.getPaintValue("line-width",
e,p),256),0)},0>=n.size||0>=n.opacity||0>=n.color[3]))continue;p=p.getGeometry(a);this._processFeature(q,p,n)}};c.prototype._processFeature=function(a,b,c){if(b)for(var e=b.length,d=0;d<e;d++)this._processGeometry(b[d],a,c)};c.prototype._processGeometry=function(a,b,c){if(!(2>a.length)){for(var e=a[0],d=a[a.length-1],h=d.x-e.x,d=d.y-e.y,e=1E-6>h*h+d*d,k=a[0],g=1;g<a.length;)h=a[g].x-k.x,d=a[g].y-k.y,1E-6>h*h+d*d?a.splice(g,1):(k=a[g],++g);if(!(2>a.length)){this.vertices=a;this.verticesLen=a.length;
this.isClosed=e;this.cap=b.cap;this.join=b.join;this.almostParallelRads=.05;this.veryShallowRads=.1;this.miterSafeRads=f.MITER_SAFE_RADS;this.miterLimitMag=Math.min(b.miterLimit,f.SYSTEM_MAG_LIMIT);this.roundLimitRads=Math.min(b.roundLimit,.5);this.newRoundJoinsSafeRads=2.3;b=this._lineIndexBuffer.index;for(var h=0,p=void 0,d=this.verticesLen,k=0;k<d;++k){var g=a[k],q=a[(k+d-1)%d],z=e&&this._isClipEdge(q,g),q=p===this.extrudeVectorsDoubleBuffer[k%2]?this.extrudeVectorsDoubleBuffer[(k+1)%2]:this.extrudeVectorsDoubleBuffer[k%
2];k<d-1||!e||this.hasPattern?(this._computeExtrudeVectors(q,k),this._writeGPUVertices(g.x,g.y,h,q,c),!q.capCenter||e&&k===d-1||this._writeGPUPieElements(q,z),e&&0===k&&!this.hasPattern&&f.copyExtrudeVectors(this.firstExtrudeVectors,q)):f.copyExtrudeVectors(q,this.firstExtrudeVectors);p&&this._writeGPUBridgeElements(p,q,z);k<d-1&&(p=a[k+1],g=f.length([p.x-g.x,p.y-g.y]),h+=g);p=q}this._lineIndexCount+=3*(this._lineIndexBuffer.index-b)}}};c.prototype._computeExtrudeVectors=function(a,b){var c=this.vertices,
e=this.verticesLen,d=this.isClosed,h=c[b],k=[void 0,void 0],g=[void 0,void 0];if(0<b&&b<e-1){var p=c[(b+e-1)%e],q=c[(b+1)%e];f.normalize(k,[h.x-p.x,h.y-p.y]);f.normalize(g,[q.x-h.x,q.y-h.y])}else if(0===b)q=c[(b+1)%e],f.normalize(g,[q.x-h.x,q.y-h.y]),d?(c=c[e-2],f.normalize(k,[h.x-c.x,h.y-c.y])):k=g;else if(b===e-1)p=c[(b+e-1)%e],f.normalize(k,[h.x-p.x,h.y-p.y]),d?(c=c[1],f.normalize(g,[c.x-h.x,c.y-h.y])):g=k;else{console.error("Vertex index 'i' out of range.");return}d||0!==b?d||b!==e-1?this._computeJoinExtrudeVectors(a,
k,g):this._computeCapExtrudeVectors(a,k,g,f.CapPosition.END):this._computeCapExtrudeVectors(a,k,g,f.CapPosition.START)};c.prototype._computeCapExtrudeVectors=function(a,c,d,h){0===this.cap?b.buttCap(a,c,d):1===this.cap?b.roundCap(a,c,d,h,f.getNumberOfSlices(Math.PI),h===f.CapPosition.START?-1:1):2===this.cap?b.squareCap(a,c,d,h):b.buttCap(a,c,d)};c.prototype._computeJoinExtrudeVectors=function(a,c,d){var e=f.getRads(c,d);if(e>Math.PI-this.almostParallelRads)b.rectJoin(a,c,d);else if(0===this.join&&
e>=this.veryShallowRads)b.bevelJoin(a,c,d,1);else if(1===this.join&&e>=this.veryShallowRads){var h=f.getNumberOfSlices(e);e<this.newRoundJoinsSafeRads?2>h||e<this.roundLimitRads?b.bevelJoin(a,c,d,1):b.roundJoin(a,c,d,h):b.unitRoundJoin(a,c,d,h)}else e<this.almostParallelRads?b.fastMiterJoin(a,c,d):e<this.miterSafeRads?b.miterJoin(a,c,d):b.bevelJoin(a,c,d,this.miterLimitMag)};c.prototype._writeGPUVertices=function(a,b,c,d,h){for(var e=0;e<d.vectors.count;++e){var f=d.vectors.items[e].vector[0],k=d.vectors.items[e].vector[1],
g=d.vectors.items[e].texCoords[0],p=d.vectors.items[e].texCoords[1];d.vectors.items[e].base=this._lineVertexBuffer.index;this._lineVertexBuffer.add(a,b,f,k,g,p,c,h)}};c.prototype._writeGPUBridgeElements=function(a,c,d){b.bridge(this.recycledTriangleBridge,a,c);if(!d)for(a=0;a<this.recycledTriangleBridge.count;++a)c=this.recycledTriangleBridge.items[a],this._lineIndexBuffer.add(c.v1.base,c.v2.base,c.v3.base)};c.prototype._writeGPUPieElements=function(a,c){b.pie(this.recycledTrianglePie,a);if(!c)for(var e=
0;e<this.recycledTrianglePie.count;++e){var d=this.recycledTrianglePie.items[e];this._lineIndexBuffer.add(d.v1.base,d.v2.base,d.v3.base)}};c.prototype._isClipEdge=function(a,b){return a.x===b.x?-64>=a.x||4160<=a.x:a.y===b.y?-64>=a.y||4160<=a.y:!1};return c}(d)})},"esri/layers/vectorTiles/views/2d/engine/webgl/LineTess":function(){define(["require","exports"],function(n,a){function g(a){var b={items:[],count:0},c;for(c=0;c<a;++c)b.items.push(void 0);return b}function q(a,b){C.vector[0]=a.vector[0];
C.vector[1]=a.vector[1];C.texCoords[0]=a.texCoords[0];C.texCoords[1]=a.texCoords[1];C.direction[0]=a.direction[0];C.direction[1]=a.direction[1];C.base=a.base;a.vector[0]=b.vector[0];a.vector[1]=b.vector[1];a.texCoords[0]=b.texCoords[0];a.texCoords[1]=b.texCoords[1];a.direction[0]=b.direction[0];a.direction[1]=b.direction[1];a.base=b.base;b.vector[0]=C.vector[0];b.vector[1]=C.vector[1];b.texCoords[0]=C.texCoords[0];b.texCoords[1]=C.texCoords[1];b.direction[0]=C.direction[0];b.direction[1]=C.direction[1];
b.base=C.base}function d(a,b){return a[0]*b[0]+a[1]*b[1]}function f(a){return Math.sqrt(d(a,a))}function k(a,b){var c=f(b);a[0]=b[0]/c;a[1]=b[1]/c;return a}function b(a,b){a[0]=-b[1];a[1]=b[0];return a}function c(a,b){return a[0]*b[1]-a[1]*b[0]}function h(a,b){a[0]=-b[0];a[1]=-b[1];return a}function e(a,b,c){a[0]=b[0]*c;a[1]=b[1]*c;return a}function p(a,b,c){a[0]=b[0]+c[0];a[1]=b[1]+c[1];return a}function z(a,b){var c=d(a,b);return.999<c?0:-.999>c?Math.PI:Math.acos(c)}function y(a,b,c,d,h){if(0===
d)a.count=0;else{var k=f(b),g=e(E[0],b,1/k);c=e(E[1],c,1/k);g=z(g,c);g=(h?-1:1)*g/d;h=Math.cos(g);g=Math.sin(g);c=b[0];var p=b[1];for(b=0;b<d-1;++b)k=c,c=h*k-g*p,p=g*k+h*p,a.items[b][0]=c,a.items[b][1]=p;a.count=d-1}}function r(a){var b=a.count,c=Math.floor(b/2),e;for(e=0;e<c;++e){var d=a.items[e];a.items[e]=a.items[b-e-1];a.items[b-e-1]=d}}Object.defineProperty(a,"__esModule",{value:!0});var u;(function(a){a[a.ENTRY=1]="ENTRY";a[a.EXIT=2]="EXIT";a[a.CAP=3]="CAP"})(u=a.VectorRole||(a.VectorRole={}));
var x;(function(a){a[a.START=1]="START";a[a.END=2]="END"})(x=a.CapPosition||(a.CapPosition={}));a.SYSTEM_MAG_LIMIT=3.8;a.MITER_SAFE_RADS=2*Math.acos(1/a.SYSTEM_MAG_LIMIT);var A=a.SYSTEM_MAG_LIMIT*a.SYSTEM_MAG_LIMIT,J=16/(2*Math.PI);a.allocTriangles=function(a){var b={items:[],count:0},c;for(c=0;c<a;++c)b.items.push({v1:{vector:[void 0,void 0],texCoords:[void 0,void 0],direction:[void 0,void 0]},v2:{vector:[void 0,void 0],texCoords:[void 0,void 0],direction:[void 0,void 0]},v3:{vector:[void 0,void 0],
texCoords:[void 0,void 0],direction:[void 0,void 0]}});return b};a.allocExtrudeVectors=function(){var a={items:[],count:0},b;for(b=0;30>b;++b)a.items.push({vector:[void 0,void 0],texCoords:[void 0,void 0],direction:[void 0,void 0]});b={};b[u.ENTRY]=g(20);b[u.EXIT]=g(20);b[u.CAP]=g(20);return{vectors:a,lists:b}};a.copyExtrudeVectors=function(a,b){var c;for(c=0;c<b.vectors.count;++c)a.vectors.items[c].vector[0]=b.vectors.items[c].vector[0],a.vectors.items[c].vector[1]=b.vectors.items[c].vector[1],a.vectors.items[c].texCoords[0]=
b.vectors.items[c].texCoords[0],a.vectors.items[c].texCoords[1]=b.vectors.items[c].texCoords[1],a.vectors.items[c].direction[0]=b.vectors.items[c].direction[0],a.vectors.items[c].direction[1]=b.vectors.items[c].direction[1],a.vectors.items[c].base=b.vectors.items[c].base;a.vectors.count=b.vectors.count;var e=b.lists[u.ENTRY],d=a.lists[u.ENTRY],h=b.lists[u.EXIT],f=a.lists[u.EXIT],k=b.lists[u.CAP],g=a.lists[u.CAP];for(c=0;c<e.count;++c)d.items[c]=e.items[c];d.count=e.count;for(c=0;c<h.count;++c)f.items[c]=
h.items[c];f.count=h.count;for(c=0;c<k.count;++c)g.items[c]=k.items[c];g.count=k.count;a.capCenter=b.capCenter};var C={vector:[void 0,void 0],texCoords:[void 0,void 0],direction:[void 0,void 0],base:void 0};a.swapExtrudeVectors=q;var E=[],B;for(B=0;32>B;++B)E.push([void 0,void 0]);var v=function(a){var b={items:[],count:0},c;for(c=0;c<a;++c)b.items.push([void 0,void 0]);return b}(16);a.length=f;a.normalize=k;a.getNumberOfSlices=function(a){return Math.max(Math.round(a*J),1)};a.getRads=z;a.reverse=
r;var K=[void 0,void 0],U=[void 0,void 0],Q=[0,0],F=[0,0],D=[0,0],I=[0,0],N=Math.cos(Math.PI/4),S=Math.sin(Math.PI/4),L=Math.sqrt(2);B=function(){function a(a){this._distanceAlongCorrection=a.distanceAlongCorrection}a.prototype.bridge=function(a,b,c){var e=b.vectors;b=b.lists[u.EXIT];var d=c.vectors,h=c.lists[u.ENTRY],f,k;if(b.count===h.count+1)c=b.items,f=e.items,k=h.items,d=d.items;else if(h.count===b.count+1)c=h.items,f=d.items,k=b.items,d=e.items;else if(b.count===h.count)c=h.items,f=d.items,
k=b.items,d=e.items;else{console.error("Cannot bridge "+b.count+" to "+h.count+".");a.count=0;return}e=b.count+h.count-2;a.count=e;K[0]=c;K[1]=k;U[0]=f;U[1]=d;for(b=0;b<e;++b)c=a.items[b],f=(b+0)%2,f=U[f][K[f][Math.floor((b+0)/2)]],c.v1.vector[0]=f.vector[0],c.v1.vector[1]=f.vector[1],c.v1.texCoords[0]=f.texCoords[0],c.v1.texCoords[1]=f.texCoords[1],c.v1.direction[0]=f.direction[0],c.v1.direction[1]=f.direction[1],c.v1.base=f.base,f=(b+1)%2,f=U[f][K[f][Math.floor((b+1)/2)]],c.v2.vector[0]=f.vector[0],
c.v2.vector[1]=f.vector[1],c.v2.texCoords[0]=f.texCoords[0],c.v2.texCoords[1]=f.texCoords[1],c.v2.direction[0]=f.direction[0],c.v2.direction[1]=f.direction[1],c.v2.base=f.base,f=(b+2)%2,f=U[f][K[f][Math.floor((b+2)/2)]],c.v3.vector[0]=f.vector[0],c.v3.vector[1]=f.vector[1],c.v3.texCoords[0]=f.texCoords[0],c.v3.texCoords[1]=f.texCoords[1],c.v3.direction[0]=f.direction[0],c.v3.direction[1]=f.direction[1],c.v3.base=f.base,f=c.v1.base&&c.v1.base.point||Q,k=c.v2.base&&c.v2.base.point||Q,d=c.v3.base&&c.v3.base.point||
Q,F[0]=f[0]+c.v1.vector[0],F[1]=f[1]+c.v1.vector[1],D[0]=k[0]+c.v2.vector[0],D[1]=k[1]+c.v2.vector[1],I[0]=d[0]+c.v3.vector[0],I[1]=d[1]+c.v3.vector[1],0>(D[0]-F[0])*(I[1]-F[1])-(I[0]-F[0])*(D[1]-F[1])||q(c.v2,c.v3)};a.prototype.pie=function(a,b){if(0===b.lists[u.CAP].count)a.count=0;else if(1===b.lists[u.CAP].count)console.error("A single vector is not enough to define a pie."),a.count=0;else{a.count=b.lists[u.CAP].count-1;var c;for(c=0;c<a.count;++c){var e=a.items[c],d=b.vectors.items[b.lists[u.CAP].items[c]];
e.v1.vector[0]=d.vector[0];e.v1.vector[1]=d.vector[1];e.v1.texCoords[0]=d.texCoords[0];e.v1.texCoords[1]=d.texCoords[1];e.v1.direction[0]=d.direction[0];e.v1.direction[1]=d.direction[1];e.v1.base=d.base;d=b.vectors.items[b.lists[u.CAP].items[c+1]];e.v2.vector[0]=d.vector[0];e.v2.vector[1]=d.vector[1];e.v2.texCoords[0]=d.texCoords[0];e.v2.texCoords[1]=d.texCoords[1];e.v2.direction[0]=d.direction[0];e.v2.direction[1]=d.direction[1];e.v2.base=d.base;d=b.vectors.items[b.capCenter];e.v3.vector[0]=d.vector[0];
e.v3.vector[1]=d.vector[1];e.v3.texCoords[0]=d.texCoords[0];e.v3.texCoords[1]=d.texCoords[1];e.v3.direction[0]=d.direction[0];e.v3.direction[1]=d.direction[1];e.v3.base=d.base;var d=e.v1.base&&e.v1.base.point||Q,h=e.v2.base&&e.v2.base.point||Q,f=e.v3.base&&e.v3.base.point||Q;F[0]=d[0]+e.v1.vector[0];F[1]=d[1]+e.v1.vector[1];D[0]=h[0]+e.v2.vector[0];D[1]=h[1]+e.v2.vector[1];I[0]=f[0]+e.v3.vector[0];I[1]=f[1]+e.v3.vector[1];0>(D[0]-F[0])*(I[1]-F[1])-(I[0]-F[0])*(D[1]-F[1])||q(e.v2,e.v3)}}};a.prototype.buttCap=
function(a,b,c){this.fastMiterJoin(a,b,c)};a.prototype.roundCap=function(a,b,c,e,d,h){void 0===h&&(h=0);this.fastMiterJoin(a,b,c);c=e===x.START?0:1;e=e===x.START?1:0;a.capCenter=a.vectors.count;b=a.vectors.items[a.capCenter];b.vector[0]=0;b.vector[1]=0;b.texCoords[0]=0;b.texCoords[1]=0;b.direction[0]=0;b.direction[1]=0;++a.vectors.count;y(v,a.vectors.items[c].vector,a.vectors.items[e].vector,d,!1);d=a.vectors.count;b=a.lists[u.CAP];b.items[0]=c;c=a.vectors.items[c].texCoords[1];var f=a.vectors.items[e].texCoords[1],
k;for(k=0;k<v.count;++k){var g=h*(1-Math.abs(v.count/2-k)/(v.count/2)),p=c+k/(v.count-1)*(f-c),r=v.items[k],q=a.vectors.items[d+k];q.vector[0]=r[0];q.vector[1]=r[1];q.texCoords[0]=g;q.texCoords[1]=p;q.direction[0]=0;q.direction[1]=0;b.items[k+1]=d+k}b.items[v.count+1]=e;b.count=v.count+2;a.vectors.count=d+v.count};a.prototype.squareCap=function(a,b,c,d){this.fastMiterJoin(a,b,c);b=d===x.START?0:1;c=d===x.START?1:0;var h=E[0],f=E[1],k=E[2],g=E[3];d=E[4];var p=a.vectors.items[b].vector;h[0]=N*p[0]-
S*p[1];h[1]=S*p[0]+N*p[1];e(g,h,L);f[0]=N*h[0]-S*h[1];f[1]=S*h[0]+N*h[1];k[0]=N*f[0]-S*f[1];k[1]=S*f[0]+N*f[1];e(d,k,L);b=a.vectors.items[b];b.vector[0]=g[0];b.vector[1]=g[1];a=a.vectors.items[c];a.vector[0]=d[0];a.vector[1]=d[1]};a.prototype.fastMiterJoin=function(a,c,e){e=b(E[0],e);c=h(E[1],e);var d=a.vectors.items[0];d.vector[0]=e[0];d.vector[1]=e[1];d.texCoords[0]=0;d.texCoords[1]=-1;d.direction[0]=0;d.direction[1]=0;e=a.vectors.items[1];e.vector[0]=c[0];e.vector[1]=c[1];e.texCoords[0]=0;e.texCoords[1]=
1;e.direction[0]=0;e.direction[1]=0;a.vectors.count=2;c=a.lists[u.ENTRY];c.items[0]=0;c.items[1]=1;c.count=2;c=a.lists[u.EXIT];c.items[0]=0;c.items[1]=1;c.count=2;a.lists[u.CAP].count=0;a.capCenter=void 0};a.prototype.miterJoin=function(a,c,f){var g=b(E[0],c),p=b(E[1],f),r=E[2];r[0]=g[0]+p[0];r[1]=g[1]+p[1];p=k(E[3],r);g=d(p,g);p=e(E[4],p,1/g);g=h(E[5],p);this._distanceAlongCorrection?(r=a.vectors.items[0],r.vector[0]=p[0],r.vector[1]=p[1],r.texCoords[0]=0,r.texCoords[1]=-1,r.direction[0]=c[0],r.direction[1]=
c[1],r=a.vectors.items[1],r.vector[0]=g[0],r.vector[1]=g[1],r.texCoords[0]=0,r.texCoords[1]=1,r.direction[0]=c[0],r.direction[1]=c[1],c=a.vectors.items[2],c.vector[0]=p[0],c.vector[1]=p[1],c.texCoords[0]=0,c.texCoords[1]=-1,c.direction[0]=f[0],c.direction[1]=f[1],c=a.vectors.items[3],c.vector[0]=g[0],c.vector[1]=g[1],c.texCoords[0]=0,c.texCoords[1]=1,c.direction[0]=f[0],c.direction[1]=f[1],a.vectors.count=4,f=a.lists[u.ENTRY],f.items[0]=0,f.items[1]=1,f.count=2,f=a.lists[u.EXIT],f.items[0]=2,f.items[1]=
3):(r=a.vectors.items[0],r.vector[0]=p[0],r.vector[1]=p[1],r.texCoords[0]=0,r.texCoords[1]=-1,r.direction[0]=0,r.direction[1]=0,r=a.vectors.items[1],r.vector[0]=g[0],r.vector[1]=g[1],r.texCoords[0]=0,r.texCoords[1]=1,r.direction[0]=0,r.direction[1]=0,a.vectors.count=2,f=a.lists[u.ENTRY],f.items[0]=0,f.items[1]=1,f.count=2,f=a.lists[u.EXIT],f.items[0]=0,f.items[1]=1);f.count=2;a.lists[u.CAP].count=0;a.capCenter=void 0};a.prototype.bevelJoin=function(a,f,g,q){var z=q*q;q=c(f,g);var n=0<q?[-1,1]:[1,
-1],y=n[0],n=n[1],x=0<q?h(E[0],b(E[1],f)):b(E[2],f),v=0<q?h(E[3],b(E[4],g)):b(E[5],g),C=E[6];C[0]=x[0]+v[0];C[1]=x[1]+v[1];var F=k(E[7],C),D=h(E[8],F),G=d(F,x),C=c(F,x),B=Math.abs(C/G),C=1+B*B,I=C<A?[B,this._distanceAlongCorrection]:[Math.sqrt(A-1),!0],w=I[0],I=I[1],H=C<z?[B,this._distanceAlongCorrection]:[Math.sqrt(z-1),!0],B=H[0];(H=H[1])&&I?(I=a.vectors.items[0],p(I.vector,h(E[9],x),e(E[10],h(E[11],f),w)),I.texCoords[0]=0,I.texCoords[1]=y,I.direction[0]=this._distanceAlongCorrection?f[0]:0,I.direction[1]=
this._distanceAlongCorrection?f[1]:0,D=a.vectors.items[1],p(D.vector,h(E[12],v),e(E[13],g,w)),D.texCoords[0]=0,D.texCoords[1]=y,D.direction[0]=this._distanceAlongCorrection?g[0]:0,D.direction[1]=this._distanceAlongCorrection?g[1]:0,y=a.vectors.items[2],y.vector[0]=0,y.vector[1]=0,y.texCoords[0]=0,y.texCoords[1]=0,y.direction[0]=0,y.direction[1]=0,y=a.vectors.items[3],p(y.vector,x,e(E[14],f,B)),y.texCoords[0]=0,y.texCoords[1]=n,y.direction[0]=this._distanceAlongCorrection?f[0]:0,y.direction[1]=this._distanceAlongCorrection?
f[1]:0,f=a.vectors.items[4],p(f.vector,v,e(E[15],h(E[16],g),B)),f.texCoords[0]=0,f.texCoords[1]=n,f.direction[0]=this._distanceAlongCorrection?g[0]:0,f.direction[1]=this._distanceAlongCorrection?g[1]:0,a.vectors.count=5,g=a.lists[u.ENTRY],g.items[0]=0,g.items[1]=2,g.items[2]=3,g.count=3,g=a.lists[u.EXIT],g.items[0]=1,g.items[1]=2,g.items[2]=4,g.count=3,C<z?(z=a.lists[u.CAP],z.count=0,a.capCenter=void 0):(z=a.lists[u.CAP],z.items[0]=3,z.items[1]=4,z.count=2,a.capCenter=2)):!H&&I?(I=a.vectors.items[0],
p(I.vector,h(E[9],x),e(E[10],h(E[11],f),w)),I.texCoords[0]=0,I.texCoords[1]=y,I.direction[0]=this._distanceAlongCorrection?f[0]:0,I.direction[1]=this._distanceAlongCorrection?f[1]:0,D=a.vectors.items[1],p(D.vector,h(E[12],v),e(E[13],g,w)),D.texCoords[0]=0,D.texCoords[1]=y,D.direction[0]=this._distanceAlongCorrection?g[0]:0,D.direction[1]=this._distanceAlongCorrection?g[1]:0,y=a.vectors.items[2],y.vector[0]=0,y.vector[1]=0,y.texCoords[0]=0,y.texCoords[1]=0,y.direction[0]=0,y.direction[1]=0,y=a.vectors.items[3],
e(y.vector,F,1/G),y.texCoords[0]=0,y.texCoords[1]=n,y.direction[0]=0,y.direction[1]=0,a.vectors.count=4,g=a.lists[u.ENTRY],g.items[0]=0,g.items[1]=2,g.items[2]=3,g.count=3,g=a.lists[u.EXIT],g.items[0]=1,g.items[1]=2,g.items[2]=3,g.count=3,a.lists[u.CAP].count=0,a.capCenter=void 0):H&&!I?(I=a.vectors.items[0],e(I.vector,D,1/G),I.texCoords[0]=0,I.texCoords[1]=y,I.direction[0]=0,I.direction[1]=0,D=a.vectors.items[1],D.vector[0]=0,D.vector[1]=0,D.texCoords[0]=0,D.texCoords[1]=0,D.direction[0]=0,D.direction[1]=
0,y=a.vectors.items[2],p(y.vector,x,e(E[9],f,B)),y.texCoords[0]=0,y.texCoords[1]=n,y.direction[0]=this._distanceAlongCorrection?f[0]:0,y.direction[1]=this._distanceAlongCorrection?f[1]:0,y=a.vectors.items[3],p(y.vector,v,e(E[10],h(E[11],g),B)),y.texCoords[0]=0,y.texCoords[1]=n,y.direction[0]=this._distanceAlongCorrection?g[0]:0,y.direction[1]=this._distanceAlongCorrection?g[1]:0,a.vectors.count=4,g=a.lists[u.ENTRY],g.items[0]=0,g.items[1]=1,g.items[2]=2,g.count=3,g=a.lists[u.EXIT],g.items[0]=0,g.items[1]=
1,g.items[2]=3,g.count=3,C<z?(z=a.lists[u.CAP],z.count=0,a.capCenter=void 0):(z=a.lists[u.CAP],z.items[0]=2,z.items[1]=3,z.count=2,a.capCenter=1)):H||I||(I=a.vectors.items[0],e(I.vector,D,1/G),I.texCoords[0]=0,I.texCoords[1]=y,I.direction[0]=0,I.direction[1]=0,D=a.vectors.items[1],e(D.vector,F,1/G),D.texCoords[0]=0,D.texCoords[1]=n,D.direction[0]=0,D.direction[1]=0,a.vectors.count=2,g=a.lists[u.ENTRY],g.items[0]=0,g.items[1]=1,g.count=2,g=a.lists[u.EXIT],g.items[0]=0,g.items[1]=1,g.count=2,a.lists[u.CAP].count=
0,a.capCenter=void 0);0>q&&(r(a.lists[u.ENTRY]),r(a.lists[u.EXIT]))};a.prototype.roundJoin=function(a,f,g,q){var z=c(f,g),n=0<z?[-1,1]:[1,-1],x=n[0],n=n[1],D=0<z?h(E[0],b(E[1],f)):b(E[2],f),C=0<z?h(E[3],b(E[4],g)):b(E[5],g),F=E[6];F[0]=D[0]+C[0];F[1]=D[1]+C[1];var I=k(E[7],F),F=h(E[8],I),B=d(I,D),I=c(I,D),I=Math.abs(I/B),w=1+I*I<A?[I,this._distanceAlongCorrection]:[Math.sqrt(A-1),!0],I=w[0];w[1]?(w=a.vectors.items[0],w.vector[0]=D[0],w.vector[1]=D[1],w.texCoords[0]=0,w.texCoords[1]=n,w.direction[0]=
0,w.direction[1]=0,w=a.vectors.items[1],w.vector[0]=C[0],w.vector[1]=C[1],w.texCoords[0]=0,w.texCoords[1]=n,w.direction[0]=0,w.direction[1]=0,w=a.vectors.items[2],p(w.vector,h(E[9],D),e(E[10],h(E[11],f),I)),w.texCoords[0]=0,w.texCoords[1]=x,w.direction[0]=this._distanceAlongCorrection?f[0]:0,w.direction[1]=this._distanceAlongCorrection?f[1]:0,f=a.vectors.items[3],p(f.vector,h(E[12],C),e(E[13],g,I)),f.texCoords[0]=0,f.texCoords[1]=x,f.direction[0]=this._distanceAlongCorrection?g[0]:0,f.direction[1]=
this._distanceAlongCorrection?g[1]:0,g=a.vectors.items[4],g.vector[0]=0,g.vector[1]=0,g.texCoords[0]=0,g.texCoords[1]=0,g.direction[0]=0,g.direction[1]=0,a.vectors.count=5,g=a.lists[u.ENTRY],g.items[0]=2,g.items[1]=4,g.items[2]=0,g.count=3,g=a.lists[u.EXIT],g.items[0]=3,g.items[1]=4,g.items[2]=1,g.count=3,a.capCenter=4):(w=a.vectors.items[0],w.vector[0]=D[0],w.vector[1]=D[1],w.texCoords[0]=0,w.texCoords[1]=n,w.direction[0]=0,w.direction[1]=0,w=a.vectors.items[1],w.vector[0]=C[0],w.vector[1]=C[1],
w.texCoords[0]=0,w.texCoords[1]=n,w.direction[0]=0,w.direction[1]=0,w=a.vectors.items[2],e(w.vector,F,1/B),w.texCoords[0]=0,w.texCoords[1]=x,w.direction[0]=0,w.direction[1]=0,f=a.vectors.items[3],f.vector[0]=0,f.vector[1]=0,f.texCoords[0]=0,f.texCoords[1]=0,f.direction[0]=0,f.direction[1]=0,a.vectors.count=4,g=a.lists[u.ENTRY],g.items[0]=2,g.items[1]=3,g.items[2]=0,g.count=3,g=a.lists[u.EXIT],g.items[0]=2,g.items[1]=3,g.items[2]=1,g.count=3,a.capCenter=3);y(v,D,C,q,0>z);q=a.vectors.count;D=a.lists[u.CAP];
for(C=D.items[0]=0;C<v.count;++C)g=v.items[C],x=a.vectors.items[q+C],x.vector[0]=g[0],x.vector[1]=g[1],x.texCoords[0]=0,x.texCoords[1]=n,x.direction[0]=0,x.direction[1]=0,D.items[C+1]=q+C;D.items[v.count+1]=1;D.count=v.count+2;a.vectors.count=q+v.count;0>z&&(r(a.lists[u.ENTRY]),r(a.lists[u.EXIT]))};a.prototype.unitRoundJoin=function(a,e,d,f){var k=c(e,d),g=0<k?[-1,1]:[1,-1],p=g[0],g=g[1];e=0<k?h(E[0],b(E[1],e)):b(E[2],e);d=0<k?h(E[3],b(E[4],d)):b(E[5],d);var q=a.vectors.items[0];q.vector[0]=e[0];
q.vector[1]=e[1];q.texCoords[0]=0;q.texCoords[1]=g;q.direction[0]=0;q.direction[1]=0;q=a.vectors.items[1];q.vector[0]=d[0];q.vector[1]=d[1];q.texCoords[0]=0;q.texCoords[1]=g;q.direction[0]=0;q.direction[1]=0;q=a.vectors.items[2];h(q.vector,e);q.texCoords[0]=0;q.texCoords[1]=p;q.direction[0]=0;q.direction[1]=0;q=a.vectors.items[3];h(q.vector,d);q.texCoords[0]=0;q.texCoords[1]=p;q.direction[0]=0;q.direction[1]=0;p=a.vectors.items[4];p.vector[0]=0;p.vector[1]=0;p.texCoords[0]=0;p.texCoords[1]=0;p.direction[0]=
0;p.direction[1]=0;a.vectors.count=5;p=a.lists[u.ENTRY];p.items[0]=2;p.items[1]=0;p.count=2;p=a.lists[u.EXIT];p.items[0]=3;p.items[1]=1;p.count=2;a.capCenter=4;y(v,e,d,f,0>k);f=a.vectors.count;e=a.lists[u.CAP];for(p=e.items[0]=0;p<v.count;++p)d=v.items[p],q=a.vectors.items[f+p],q.vector[0]=d[0],q.vector[1]=d[1],q.texCoords[0]=0,q.texCoords[1]=g,q.direction[0]=0,q.direction[1]=0,e.items[p+1]=f+p;e.items[v.count+1]=1;e.count=v.count+2;a.vectors.count=f+v.count;0>k&&(r(a.lists[u.ENTRY]),r(a.lists[u.EXIT]))};
a.prototype.rectJoin=function(a,c,e){c=b(E[0],c);e=b(E[1],e);var d=a.vectors.items[0];d.vector[0]=c[0];d.vector[1]=c[1];d.texCoords[0]=0;d.texCoords[1]=-1;d.direction[0]=0;d.direction[1]=0;d=a.vectors.items[1];d.vector[0]=e[0];d.vector[1]=e[1];d.texCoords[0]=0;d.texCoords[1]=-1;d.direction[0]=0;d.direction[1]=0;d=a.vectors.items[2];h(d.vector,c);d.texCoords[0]=0;d.texCoords[1]=1;d.direction[0]=0;d.direction[1]=0;c=a.vectors.items[3];h(c.vector,e);c.texCoords[0]=0;c.texCoords[1]=1;c.direction[0]=0;
c.direction[1]=0;a.vectors.count=4;c=a.lists[u.ENTRY];c.items[0]=0;c.items[1]=2;c.count=2;c=a.lists[u.EXIT];c.items[0]=1;c.items[1]=3;c.count=2;a.capCenter=void 0};return a}();a.Tessellator=B})},"esri/layers/vectorTiles/views/vectorTiles/style/StyleLayer":function(){define("require exports ../../../core/tsSupport/extendsHelper ../../../core/tsSupport/decorateHelper ./StyleDefinition ./StyleProperty ./Filter".split(" "),function(n,a,g,q,d,f,k){Object.defineProperty(a,"__esModule",{value:!0});n=function(){function a(a,
b,e){this.type=a;this.id=b.id;this.source=b.source;this.sourceLayer=b["source-layer"];this.minzoom=b.minzoom;this.maxzoom=b.maxzoom;this.filter=b.filter;this.layout=b.layout;this.paint=b.paint;this.z=e;switch(a){case 0:this._layoutDefinition=d.StyleDefinition.backgroundLayoutDefinition;this._paintDefinition=d.StyleDefinition.backgroundPaintDefinition;break;case 1:this._layoutDefinition=d.StyleDefinition.fillLayoutDefinition;this._paintDefinition=d.StyleDefinition.fillPaintDefinition;break;case 2:this._layoutDefinition=
d.StyleDefinition.lineLayoutDefinition;this._paintDefinition=d.StyleDefinition.linePaintDefinition;break;case 3:this._layoutDefinition=d.StyleDefinition.symbolLayoutDefinition,this._paintDefinition=d.StyleDefinition.symbolPaintDefinition}this._layoutProperties=this._parseLayout(this.layout);this._paintProperties=this._parsePaint(this.paint)}a.prototype.getFeatureFilter=function(){return void 0!==this._featureFilter?this._featureFilter:this._featureFilter=k.createFilter(this.filter)};a.prototype.getLayoutProperty=
function(a){var b=this._layoutProperties;if(b)return b[a]};a.prototype.getPaintProperty=function(a){var b=this._paintProperties;if(b)return b[a]};a.prototype.getLayoutValue=function(a,b,e){var c,d=this._layoutProperties;d&&(d=d[a])&&(c=d.getValue(b,e));a=this._layoutDefinition[a];void 0===c&&(c=a["default"]);"enum"===a.type&&(c=a.values.indexOf(c));return c};a.prototype.getPaintValue=function(a,b,e){var c,d=this._paintProperties;d&&(d=d[a])&&(c=d.getValue(b,e));a=this._paintDefinition[a];void 0===
c&&(c=a["default"]);"enum"===a.type&&(c=a.values.indexOf(c));return c};a.prototype._parseLayout=function(a){var b={},c;for(c in a){var d=this._layoutDefinition[c];d&&(b[c]=new f(c,d,a[c]))}return b};a.prototype._parsePaint=function(a){var b={},c;for(c in a){var d=this._paintDefinition[c];d&&(b[c]=new f(c,d,a[c]))}return b};return a}();a.StyleLayer=n;q=function(a){function b(b,c,d){return a.call(this,b,c,d)||this}g(b,a);return b}(n);a.BackgroundStyleLayer=q;q=function(a){function b(b,c,d){b=a.call(this,
b,c,d)||this;b.hasDataDrivenFill=!1;(c=b.getPaintProperty("fill-color"))&&c.isDataDriven&&(b.hasDataDrivenFill=!0);(d=b.getPaintProperty("fill-opacity"))&&d.isDataDriven&&(b.hasDataDrivenFill=!0);b.hasDataDrivenOutline=!1;(d=b.getPaintProperty("fill-outline-color"))&&d.isDataDriven&&(b.hasDataDrivenOutline=!0);!d&&c&&c.isDataDriven&&(b.hasDataDrivenOutline=!0);return b}g(b,a);return b}(n);a.FillStyleLayer=q;q=function(a){function b(b,c,d){b=a.call(this,b,c,d)||this;b.hasDataDrivenLine=!1;(c=b.getPaintProperty("line-color"))&&
c.isDataDriven&&(b.hasDataDrivenLine=!0);(c=b.getPaintProperty("line-opacity"))&&c.isDataDriven&&(b.hasDataDrivenLine=!0);(c=b.getPaintProperty("line-width"))&&c.isDataDriven&&(b.hasDataDrivenLine=!0);return b}g(b,a);return b}(n);a.LineStyleLayer=q;n=function(a){function b(b,c,d){b=a.call(this,b,c,d)||this;b.hasDataDrivenIcon=!1;(c=b.getPaintProperty("icon-color"))&&c.isDataDriven&&(b.hasDataDrivenIcon=!0);(c=b.getPaintProperty("icon-opacity"))&&c.isDataDriven&&(b.hasDataDrivenIcon=!0);(c=b.getLayoutProperty("icon-size"))&&
c.isDataDriven&&(b.hasDataDrivenIcon=!0);b.hasDataDrivenText=!1;(c=b.getPaintProperty("text-color"))&&c.isDataDriven&&(b.hasDataDrivenText=!0);(c=b.getPaintProperty("text-opacity"))&&c.isDataDriven&&(b.hasDataDrivenText=!0);(c=b.getLayoutProperty("text-size"))&&c.isDataDriven&&(b.hasDataDrivenText=!0);return b}g(b,a);return b}(n);a.SymbolStyleLayer=n;n=function(){return function(a,c,d){this.cap=a.getLayoutValue("line-cap",c,d);this.join=a.getLayoutValue("line-join",c,d);this.miterLimit=a.getLayoutValue("line-miter-limit",
c,d);this.roundLimit=a.getLayoutValue("line-round-limit",c,d)}}();a.LineLayout=n;n=function(){return function(a,c,d,e){this.allowOverlap=a.getLayoutValue("icon-allow-overlap",c,e);this.ignorePlacement=a.getLayoutValue("icon-ignore-placement",c,e);this.optional=a.getLayoutValue("icon-optional",c,e);this.rotationAlignment=a.getLayoutValue("icon-rotation-alignment",c,e);this.size=a.getLayoutValue("icon-size",c,e);this.rotate=a.getLayoutValue("icon-rotate",c,e);this.padding=a.getLayoutValue("icon-padding",
c,e);this.keepUpright=a.getLayoutValue("icon-keep-upright",c,e);this.offset=a.getLayoutValue("icon-offset",c,e);2===this.rotationAlignment&&(this.rotationAlignment=d?0:1)}}();a.IconLayout=n;n=function(){return function(a,c,d,e){this.allowOverlap=a.getLayoutValue("text-allow-overlap",c,e);this.ignorePlacement=a.getLayoutValue("text-ignore-placement",c,e);this.optional=a.getLayoutValue("text-optional",c,e);this.rotationAlignment=a.getLayoutValue("text-rotation-alignment",c,e);this.fontArray=a.getLayoutValue("text-font",
c,e);this.maxWidth=a.getLayoutValue("text-max-width",c,e);this.lineHeight=a.getLayoutValue("text-line-height",c,e);this.letterSpacing=a.getLayoutValue("text-letter-spacing",c,e);this.justify=a.getLayoutValue("text-justify",c,e);this.anchor=a.getLayoutValue("text-anchor",c,e);this.maxAngle=a.getLayoutValue("text-max-angle",c,e);this.size=a.getLayoutValue("text-size",c,e);this.rotate=a.getLayoutValue("text-rotate",c,e);this.padding=a.getLayoutValue("text-padding",c,e);this.keepUpright=a.getLayoutValue("text-keep-upright",
c,e);this.transform=a.getLayoutValue("text-transform",c,e);this.offset=a.getLayoutValue("text-offset",c,e);2===this.rotationAlignment&&(this.rotationAlignment=d?0:1)}}();a.TextLayout=n})},"esri/layers/vectorTiles/views/vectorTiles/style/StyleDefinition":function(){define(["require","exports"],function(n,a){Object.defineProperty(a,"__esModule",{value:!0});var g=function(){function a(){}a.backgroundLayoutDefinition={visibility:{type:"enum",values:["visible","none"],"default":"visible"}};a.fillLayoutDefinition=
{visibility:{type:"enum",values:["visible","none"],"default":"visible"}};a.lineLayoutDefinition={visibility:{type:"enum",values:["visible","none"],"default":"visible"},"line-cap":{type:"enum",values:["butt","round","square"],"default":"butt"},"line-join":{type:"enum",values:["bevel","round","miter"],"default":"miter"},"line-miter-limit":{type:"number","default":2},"line-round-limit":{type:"number","default":1.05}};a.symbolLayoutDefinition={visibility:{type:"enum",values:["visible","none"],"default":"visible"},
"symbol-placement":{type:"enum",values:["point","line"],"default":"point"},"symbol-spacing":{type:"number",minimum:1,"default":250},"symbol-avoid-edges":{type:"boolean","default":!1},"icon-image":{type:"string"},"icon-allow-overlap":{type:"boolean","default":!1},"icon-ignore-placement":{type:"boolean","default":!1},"icon-optional":{type:"boolean","default":!1},"icon-rotation-alignment":{type:"enum",values:["map","viewport","auto"],"default":"auto"},"icon-size":{type:"number",minimum:0,"default":1},
"icon-rotate":{type:"number","default":0},"icon-padding":{type:"number",minimum:0,"default":2},"icon-keep-upright":{type:"boolean","default":!1},"icon-offset":{type:"array",value:"number",length:2,"default":[0,0]},"text-field":{type:"string"},"text-rotation-alignment":{type:"enum",values:["map","viewport","auto"],"default":"auto"},"text-font":{type:"array",value:"string","default":["Open Sans Regular","Arial Unicode MS Regular"]},"text-size":{type:"number",minimum:0,"default":16},"text-max-width":{type:"number",
minimum:0,"default":10},"text-line-height":{type:"number","default":1.2},"text-letter-spacing":{type:"number","default":0},"text-justify":{type:"enum",values:["left","center","right"],"default":"center"},"text-anchor":{type:"enum",values:"center left right top bottom top-left top-right bottom-left bottom-right".split(" "),"default":"center"},"text-max-angle":{type:"number",minimum:0,"default":45},"text-rotate":{type:"number","default":0},"text-padding":{type:"number",minimum:0,"default":2},"text-keep-upright":{type:"boolean",
"default":!0},"text-transform":{type:"enum",values:["none","uppercase","lowercase"],"default":"none"},"text-offset":{type:"array",value:"number",length:2,"default":[0,0]},"text-allow-overlap":{type:"boolean","default":!1},"text-ignore-placement":{type:"boolean","default":!1},"text-optional":{type:"boolean","default":!1}};a.backgroundPaintDefinition={"background-opacity":{type:"number",minimum:0,maximum:1,"default":1},"background-color":{type:"color","default":[0,0,0,1]},"background-pattern":{type:"string"}};
a.fillPaintDefinition={"fill-opacity":{type:"number",minimum:0,maximum:1,"default":1},"fill-antialias":{type:"boolean","default":!0},"fill-color":{type:"color","default":[0,0,0,1]},"fill-outline-color":{type:"color","default":[0,0,0,0]},"fill-translate":{type:"array",value:"number",length:2,"default":[0,0]},"fill-translate-anchor":{type:"enum",values:["map","viewport"],"default":"map"},"fill-pattern":{type:"string"}};a.linePaintDefinition={"line-opacity":{type:"number",minimum:0,maximum:1,"default":1},
"line-color":{type:"color","default":[0,0,0,1]},"line-translate":{type:"array",value:"number",length:2,"default":[0,0]},"line-translate-anchor":{type:"enum",values:["map","viewport"],"default":"map"},"line-width":{type:"number",minimum:0,"default":1},"line-gap-width":{type:"number",minimum:0,"default":0},"line-offset":{type:"number","default":0},"line-blur":{type:"number",minimum:0,"default":0},"line-dasharray":{type:"array",value:"number","default":[]},"line-pattern":{type:"string"}};a.symbolPaintDefinition=
{"icon-opacity":{type:"number",minimum:0,maximum:1,"default":1},"icon-color":{type:"color","default":[0,0,0,1]},"icon-halo-color":{type:"color","default":[0,0,0,0]},"icon-halo-width":{type:"number",minimum:0,"default":0},"icon-halo-blur":{type:"number",minimum:0,"default":0},"icon-translate":{type:"array",value:"number",length:2,"default":[0,0]},"icon-translate-anchor":{type:"enum",values:["map","viewport"],"default":"map"},"text-opacity":{type:"number",minimum:0,maximum:1,"default":1},"text-color":{type:"color",
"default":[0,0,0,1]},"text-halo-color":{type:"color","default":[0,0,0,0]},"text-halo-width":{type:"number",minimum:0,"default":0},"text-halo-blur":{type:"number",minimum:0,"default":0},"text-translate":{type:"array",value:"number",length:2,"default":[0,0]},"text-translate-anchor":{type:"enum",values:["map","viewport"],"default":"map"}};a.rasterPaintDefinition={"raster-opacity":{type:"number",minimum:0,maximum:1,"default":1},"raster-hue-rotate":{type:"number","default":0},"raster-brightness-min":{type:"number",
minimum:0,maximum:1,"default":0},"raster-brightness-max":{type:"number",minimum:0,maximum:1,"default":1},"raster-saturation":{type:"number",minimum:-1,maximum:1,"default":0},"raster-contrast":{type:"number",minimum:-1,maximum:1,"default":0},"raster-fade-duration":{type:"number",minimum:0,"default":300}};a.circlePaintDefinition={"circle-opacity":{type:"number",minimum:0,maximum:1,"default":1},"circle-radius":{type:"number",minimum:0,"default":5},"circle-color":{type:"color","default":[0,0,0,1]},"circle-blur":{type:"number",
minimum:0,"default":0},"circle-translate":{type:"array",value:"number",length:2,"default":[0,0]},"circle-translate-anchor":{type:"enum",values:["map","viewport"],"default":"map"}};return a}();a.StyleDefinition=g})},"esri/layers/vectorTiles/views/vectorTiles/style/StyleProperty":function(){define(["require","exports","../../../Color","../GeometryUtils"],function(n,a,g,q){return function(){function a(d,k,b){this.isDataDriven=!1;switch(k.type){case "number":d=!0;break;case "color":d=!0;b=a._parseColor(b);
break;case "array":d="number"===k.value;break;default:d=!1}var c=b.stops&&0<b.stops.length;if(this.isDataDriven=!!b.property)if(c)switch(b.type){case "identity":this.getValue=this._buildIdentity(b,k);break;case "categorical":this.getValue=this._buildCategorical(b,k);break;default:d&&"interval"===b.type&&(d=!1),this.getValue=d?this._buildInterpolate(b,k):this._buildInterval(b,k)}else this.getValue=this._buildIdentity(b,k);else this.getValue=c?d?this._buildZoomInterpolate(b):this._buildZoomInterval(b):
this._buildSimple(b)}a.prototype._buildSimple=function(a){return function(){return a}};a.prototype._buildIdentity=function(d,k){return function(b,c){var f;c&&(f=c.values[d.property],"color"===k.type&&(f=a._parseColor(f)));return void 0!==f?f:void 0!==d.default?d.default:k.default}};a.prototype._buildCategorical=function(a,d){var b=this;return function(c,f){var e;f&&(e=f.values[a.property]);e=b._categorical(e,a.stops);return void 0!==e?e:void 0!==a.default?a.default:d.default}};a.prototype._buildInterval=
function(a,d){var b=this;return function(c,f){var e;f&&(e=f.values[a.property]);return"number"===typeof e?b._interval(e,a.stops):void 0!==a.default?a.default:d.default}};a.prototype._buildInterpolate=function(a,d){var b=this;return function(c,f){var e;f&&(e=f.values[a.property]);return"number"===typeof e?b._interpolate(e,a.stops,a.base||1):void 0!==a.default?a.default:d.default}};a.prototype._buildZoomInterpolate=function(a){var d=this;return function(b){return d._interpolate(b,a.stops,a.base||1)}};
a.prototype._buildZoomInterval=function(a){var d=this;return function(b){return d._interval(b,a.stops)}};a.prototype._categorical=function(a,d){for(var b=d.length,c=0;c<b;c++)if(d[c][0]===a)return d[c][1]};a.prototype._interval=function(a,d){for(var b=d.length,c=0,f=0;f<b;f++)if(d[f][0]<=a)c=f;else break;return d[c][1]};a.prototype._interpolate=function(a,d,b){for(var c,f,e=d.length,g=0;g<e;g++){var k=d[g];if(k[0]<=a)c=k;else{f=k;break}}if(c&&f){g=f[0]-c[0];a-=c[0];b=1===b?a/g:(Math.pow(b,a)-1)/(Math.pow(b,
g)-1);if(Array.isArray(c[1])){c=c[1];f=f[1];a=[];for(g=0;g<c.length;g++)a.push(q.interpolate(c[g],f[g],b));return a}return q.interpolate(c[1],f[1],b)}if(c)return c[1];if(f)return f[1]};a._isEmpty=function(a){for(var d in a)if(a.hasOwnProperty(d))return!1;return!0};a._parseColor=function(d){if(Array.isArray(d))return d;if("string"===typeof d){if(d=new g(d),!this._isEmpty(d))return g.toUnitRGBA(d)}else return d&&d.default&&(d.default=a._parseColor(d.default)),d&&d.stops&&(d.stops=d.stops.map(function(d){return[d[0],
a._parseColor(d[1])]})),d};return a}()})},"esri/layers/vectorTiles/Color":function(){define(["require","exports","esri/Color"],function(n,a,g){return function(){function a(a){return new g(a)}a.toUnitRGBA=function(a){return[a.r/255,a.g/255,a.b/255,null!=a.a?a.a:1]};return a}()})},"esri/Color":function(){define(["dojo/_base/declare","dojo/_base/Color","dojo/has","./kernel"],function(n,a,g,q){n=n([a],{declaredClass:"esri.Color"});n.toJsonColor=function(a){return a&&[a.r,a.g,a.b,1<a.a?a.a:Math.round(255*
a.a)]};n.toDojoColor=function(d){return d&&new a([d[0],d[1],d[2],d[3]/255])};var d,f="named blendColors fromRgb fromHex fromArray fromString".split(" ");for(d=0;d<f.length;d++)n[f[d]]=a[f[d]];g("extend-esri")&&(q.Color=n);return n})},"dojo/_base/declare":function(){define(["./kernel","../has","./lang"],function(n,a,g){function q(a,b){throw Error("declare"+(b?" "+b:"")+": "+a);}function d(a,b){for(var c=[],d=[{cls:0,refs:[]}],e={},f=1,h=a.length,g=0,k,p,r,u,z;g<h;++g){(k=a[g])?"[object Function]"!=
B.call(k)&&q("mixin #"+g+" is not a callable constructor.",b):q("mixin #"+g+" is unknown. Did you use dojo.require to pull it in?",b);p=k._meta?k._meta.bases:[k];r=0;for(k=p.length-1;0<=k;--k)u=p[k].prototype,u.hasOwnProperty("declaredClass")||(u.declaredClass="uniqName_"+K++),u=u.declaredClass,e.hasOwnProperty(u)||(e[u]={count:0,refs:[],cls:p[k]},++f),u=e[u],r&&r!==u&&(u.refs.push(r),++r.count),r=u;++r.count;d[0].refs.push(r)}for(;d.length;){r=d.pop();c.push(r.cls);for(--f;z=r.refs,1==z.length;){r=
z[0];if(!r||--r.count){r=0;break}c.push(r.cls);--f}if(r)for(g=0,h=z.length;g<h;++g)r=z[g],--r.count||d.push(r)}f&&q("can't build consistent linearization",b);k=a[0];c[0]=k?k._meta&&k===c[c.length-k._meta.bases.length]?k._meta.bases.length:1:0;return c}function f(a,b,c,d){var e,f,h,g,k,p,r=this._inherited=this._inherited||{};"string"===typeof a&&(e=a,a=b,b=c,c=d);if("function"===typeof a)h=a,a=b,b=c;else try{h=a.callee}catch(M){if(M instanceof TypeError)q("strict mode inherited() requires the caller function to be passed before arguments",
this.declaredClass);else throw M;}(e=e||h.nom)||q("can't deduce a name to call inherited()",this.declaredClass);c=d=0;g=this.constructor._meta;d=g.bases;p=r.p;if("constructor"!=e){if(r.c!==h&&(p=0,k=d[0],g=k._meta,g.hidden[e]!==h)){(f=g.chains)&&"string"==typeof f[e]&&q("calling chained method with inherited: "+e,this.declaredClass);do if(g=k._meta,f=k.prototype,g&&(f[e]===h&&f.hasOwnProperty(e)||g.hidden[e]===h))break;while(k=d[++p]);p=k?p:-1}if(k=d[++p])if(f=k.prototype,k._meta&&f.hasOwnProperty(e))c=
f[e];else{h=E[e];do if(f=k.prototype,(c=f[e])&&(k._meta?f.hasOwnProperty(e):c!==h))break;while(k=d[++p])}c=k&&c||E[e]}else{if(r.c!==h&&(p=0,(g=d[0]._meta)&&g.ctor!==h)){for((f=g.chains)&&"manual"===f.constructor||q("calling chained constructor with inherited",this.declaredClass);(k=d[++p])&&(!(g=k._meta)||g.ctor!==h););p=k?p:-1}for(;(k=d[++p])&&!(c=(g=k._meta)?g.ctor:k););c=k&&c}r.c=c;r.p=p;if(c)return!0===b?c:c.apply(this,b||a)}function k(a,b,c){return"string"===typeof a?"function"===typeof b?this.__inherited(a,
b,c,!0):this.__inherited(a,b,!0):"function"===typeof a?this.__inherited(a,b,!0):this.__inherited(a,!0)}function b(a,b,c,d){var e=this.getInherited(a,b,c);if(e)return e.apply(this,d||c||b||a)}function c(a){for(var b=this.constructor._meta.bases,c=0,d=b.length;c<d;++c)if(b[c]===a)return!0;return this instanceof a}function h(b,c){for(var d in c)"constructor"!=d&&c.hasOwnProperty(d)&&(b[d]=c[d]);if(a("bug-for-in-skips-shadowed"))for(var e=g._extraNames,f=e.length;f;)d=e[--f],"constructor"!=d&&c.hasOwnProperty(d)&&
(b[d]=c[d])}function e(a){J.safeMixin(this.prototype,a);return this}function p(a,b){a instanceof Array||"function"===typeof a||(b=a,a=void 0);b=b||{};a=a||[];return J([this].concat(a),b)}function z(a,b){return function(){var c=arguments,d=c,e=c[0],f,h;h=a.length;var g;if(!(this instanceof c.callee))return A(c);if(b&&(e&&e.preamble||this.preamble))for(g=Array(a.length),g[0]=c,f=0;;){(e=c[0])&&(e=e.preamble)&&(c=e.apply(this,c)||c);e=a[f].prototype;(e=e.hasOwnProperty("preamble")&&e.preamble)&&(c=e.apply(this,
c)||c);if(++f==h)break;g[f]=c}for(f=h-1;0<=f;--f)e=a[f],(e=(h=e._meta)?h.ctor:e)&&e.apply(this,g?g[f]:c);(e=this.postscript)&&e.apply(this,d)}}function y(a,b){return function(){var c=arguments,d=c,e=c[0];if(!(this instanceof c.callee))return A(c);b&&(e&&(e=e.preamble)&&(d=e.apply(this,d)||d),(e=this.preamble)&&e.apply(this,d));a&&a.apply(this,c);(e=this.postscript)&&e.apply(this,c)}}function r(a){return function(){var b=arguments,c=0,d,e;if(!(this instanceof b.callee))return A(b);for(;d=a[c];++c)if(d=
(e=d._meta)?e.ctor:d){d.apply(this,b);break}(d=this.postscript)&&d.apply(this,b)}}function u(a,b,c){return function(){var d,e,f=0,h=1;c&&(f=b.length-1,h=-1);for(;d=b[f];f+=h)e=d._meta,(d=(e?e.hidden:d.prototype)[a])&&d.apply(this,arguments)}}function x(a){v.prototype=a.prototype;a=new v;v.prototype=null;return a}function A(a){var b=a.callee,c=x(b);b.apply(c,a);return c}function J(b,n,v){"string"!=typeof b&&(v=n,n=b,b="");v=v||{};var A,D,F,K,w,G,H,Q=1,M=n;"[object Array]"==B.call(n)?(G=d(n,b),F=G[0],
Q=G.length-F,n=G[Q]):(G=[0],n?"[object Function]"==B.call(n)?(F=n._meta,G=G.concat(F?F.bases:n)):q("base class is not a callable constructor.",b):null!==n&&q("unknown base class. Did you use dojo.require to pull it in?",b));if(n)for(D=Q-1;;--D){A=x(n);if(!D)break;F=G[D];(F._meta?h:C)(A,F.prototype);K=a("csp-restrictions")?function(){}:new Function;K.superclass=n;K.prototype=A;n=A.constructor=K}else A={};J.safeMixin(A,v);F=v.constructor;F!==E.constructor&&(F.nom="constructor",A.constructor=F);for(D=
Q-1;D;--D)(F=G[D]._meta)&&F.chains&&(H=C(H||{},F.chains));A["-chains-"]&&(H=C(H||{},A["-chains-"]));n&&n.prototype&&n.prototype["-chains-"]&&(H=C(H||{},n.prototype["-chains-"]));F=!H||!H.hasOwnProperty("constructor");G[0]=K=H&&"manual"===H.constructor?r(G):1==G.length?y(v.constructor,F):z(G,F);K._meta={bases:G,hidden:v,chains:H,parents:M,ctor:v.constructor};K.superclass=n&&n.prototype;K.extend=e;K.createSubclass=p;K.prototype=A;A.constructor=K;A.getInherited=k;A.isInstanceOf=c;A.inherited=U;A.__inherited=
f;b&&(A.declaredClass=b,g.setObject(b,K));if(H)for(w in H)A[w]&&"string"==typeof H[w]&&"constructor"!=w&&(F=A[w]=u(w,G,"after"===H[w]),F.nom=w);return K}var C=g.mixin,E=Object.prototype,B=E.toString,v,K=0;v=a("csp-restrictions")?function(){}:new Function;var U=n.config.isDebug?b:f;n.safeMixin=J.safeMixin=function(b,c){var d,e;for(d in c)e=c[d],e===E[d]&&d in E||"constructor"==d||("[object Function]"==B.call(e)&&(e.nom=d),b[d]=e);if(a("bug-for-in-skips-shadowed")&&c)for(var f=g._extraNames,h=f.length;h;)d=
f[--h],e=c[d],e===E[d]&&d in E||"constructor"==d||("[object Function]"==B.call(e)&&(e.nom=d),b[d]=e);return b};return n.declare=J})},"dojo/_base/Color":function(){define(["./kernel","./lang","./array","./config"],function(n,a,g,q){var d=n.Color=function(a){a&&this.setColor(a)};d.named={black:[0,0,0],silver:[192,192,192],gray:[128,128,128],white:[255,255,255],maroon:[128,0,0],red:[255,0,0],purple:[128,0,128],fuchsia:[255,0,255],green:[0,128,0],lime:[0,255,0],olive:[128,128,0],yellow:[255,255,0],navy:[0,
0,128],blue:[0,0,255],teal:[0,128,128],aqua:[0,255,255],transparent:q.transparentColor||[0,0,0,0]};a.extend(d,{r:255,g:255,b:255,a:1,_set:function(a,d,b,c){this.r=a;this.g=d;this.b=b;this.a=c},setColor:function(f){a.isString(f)?d.fromString(f,this):a.isArray(f)?d.fromArray(f,this):(this._set(f.r,f.g,f.b,f.a),f instanceof d||this.sanitize());return this},sanitize:function(){return this},toRgb:function(){return[this.r,this.g,this.b]},toRgba:function(){return[this.r,this.g,this.b,this.a]},toHex:function(){return"#"+
g.map(["r","g","b"],function(a){a=this[a].toString(16);return 2>a.length?"0"+a:a},this).join("")},toCss:function(a){var d=this.r+", "+this.g+", "+this.b;return(a?"rgba("+d+", "+this.a:"rgb("+d)+")"},toString:function(){return this.toCss(!0)}});d.blendColors=n.blendColors=function(a,k,b,c){var f=c||new d;g.forEach(["r","g","b","a"],function(c){f[c]=a[c]+(k[c]-a[c])*b;"a"!=c&&(f[c]=Math.round(f[c]))});return f.sanitize()};d.fromRgb=n.colorFromRgb=function(a,g){var b=a.toLowerCase().match(/^rgba?\(([\s\.,0-9]+)\)/);
return b&&d.fromArray(b[1].split(/\s*,\s*/),g)};d.fromHex=n.colorFromHex=function(a,k){var b=k||new d,c=4==a.length?4:8,f=(1<<c)-1;a=Number("0x"+a.substr(1));if(isNaN(a))return null;g.forEach(["b","g","r"],function(d){var e=a&f;a>>=c;b[d]=4==c?17*e:e});b.a=1;return b};d.fromArray=n.colorFromArray=function(a,g){var b=g||new d;b._set(Number(a[0]),Number(a[1]),Number(a[2]),Number(a[3]));isNaN(b.a)&&(b.a=1);return b.sanitize()};d.fromString=n.colorFromString=function(a,g){var b=d.named[a];return b&&d.fromArray(b,
g)||d.fromRgb(a,g)||d.fromHex(a,g)};return d})},"esri/layers/vectorTiles/views/vectorTiles/style/Filter":function(){define(["require","exports"],function(n,a){return function(){function a(g,d,f){this._op=g;"$type"===d?(this._val=f instanceof Array?f.map(function(d){return a._types.indexOf(d)}):a._types.indexOf(f),this._op+=11):(this._key=d,this._val=f)}a.prototype.filter=function(a){switch(this._op){case 0:return this._val;case 1:return a.values[this._key]===this._val;case 2:return a.values[this._key]!==
this._val;case 3:return a.values[this._key]<this._val;case 4:return a.values[this._key]>this._val;case 5:return a.values[this._key]<=this._val;case 6:return a.values[this._key]>=this._val;case 7:return-1!==this._val.indexOf(a.values[this._key]);case 8:return-1===this._val.indexOf(a.values[this._key]);case 9:for(var d=0,f=this._val;d<f.length;d++){var g=f[d];if(g.filter(a))return!0}return!1;case 10:d=0;for(f=this._val;d<f.length;d++)if(g=f[d],!g.filter(a))return!1;return!0;case 11:d=0;for(f=this._val;d<
f.length;d++)if(g=f[d],g.filter(a))return!1;return!0;case 12:return a.type===this._val;case 13:return a.type!==this._val;case 14:return a.type<this._val;case 15:return a.type>this._val;case 16:return a.type>=this._val;case 17:return a.type<=this._val;case 18:return-1!==this._val.indexOf(a.type);case 19:return-1===this._val.indexOf(a.type)}};a.createFilter=function(g){if(!g)return new a(0,void 0,!0);var d=g[0];if(1>=g.length)return new a(0,void 0,"any"!==d);switch(d){case "\x3d\x3d":return new a(1,
g[1],g[2]);case "!\x3d":return new a(2,g[1],g[2]);case "\x3e":return new a(4,g[1],g[2]);case "\x3c":return new a(3,g[1],g[2]);case "\x3e\x3d":return new a(6,g[1],g[2]);case "\x3c\x3d":return new a(5,g[1],g[2]);case "in":return new a(7,g[1],g.slice(2));case "!in":return new a(8,g[1],g.slice(2));case "any":return new a(9,void 0,g.slice(1).map(a.createFilter.bind(this)));case "all":return new a(10,void 0,g.slice(1).map(a.createFilter.bind(this)));case "none":return new a(11,void 0,g.slice(1).map(a.createFilter.bind(this)));
default:throw Error("invalid operator: "+d);}};a._types=["Unknown","Point","LineString","Polygon"];return a}()})},"esri/layers/vectorTiles/views/vectorTiles/SymbolBucket":function(){define("require exports ../../core/tsSupport/extendsHelper ../../core/tsSupport/decorateHelper ./Bucket ../2d/engine/webgl/Geometry ./style/StyleLayer ./Placement ./GeometryUtils ./TextShaping dojox/string/BidiEngine".split(" "),function(n,a,g,q,d,f,k,b,c,h,e){function p(a,b){if(a.iconMosaicItem&&b.iconMosaicItem){if(a.iconMosaicItem.page!==
b.iconMosaicItem.page)return a.iconMosaicItem.page<b.iconMosaicItem.page?-1:1}else{if(a.iconMosaicItem&&!b.iconMosaicItem)return 1;if(!a.iconMosaicItem&&b.iconMosaicItem)return-1}return 0}(function(){return function(){}})();return function(a){function d(b,c,d,e,f,h,g,k){c=a.call(this,b,c)||this;c._markerMap=new Map;c._glyphMap=new Map;c._glyphBufferDataStorage=new Map;c._sdfMarkers=!1;if(b.hasDataDrivenIcon!==d.isDataDriven())throw Error("incompatible icon buffer");if(b.hasDataDrivenText!==f.isDataDriven())throw Error("incompatible text buffer");
c._iconVertexBuffer=d;c._iconIndexBuffer=e;c._textVertexBuffer=f;c._textIndexBuffer=h;c._placementEngine=g;c._workerTileHandler=k;return c}g(d,a);Object.defineProperty(d.prototype,"markerPageMap",{get:function(){return this._markerMap},enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,"glyphsPageMap",{get:function(){return this._glyphMap},enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,"sdfMarker",{get:function(){return this._sdfMarkers},enumerable:!0,configurable:!0});
d.prototype.copy=function(a,b,c,e,f){a=new d(this.layer,this.zoom,a,b,c,e,f,this._workerTileHandler);a.layerIndex=this.layerIndex;a.layerExtent=this.layerExtent;a._iconIndexStart=b.index;a._textIndexStart=e.index;a._iconIndexCount=0;a._textIndexCount=0;a._symbolInstances=this._symbolInstances;a._workerTileHandler=this._workerTileHandler;a._fontArray=this._fontArray;a._textLayout=this._textLayout;a._iconLayout=this._iconLayout;a._isLinePlacement=this._isLinePlacement;a._avoidEdges=this._avoidEdges;
return a};d.prototype.getResources=function(a,b,c){var e=this.layer,f=this.zoom,h=e.hasDataDrivenIcon,g=e.hasDataDrivenText;a&&a.setExtent(this.layerExtent);for(var k=e.getLayoutProperty("icon-image"),p=e.getLayoutProperty("text-field"),r=e.getLayoutValue("text-font",f),q=e.getLayoutValue("text-transform",f),z=[],u=0,n=this._features;u<n.length;u++){var y=n[u],x=y.getGeometry(a);if(x&&0!==x.length){var S=void 0;k&&(S=e.getLayoutValue("icon-image",f,y),k.isDataDriven||(S=this._replaceKeys(S,y.values)),
S&&b.add(S));var L=void 0,w=!1;if(p&&(L=e.getLayoutValue("text-field",f,y),p.isDataDriven||(L=this._replaceKeys(L,y.values)),L)){switch(q){case 2:L=L.toLowerCase();break;case 1:L=L.toUpperCase()}d._bidiEngine.hasBidiChar(L)&&(w=void 0,w="rtl"===d._bidiEngine.checkContextual(L)?"IDNNN":"ICNNN",L=d._bidiEngine.bidiTransform(L,w,"VLYSN"),w=!0);var G=L.length;if(0<G)for(var H=0,R=r;H<R.length;H++){var M=R[H],T=c[M];T||(T=c[M]=new Set);for(M=0;M<G;M++){var Z=L.charCodeAt(M);T.add(Z)}}}if(S||L)G=e.getLayoutValue("icon-size",
f,y),H=e.getLayoutValue("text-size",f,y),y={sprite:S,label:L,rtl:w,geometry:x,iconSize:G,iconRotate:e.getLayoutValue("icon-rotate",f,y),ddIconValues:h?{color:e.getPaintValue("icon-color",f,y),opacity:e.getPaintValue("icon-opacity",f,y),size:G}:null,textSize:H,textRotate:e.getLayoutValue("text-rotate",f,y),ddTextValues:g?{color:e.getPaintValue("text-color",f,y),opacity:e.getPaintValue("text-opacity",f,y),size:H}:null},z.push(y)}}this._symbolFeatures=z};d.prototype.processFeatures=function(a,e){a&&
a.setExtent(this.layerExtent);var f=this.layer,g=this.zoom,r=this._isLinePlacement=1===f.getLayoutValue("symbol-placement",g),q=this._avoidEdges=f.getLayoutValue("symbol-avoid-edges",g)&&!r,z=8*f.getLayoutValue("symbol-spacing",g),u=f.getLayoutProperty("icon-image"),n=f.getLayoutProperty("text-field"),y=this._workerTileHandler,U,Q;u&&(this._iconLayout=new k.IconLayout(f,g,r),U=y.getSpriteItems(),Q=this._getTranslate(!0));var F,D,I;if(n){F=this._textLayout=new k.TextLayout(f,g,r);this._fontArray=F.fontArray;
I=.5;switch(F.anchor){case 5:case 1:case 7:I=0;break;case 6:case 2:case 8:I=1}D=.5;switch(F.anchor){case 5:case 3:case 6:D=0;break;case 7:case 4:case 8:D=1}f=.5;switch(F.justify){case 0:f=0;break;case 2:f=1}var g=24*F.letterSpacing,u=r?0:24*F.maxWidth,n=24*F.lineHeight,N=[24*F.offset[0],24*F.offset[1]];F=this._fontArray.map(function(a){return y.getGlyphItems(a)});D=new h(F,u,n,g,N,I,D,f);I=this._getTranslate(!1)}this._iconIndexStart=this._iconIndexBuffer.index;this._textIndexStart=this._textIndexBuffer.index;
this._textIndexCount=this._iconIndexCount=0;this._markerMap.clear();this._glyphMap.clear();this._symbolInstances=f=[];g=this._textLayout;u=1;g&&g.size&&(u=g.size/24);n=g?g.maxAngle*c.C_DEG_TO_RAD:0;F=g?8*g.size:0;for(var N=0,S=this._symbolFeatures;N<S.length;N++){var L=S[N],w=void 0;L.sprite&&(w=U[L.sprite])&&w.sdf&&(this._sdfMarkers=!0);var G=void 0,H=L.label,R=0;if(H&&(G=D.getShaping(H,L.rtl))&&0<G.length){for(var R=1E30,H=-1E30,M=0,T=G;M<T.length;M++)var Z=T[M],R=Math.min(R,Z.x),H=Math.max(H,Z.x);
R=(H-R+48)*u*8}H=0;for(M=L.geometry;H<M.length;H++){var T=M[H],ca=void 0;r?(G&&0<G.length&&g&&g.size&&d._smoothVertices(T,8*g.size*(2+Math.min(2,4*Math.abs(g.offset[1])))),ca=d._findAnchors(T,z,R)):ca=[new b.Anchor(T[0].x,T[0].y)];for(Z=0;Z<ca.length;Z++){var X=ca[Z];0>X.x||4096<X.x||0>X.y||4096<X.y||r&&0<R&&0===g.rotationAlignment&&!d._honorsTextMaxAngle(T,X,R,n,F)||f.push({shaping:G,line:T,iconMosaicItem:w,anchor:X,iconSize:L.iconSize,iconRotate:L.iconRotate,ddIconValues:L.ddIconValues,textSize:L.textSize,
textRotate:L.textRotate,ddTextValues:L.ddTextValues})}}}f.sort(p);for(r=0;r<f.length;r++)this._processFeature(f[r],Q,I,q);this._addPlacedGlyphs()};d.prototype.updateSymbols=function(){this._iconIndexStart=this._iconIndexBuffer.index;this._textIndexStart=this._textIndexBuffer.index;this._textIndexCount=this._iconIndexCount=0;this._markerMap.clear();this._glyphMap.clear();var a=this._avoidEdges,b=this.layer,c;b.getLayoutProperty("icon-image")&&(c=this._getTranslate(!0));var d;b.getLayoutProperty("text-field")&&
(d=this._getTranslate(!1));for(var b=0,e=this._symbolInstances;b<e.length;b++)this._processFeature(e[b],c,d,a);this._addPlacedGlyphs()};d.prototype._getTranslate=function(a){var b=this.layer.getPaintValue(a?"icon-translate":"text-translate",this.zoom);if(0!==b[0]||0!==b[1]){var c=this._placementEngine.mapAngle;return 0!==c&&0===this.layer.getPaintValue(a?"icon-translate-anchor":"text-translate-anchor",this.zoom)?(a=Math.sin(c),c=Math.cos(c),[8*(b[0]*c-b[1]*a),8*(b[0]*a+b[1]*c)]):[8*b[0],8*b[1]]}};
d.prototype._replaceKeys=function(a,b){return a.replace(/{([^{}]+)}/g,function(a,c){return c in b?b[c]:""})};d.prototype._processFeature=function(a,b,d,e){var g=a.line,h=a.iconMosaicItem,k=a.shaping,p=a.anchor,r=this._iconLayout,q=r&&!!h,z=!0,n=1;q&&(r.size=a.iconSize,r.rotate=a.iconRotate,n=8*r.size,z=r.optional||!h);var u=this._textLayout,y=u&&k&&0<k.length,x;x=1;var A=!0;y&&(u.size=a.textSize,u.rotate=a.textRotate,x=u.size/24,x*=8,A=u.optional||!k||0===k.length);var S=new f.Point(0,-17),L;if(q){L=
this._placementEngine.getIconPlacement(p,b,h,n,g,r,e);if(L.footprint.minzoom===c.C_INFINITY&&!z)return;p.minzoom>L.footprint.minzoom&&(L.footprint.minzoom=p.minzoom)}var w;if(y&&(w=this._placementEngine.getTextPlacement(p,d,S,k,x,g,u,e))){if(w.footprint.minzoom===c.C_INFINITY&&!A)return;p.minzoom>w.footprint.minzoom&&(w.footprint.minzoom=p.minzoom)}if(!A&&!z||!z&&w&&w.footprint.minzoom!==c.C_INFINITY||!A&&L&&L.footprint.minzoom!==c.C_INFINITY)b=Math.max(L.footprint.minzoom,w.footprint.minzoom),L.footprint.minzoom=
b,w.footprint.minzoom=b;w&&w.footprint.minzoom!==c.C_INFINITY&&(u.ignorePlacement||this._placementEngine.add(w),this._storePlacedGlyphs(w.shapes,w.footprint.minzoom,this.zoom,a.ddTextValues));L&&L.footprint.minzoom!==c.C_INFINITY&&(r.ignorePlacement||this._placementEngine.add(L),this._addPlacedIcons(L.shapes,L.footprint.minzoom,this.zoom,h.page,a.ddIconValues))};d.prototype._addPlacedIcons=function(a,b,d,e,f){b=Math.max(d+c.log2(b),0);for(var h=this._iconVertexBuffer,g=this._iconIndexBuffer,k=0;k<
a.length;k++){var p=a[k],r=Math.max(d+c.log2(p.minzoom),b),q=Math.min(d+c.log2(p.maxzoom),25);if(!(q<=r)){var z=p.tl,n=p.tr,u=p.bl,y=p.br,x=p.mosaicRect,A=p.labelAngle,p=p.anchor,J=h.index,w=x.x,G=x.y,H=w+x.width,x=G+x.height;h.add(p.x,p.y,z.x,z.y,w,G,A,r,q,b,f);h.add(p.x,p.y,n.x,n.y,H,G,A,r,q,b,f);h.add(p.x,p.y,u.x,u.y,w,x,A,r,q,b,f);h.add(p.x,p.y,y.x,y.y,H,x,A,r,q,b,f);g.add(J+0,J+1,J+2);g.add(J+1,J+2,J+3);this._markerMap.has(e)?this._markerMap.get(e)[1]+=6:this._markerMap.set(e,[this._iconIndexStart+
this._iconIndexCount,6]);this._iconIndexCount+=2}}};d.prototype._addPlacedGlyphs=function(){var a=this,b=this._textVertexBuffer,c=this._textIndexBuffer;this._glyphBufferDataStorage.forEach(function(d,e){for(var f=0;f<d.length;f++){var h=d[f],g=b.index;b.add(h.glyphAnchor[0],h.glyphAnchor[1],h.tl[0],h.tl[1],h.xmin,h.ymin,h.labelAngle,h.minLod,h.maxLod,h.placementLod,h.ddValues);b.add(h.glyphAnchor[0],h.glyphAnchor[1],h.tr[0],h.tr[1],h.xmax,h.ymin,h.labelAngle,h.minLod,h.maxLod,h.placementLod,h.ddValues);
b.add(h.glyphAnchor[0],h.glyphAnchor[1],h.bl[0],h.bl[1],h.xmin,h.ymax,h.labelAngle,h.minLod,h.maxLod,h.placementLod,h.ddValues);b.add(h.glyphAnchor[0],h.glyphAnchor[1],h.br[0],h.br[1],h.xmax,h.ymax,h.labelAngle,h.minLod,h.maxLod,h.placementLod,h.ddValues);c.add(g+0,g+1,g+2);c.add(g+1,g+2,g+3);a._glyphMap.has(e)?a._glyphMap.get(e)[1]+=6:a._glyphMap.set(e,[a._textIndexStart+a._textIndexCount,6]);a._textIndexCount+=2}});this._glyphBufferDataStorage.clear()};d.prototype._storePlacedGlyphs=function(a,
b,d,e){b=Math.max(d+c.log2(b),0);for(var f=0;f<a.length;f++){var h=a[f],g=Math.max(d+c.log2(h.minzoom),b),k=Math.min(d+c.log2(h.maxzoom),25);if(!(k<=g)){var p=h.tl,r=h.tr,q=h.bl,z=h.br,n=h.labelAngle,y=h.anchor,u=h.mosaicRect;this._glyphBufferDataStorage.has(h.page)||this._glyphBufferDataStorage.set(h.page,[]);this._glyphBufferDataStorage.get(h.page).push({glyphAnchor:[y.x,y.y],tl:[p.x,p.y],tr:[r.x,r.y],bl:[q.x,q.y],br:[z.x,z.y],xmin:u.x,ymin:u.y,xmax:u.x+u.width,ymax:u.y+u.height,labelAngle:n,minLod:g,
maxLod:k,placementLod:b,ddValues:e})}}};d._findAnchors=function(a,d,e){d+=e;for(var h=0,g=a.length-1,k=0;k<g;k++)h+=f.Point.distance(a[k],a[k+1]);k=.5*(e||d);if(h<=k)return[];e=k/h;d=h/Math.max(Math.round(h/d),1);for(var h=0,g=-d/2,p=[],r=a.length-1,k=0;k<r;k++){for(var q=a[k],z=a[k+1],n=z.x-q.x,y=z.y-q.y,u=Math.sqrt(n*n+y*y),x=void 0;g+d<h+u;){var g=g+d,I=(g-h)/u,N=c.interpolate(q.x,z.x,I),I=c.interpolate(q.y,z.y,I);void 0===x&&(x=Math.atan2(y,n));p.push(new b.Anchor(N,I,x,k,e))}h+=u}return p};d.deviation=
function(a,b,c){return Math.atan2((b.x-a.x)*(c.y-b.y)-(b.y-a.y)*(c.x-b.x),(b.x-a.x)*(c.x-b.x)+(b.y-a.y)*(c.y-b.y))};d._honorsTextMaxAngle=function(a,b,c,d,e){var h=0;c/=2;for(var g=new f.Point(b.x,b.y),k=b.segment+1;h>-c;){--k;if(0>k)return!1;h-=f.Point.distance(a[k],g);g=a[k]}h+=f.Point.distance(a[k],a[k+1]);b=[];for(var g=0,p=a.length;h<c;){var r=a[k],q=void 0;do{++k;if(k===p)return!1;q=a[k]}while(q.isEqual(r));var z=k,n=void 0;do{++z;if(z===p)return!1;n=a[z]}while(n.isEqual(q));r=this.deviation(r,
q,n);b.push({deviation:r,distToAnchor:h});for(g+=r;h-b[0].distToAnchor>e;)g-=b.shift().deviation;if(Math.abs(g)>d)return!1;h+=f.Point.distance(q,n)}return!0};d._smoothVertices=function(a,b){if(!(0>=b)){var c=a.length;if(!(3>c)){var d=[],e=0;d.push(0);for(var h=1;h<c;h++)e+=f.Point.distance(a[h],a[h-1]),d.push(e);b=Math.min(b,.2*e);e=[];e.push(a[0].x);e.push(a[0].y);var g=a[c-1].x,k=a[c-1].y,h=f.Point.sub(a[0],a[1]);h.normalize();a[0].x+=b*h.x;a[0].y+=b*h.y;h.assignSub(a[c-1],a[c-2]);h.normalize();
a[c-1].x+=b*h.x;a[c-1].y+=b*h.y;for(h=1;h<c;h++)d[h]+=b;d[c-1]+=b;for(var p=.5*b,h=1;h<c-1;h++){for(var q=0,r=0,z=0,n=h-1;0<=n&&!(d[n+1]<d[h]-p);n--){var y=p+d[n+1]-d[h],u=d[n+1]-d[n],N=d[h]-d[n]<p?1:y/u;if(1E-6>Math.abs(N))break;var S=N*N,L=N*y-.5*S*u,w=N*u/b,G=a[n+1],H=a[n].x-G.x,R=a[n].y-G.y,q=q+w/L*(G.x*N*y+.5*S*(y*H-u*G.x)-S*N*u*H/3),r=r+w/L*(G.y*N*y+.5*S*(y*R-u*G.y)-S*N*u*R/3),z=z+w}for(n=h+1;n<c&&!(d[n-1]>d[h]+p);n++){y=p-d[n-1]+d[h];u=d[n]-d[n-1];N=d[n]-d[h]<p?1:y/u;if(1E-6>Math.abs(N))break;
S=N*N;L=N*y-.5*S*u;w=N*u/b;G=a[n-1];H=a[n].x-G.x;R=a[n].y-G.y;q+=w/L*(G.x*N*y+.5*S*(y*H-u*G.x)-S*N*u*H/3);r+=w/L*(G.y*N*y+.5*S*(y*R-u*G.y)-S*N*u*R/3);z+=w}e.push(q/z);e.push(r/z)}e.push(g);e.push(k);for(n=h=0;h<c;h++)a[h].x=e[n++],a[h].y=e[n++]}}};d._bidiEngine=new e;return d}(d)})},"esri/layers/vectorTiles/views/vectorTiles/Placement":function(){define(["require","exports","../2d/engine/webgl/Geometry","./GeometryUtils","./Conflict"],function(n,a,g,q,d){Object.defineProperty(a,"__esModule",{value:!0});
n=function(){return function(a,b,d,f,g){void 0===d&&(d=0);void 0===f&&(f=-1);void 0===g&&(g=c);this.x=a;this.y=b;this.angle=d;this.segment=f;this.minzoom=g}}();a.Anchor=n;n=function(){return function(a,b,c,d){this.glyph=a;this.x=b;this.y=c;this.glyphItem=d}}();a.ShapedGlyph=n;var f=function(){return function(a,b,d,f,g,k,n){void 0===g&&(g=!1);void 0===k&&(k=c);void 0===n&&(n=q.C_INFINITY);this.anchor=a;this.labelAngle=b;this.glyphAngle=d;this.page=f;this.upsideDown=g;this.minzoom=k;this.maxzoom=n}}(),
k=function(){return function(a,b,c,d,f,g,k,q,n,J){this.tl=a;this.tr=b;this.bl=c;this.br=d;this.mosaicRect=f;this.labelAngle=g;this.anchor=k;this.minzoom=q;this.maxzoom=n;this.page=J}}();a.PlacedSymbol=k;var b=function(){return function(a,b){this.footprint=a;this.shapes=b}}();a.Placement=b;var c=.5;n=function(){function a(){this.mapAngle=0;this._conflictEngine=new d.ConflictEngine}a.prototype.reset=function(){this._conflictEngine.reset()};a.prototype.setAngle=function(a){this.mapAngle=a;this._conflictEngine.setAngle(a)};
a.prototype.getIconPlacement=function(a,f,h,n,r,u,x){var e=h.width/(h.sdfRatio*h.pixelRatio),p=h.height/(h.sdfRatio*h.pixelRatio);r=u.offset[0]-e/2;var z=u.offset[1]-p/2,e=r+e,p=z+p,y=h.rect,B=(h.sdf?17:2)/h.sdfRatio,v=r-B,K=z-B,U=v+y.width/(h.pixelRatio*h.sdfRatio),Q=K+y.height/(h.pixelRatio*h.sdfRatio);h=new g.Point(v,K);B=new g.Point(U,Q);Q=new g.Point(v,Q);K=new g.Point(U,K);U=u.rotate*q.C_DEG_TO_RAD;v=1===u.rotationAlignment;0<=a.segment&&!v&&(U+=a.angle);if(0!==U){var F=Math.cos(U),D=Math.sin(U);
h.rotate(F,D);B.rotate(F,D);Q.rotate(F,D);K.rotate(F,D)}F=8*u.padding;D=new g.Point(a.x,a.y);a=new d.Footprint(this.mapAngle,F,v);a.addBox(D,new d.Box(r,z,e,p),n,U,f,c,q.C_INFINITY);f=new k(h,K,Q,B,y,0,D,c,q.C_INFINITY,0);f=new b(a,[f]);n=c;u.allowOverlap||(n=this._conflictEngine.getMinZoom(f.footprint,n,x,v));a.minzoom=n;return f};a.prototype.getTextPlacement=function(a,h,n,y,r,u,x,A){for(var e=new g.Point(a.x,a.y),p=x.rotate*q.C_DEG_TO_RAD,z=0===x.rotationAlignment,B=x.keepUpright,v=c,K=!z,U=K?
0:a.angle,Q=0<=a.segment&&z,F=new d.Footprint(this.mapAngle,8*x.padding,K),D=[],I=!Q,N=Number.POSITIVE_INFINITY,S=Number.NEGATIVE_INFINITY,L=N,w=S,G=Q?B:z&&B,H,R=0;R<y.length;R++){var M=y[R],T=M.glyphItem;if(T&&!T.rect.isEmpty){var Z=T.rect,ca=T.metrics,X=T.page;I&&(H&&H!==M.y&&(F.addBox(e,new d.Box(N,L,S,w),r,p,h,c,q.C_INFINITY),N=Number.POSITIVE_INFINITY,S=Number.NEGATIVE_INFINITY,L=N,w=S),H=M.y);var fa=[];if(Q){if(T=(n.x+M.x+ca.left-4+.5*T.metrics.width)*r,v=this._placeGlyph(a,v,T,u,a.segment,
1,X,fa),B&&(v=this._placeGlyph(a,v,T,u,a.segment,-1,X,fa)),2<=v)break}else fa.push(new f(e,U,U,X)),z&&B&&fa.push(new f(e,U+q.C_PI,U+q.C_PI,X,!0));for(var X=M.x+n.x+ca.left,M=M.y+n.y-ca.top,T=X+ca.width,ca=M+ca.height,ga=new g.Point(X-4,M-4),ea=new g.Point(ga.x+Z.width,ga.y+Z.height),da=new g.Point(ga.x,ea.y),ha=new g.Point(ea.x,ga.y),W=0;W<fa.length;W++){var Y=fa[W],ka=ga.clone(),la=da.clone(),ma=ha.clone(),na=ea.clone(),ja=M,oa=ca,aa=Y.glyphAngle+p;if(0!==aa){var O=Math.cos(aa),V=Math.sin(aa);ka.rotate(O,
V);na.rotate(O,V);la.rotate(O,V);ma.rotate(O,V)}D.push(new k(ka,ma,la,na,Z,Y.labelAngle,Y.anchor,Y.minzoom,Y.maxzoom,Y.page));if(!G||this._legible(Y.labelAngle))I?(X<N&&(N=X),ja<L&&(L=ja),T>S&&(S=T),oa>w&&(w=oa)):2>Y.minzoom&&F.addBox(Y.anchor,new d.Box(X,ja,T,oa),r,aa,h,Y.minzoom,Y.maxzoom)}}}if(2<=v)return null;I&&F.addBox(e,new d.Box(N,L,S,w),r,p,h,c,q.C_INFINITY);a=new b(F,D);x.allowOverlap||(v=this._conflictEngine.getMinZoom(a.footprint,v,A,K));F.minzoom=v;return a};a.prototype.add=function(a){this._conflictEngine.add(a.footprint)};
a.prototype._legible=function(a){a=q.radToByte(a);return 65>a||193<=a};a.prototype._placeGlyph=function(a,b,c,d,h,k,n,A){var e=0>k?q.positiveMod(a.angle+q.C_PI,q.C_2PI):a.angle,p=this._legible(e),r=0;0>c&&(k*=-1,c*=-1,r=q.C_PI);0<k&&++h;a=new g.Point(a.x,a.y);var z=d[h],y=q.C_INFINITY;if(d.length<=h)return y;for(;;){var u=z.x-a.x,x=z.y-a.y,Q=Math.sqrt(u*u+x*x),F=Math.max(c/Q,b),u=q.positiveMod(Math.atan2(x/Q,u/Q)+r,q.C_2PI);A.push(new f(a,e,u,n,p,F,y));if(F<=b)return F;a=z.clone();do{h+=k;if(d.length<=
h||0>h)return F;z=d[h]}while(a.isEqual(z));y=z.x-a.x;u=z.y-a.y;x=Math.sqrt(y*y+u*u);y*=Q/x;u*=Q/x;a.x-=y;a.y-=u;y=F}};return a}();a.PlacementEngine=n})},"esri/layers/vectorTiles/views/vectorTiles/Conflict":function(){define(["require","exports","../2d/engine/webgl/Geometry","./GeometryUtils"],function(n,a,g,q){Object.defineProperty(a,"__esModule",{value:!0});n=function(){function a(a,c,d,e){this.left=a;this.top=c;this.right=d;this.bottom=e}a.prototype.clone=function(){return new a(this.left,this.top,
this.right,this.bottom)};a.prototype.move=function(a,c){this.left+=a;this.top+=c;this.right+=a;this.bottom+=c};a.prototype.rotate=function(a,c){var b=this.left,d=this.right,f=this.top,g=this.bottom,k=b*a-f*c,q=b*c+f*a,n=d*a-f*c,f=d*c+f*a,x=b*a-g*c,b=b*c+g*a,A=d*a-g*c,d=d*c+g*a;this.left=Math.min(k,n,x,A);this.top=Math.min(q,f,b,d);this.right=Math.max(k,n,x,A);this.bottom=Math.max(q,f,b,d)};a.overlaps=function(a,c){return a.right>c.left&&a.left<c.right&&a.bottom>c.top&&a.top<c.bottom};return a}();
a.Box=n;var d=function(){function a(a,c,d,e){this.anchor=a;this.corners=c;this.minzoom=d;this.maxzoom=e}a.prototype.left=function(){return this.corners[0].x};a.prototype.right=function(){return this.corners[2].x};a.prototype.top=function(){return this.corners[1].y};a.prototype.bottom=function(){return this.corners[3].y};return a}();a.Obstacle=d;n=function(){function a(a,c,d){this.obstacles=[];this.mapAngle=a;this.padding=c;this.isScreenAligned=d;this.minzoom=f}a.prototype.addBox=function(a,c,f,e,
k,q,n){var b=c.left*f-this.padding,h=c.top*f-this.padding,p=c.right*f+this.padding;c=c.bottom*f+this.padding;b=[new g.Point(b,h),new g.Point(p,h),new g.Point(p,c),new g.Point(b,c)];0!==this.mapAngle&&(h=Math.cos(this.mapAngle),p=Math.sin(this.mapAngle),a=a.clone(),a.rotate(h,p));this.isScreenAligned||(e+=this.mapAngle);if(0!==e){h=Math.cos(e);p=Math.sin(e);b[0].rotate(h,p);b[1].rotate(h,p);b[2].rotate(h,p);b[3].rotate(h,p);e=0;for(h=1;4>h;h++)b[h].x<b[e].x?e=h:b[h].x===b[e].x&&b[h].y<b[e].y&&(e=h);
if(e){p=[];for(h=0;4>h;h++)p.push(b[(h+e)%4]);b=p}}if(k)for(e=0,h=b;e<h.length;e++)h[e].move(k[0],k[1]);this.obstacles.push(new d(a,b,q,n))};return a}();a.Footprint=n;var f=.5;n=function(){function a(){this._grid=[]}a.prototype.setAngle=function(a){};a.prototype.reset=function(){this._grid=[]};a.prototype.add=function(b){var c=this._grid,d=0;for(b=b.obstacles;d<b.length;d++)for(var e=b[d],f=e.anchor,g=a._gridClamp(Math.min(e.left()+f.x,f.x)),k=a._gridClamp(Math.max(e.right()+f.x,f.x)),q=a._gridClamp(Math.min(e.top()+
f.y,f.y)),f=a._gridClamp(Math.max(e.bottom()+f.y,f.y));q<=f;q++)for(var n=g;n<=k;n++){var x=c[16*q+n];x||(x=c[16*q+n]=[]);x.push(e)}};a.prototype.getMinZoom=function(b,c,d,e){if(0===b.obstacles.length)return q.C_INFINITY;d=this._grid;e=0;for(b=b.obstacles;e<b.length;e++)for(var f=b[e],h=f.anchor,g=a._gridClamp(Math.min(f.left()+h.x,h.x)),k=a._gridClamp(Math.max(f.right()+h.x,h.x)),n=a._gridClamp(Math.min(f.top()+h.y,h.y)),h=a._gridClamp(Math.max(f.bottom()+h.y,h.y));n<=h;n++)for(var x=g;x<=k;x++){var A=
d[16*n+x];if(A)for(var J=0;J<A.length;J++){var C=A[J];if(!(f.minzoom>=C.maxzoom||C.minzoom>=f.maxzoom)&&(c=a._calcPlacementZoom(f,C,c),2<=c))return q.C_INFINITY}}return 2>c?c:q.C_INFINITY};a._gridClamp=function(a){return q.clamp(a>>9,-7,8)};a._calcPlacementZoom=function(b,c,d){var e=c.anchor.x-b.anchor.x;if(0===e&&(b.right()<c.left()||c.right()<b.left()))return d;var f=c.anchor.y-b.anchor.y;if(0===f&&(b.bottom()<c.top()||c.bottom()<b.top()))return d;var h=q.C_INFINITY;if(0!==e){var g=(0<e?b.right()-
c.left():b.left()-c.right())/e;g<h&&(h=g);e=0<e?a._calcExtZoomX(b,c,g):a._calcExtZoomX(c,b,g);e<h&&(h=e)}0!==f&&(e=(0<f?b.bottom()-c.top():b.top()-c.bottom())/f,e<h&&(h=e),f=0<f?a._calcExtZoomY(b,c,e):a._calcExtZoomY(c,b,e),f<h&&(h=f));if(h<b.minzoom||h<c.minzoom)return d;h=Math.min(h,b.maxzoom,c.maxzoom);h<d&&(h=d);return h};a._calcExtZoomX=function(a,c,d){var b,f,h;if(a.anchor.y+a.corners[2].y/d<c.anchor.y+c.corners[0].y/d){b=a.corners[2].x-a.corners[3].x;h=a.corners[2].y-a.corners[3].y;var g=c.corners[1].x-
c.corners[0].x;f=c.corners[1].y-c.corners[0].y;0<=b*f-h*g?a.anchor.y+a.corners[3].y/d<c.anchor.y+c.corners[0].y/d?(d=a.corners[3],b=c.corners[0],f=c.corners[1],h=1):(d=c.corners[0],b=a.corners[3],f=a.corners[2],h=-1):a.anchor.y+a.corners[2].y/d>c.anchor.y+c.corners[1].y/d?(d=a.corners[2],b=c.corners[0],f=c.corners[1],h=1):(d=c.corners[1],b=a.corners[3],f=a.corners[2],h=-1)}else b=a.corners[2].x-a.corners[1].x,h=a.corners[2].y-a.corners[1].y,g=c.corners[3].x-c.corners[0].x,f=c.corners[3].y-c.corners[0].y,
0>b*f-h*g?a.anchor.y+a.corners[1].y/d>c.anchor.y+c.corners[0].y/d?(d=a.corners[1],b=c.corners[0],f=c.corners[3],h=1):(d=c.corners[0],b=a.corners[1],f=a.corners[2],h=-1):a.anchor.y+a.corners[2].y/d<c.anchor.y+c.corners[3].y/d?(d=a.corners[2],b=c.corners[0],f=c.corners[3],h=1):(d=c.corners[3],b=a.corners[1],f=a.corners[2],h=-1);g=f.x-b.x;f=f.y-b.y;return h*((d.y-b.y)*g-(d.x-b.x)*f)/((a.anchor.x-c.anchor.x)*f-(a.anchor.y-c.anchor.y)*g)};a._calcExtZoomY=function(a,c,d){var b,f,h;if(a.anchor.x+a.corners[3].x/
d<c.anchor.x+c.corners[1].x/d){b=a.corners[3].x-a.corners[2].x;h=a.corners[3].y-a.corners[2].y;var g=c.corners[0].x-c.corners[1].x;f=c.corners[0].y-c.corners[1].y;0>b*f-h*g?a.anchor.x+a.corners[2].x/d<c.anchor.x+c.corners[1].x/d?(d=a.corners[2],b=c.corners[1],f=c.corners[0],h=1):(d=c.corners[1],b=a.corners[2],f=a.corners[3],h=-1):a.anchor.x+a.corners[3].x/d>c.anchor.x+c.corners[0].x/d?(d=a.corners[3],b=c.corners[1],f=c.corners[0],h=1):(d=c.corners[0],b=a.corners[2],f=a.corners[3],h=-1)}else b=a.corners[3].x-
a.corners[0].x,h=a.corners[3].y-a.corners[0].y,g=c.corners[2].x-c.corners[1].x,f=c.corners[2].y-c.corners[1].y,0<b*f-h*g?a.anchor.x+a.corners[0].x/d>c.anchor.x+c.corners[1].x/d?(d=a.corners[0],b=c.corners[1],f=c.corners[2],h=1):(d=c.corners[1],b=a.corners[0],f=a.corners[3],h=-1):a.anchor.x+a.corners[3].x/d<c.anchor.x+c.corners[2].x/d?(d=a.corners[3],b=c.corners[1],f=c.corners[2],h=1):(d=c.corners[2],b=a.corners[0],f=a.corners[3],h=-1);g=f.x-b.x;f=f.y-b.y;return h*((d.y-b.y)*g-(d.x-b.x)*f)/((a.anchor.x-
c.anchor.x)*f-(a.anchor.y-c.anchor.y)*g)};return a}();a.ConflictEngine=n})},"esri/layers/vectorTiles/views/vectorTiles/TextShaping":function(){define(["require","exports","./Placement"],function(n,a,g){return function(){function a(a,f,g,b,c,h,e,p){this._glyphItems=a;this._maxWidth=f;this._lineHeight=g;this._letterSpacing=b;this._offset=c;this._hAnchor=h;this._vAnchor=e;this._justify=p}a.prototype.getShaping=function(a,f){for(var d=this._letterSpacing,b=this._offset[0],c=this._offset[1],h=[],e=a.length,
p=0;p<e;p++){for(var q=a.charCodeAt(p),n=void 0,r=0,u=this._glyphItems;r<u.length&&!(n=u[r][q]);r++);n&&(h.push(new g.ShapedGlyph(q,b,c,n)),b+=n.metrics.advance+d)}if(0<h.length){r=this._maxWidth;d=this._lineHeight;c=this._justify;e=h.length;n=q=b=0;if(0!==r)for(var x=u=0,p=0;p<e;p++){var A=h[p];A.x-=x;A.y=f?A.y-d*b:A.y+d*b;if(A.x>r&&0<u){for(var J=h[u+1].x,n=Math.max(J,n),C=u+1;C<=p;C++)h[C].y=f?h[C].y-d:h[C].y+d,h[C].x-=J;c&&this._applyJustification(h,q,u-1);q=u+1;u=0;x+=J;b++}32===A.glyph&&(u=
p)}p=h[e-1];n=Math.max(n,p.x+p.glyphItem.metrics.advance);c&&this._applyJustification(h,q,e-1);p=(c-this._hAnchor)*n;c=(-this._vAnchor*(b+1)+.5)*d;f&&b&&(c+=b*d);for(d=0;d<h.length;d++)b=h[d],b.x+=p,b.y+=c}return h};a.prototype._applyJustification=function(a,f,g){for(var b=a[g],b=(b.x+b.glyphItem.metrics.advance)*this._justify;f<=g;f++)a[f].x-=b};return a}()})},"dojox/string/BidiEngine":function(){define(["dojo/_base/lang","dojo/_base/declare","dojo/Stateful"],function(n,a,g){function q(a,c,e,h,g){var k=
a;void 0===c&&(c=g.defInFormat);void 0===e&&(e=g.defOutFormat);void 0===h&&(h=g.defSwap);if(c!==e){var l,m=c.substring(0,1);l=c.substring(1,4);var p=e.substring(0,1),n=e.substring(1,4);"C"===l.charAt(0)&&(l=d(k),l="ltr"===l||"rtl"===l?l.toUpperCase():"L"===c.charAt(2)?"LTR":"RTL",c=m+l);"C"===n.charAt(0)&&(l=d(k),"rtl"===l?n="RTL":"ltr"===l?(k=k.split(""),k.reverse(),l=d(k.join("")),n=l.toUpperCase()):n="L"===e.charAt(2)?"LTR":"RTL",e=p+n)}if(c===e)return a;p=c.substring(0,1);k=c.substring(1,4);m=
e.substring(0,1);n=e.substring(1,4);g.inFormat=c;g.outFormat=e;g.swap=h;if("L"===p&&"VLTR"===e){if("LTR"===k)return g.dir=K,f(a,g);if("RTL"===k)return g.dir=U,f(a,g)}if("V"===p&&"V"===m)return g.dir="RTL"===k?U:K,b(a,g);if("L"===p&&"VRTL"===e)return g.dir="LTR"===k?K:U,a=f(a,g),b(a);if("VLTR"===c&&"LLTR"===e)return g.dir=K,f(a,g);if("V"===p&&"L"===m&&k!==n)return a=b(a),"RTL"===k?q(a,"LLTR","VLTR",h,g):q(a,"LRTL","VRTL",h,g);if("VRTL"===c&&"LRTL"===e)return q(a,"LRTL","VRTL",h,g);if("L"===p&&"L"===
m)return c=g.swap,g.swap=c.substr(0,1)+"N","RTL"===k?(g.dir=U,a=f(a,g),g.swap="N"+c.substr(1,2),g.dir=K,a=f(a,g)):(g.dir=K,a=f(a,g),g.swap="N"+c.substr(1,2),a=q(a,"VLTR","LRTL",g.swap,g)),a}function d(a){return(a=/[A-Za-z\u05d0-\u065f\u066a-\u06ef\u06fa-\u07ff\ufb1d-\ufdff\ufe70-\ufefc]/.exec(a))?"z">=a[0]?"ltr":"rtl":""}function f(a,b){var c=a.split(""),d=[];k(c,d,b);if(0!==b.hiLevel&&b.swap.substr(0,1)!==b.swap.substr(1,2))for(var f=0;f<c.length;f++)if(1===d[f]){var h=f,g;b:{g=c[f];for(var l=void 0,
m=0,p=D.length-1;m<=p;)if(l=Math.floor((m+p)/2),g<D[l][0])p=l-1;else if(g>D[l][0])m=l+1;else{g=D[l][1];break b}}c[h]=g}e(2,c,d,b);e(1,c,d,b);C=d;return c.join("")}function k(a,b,c){var d=a.length,e=c.dir?fa:X,f=null,h=null,g=null,f=0,h=h=null,k=-1,l=h=null,m=[],n=[];c.hiLevel=c.dir;c.lastArabic=!1;c.hasUbatAl=!1;c.hasUbatB=!1;c.hasUbatS=!1;for(h=0;h<d;h++){var l=h,g=a[h].charCodeAt(0),q=qa[g>>8];m[l]=q<aa?q:ra[q-aa][g&255]}for(l=0;l<d;l++){n[l]=h=p(a,m,n,l,c);f=e[f][h];h=f&240;f&=15;b[l]=g=e[f][B];
if(0<h){if(16===h)for(h=k;h<l;h++)b[h]=1;k=-1}if(h=e[f][v])-1===k&&(k=l);else if(-1<k){for(h=k;h<l;h++)b[h]=g;k=-1}m[l]===Y&&(b[l]=0);c.hiLevel|=g}if(c.hasUbatS)for(a=0;a<d;a++)if(m[a]===ka)for(b[a]=c.dir,e=a-1;0<=e;e--)if(m[e]===ma)b[e]=c.dir;else break}function b(a,b){var c=a.split("");if(b){var d=[];k(c,d,b);C=d}c.reverse();A.reverse();return c.join("")}function c(a){for(var b=0;b<Z.length;b++)if(a>=Z[b]&&a<=ca[b])return!0;return!1}function h(a,b,d,e){for(;b*d<e&&y(a[b]);)b+=d;return b*d<e&&c(a[b])?
!0:!1}function e(a,b,c,d){if(!(d.hiLevel<a))if(1!==a||d.dir!==U||d.hasUbatB){d=b.length;for(var e=0,f,h,g;e<d;){if(c[e]>=a){for(f=e+1;f<d&&c[f]>=a;)f++;for(h=f-1;e<h;e++,h--)g=b[e],b[e]=b[h],b[h]=g,g=A[e],A[e]=A[h],A[h]=g;e=f}e++}}else b.reverse(),A.reverse()}function p(a,b,c,d,e){return{UBAT_L:function(){e.lastArabic=!1;return ga},UBAT_R:function(){e.lastArabic=!1;return ea},UBAT_ON:function(){return W},UBAT_AN:function(){return ha},UBAT_EN:function(){return e.lastArabic?ha:da},UBAT_AL:function(){e.lastArabic=
!0;e.hasUbatAl=!0;return ea},UBAT_WS:function(){return W},UBAT_CS:function(){var a,f;if(1>d||d+1>=b.length||(a=c[d-1])!==da&&a!==ha||(f=b[d+1])!==da&&f!==ha)return W;e.lastArabic&&(f=ha);return f===a?f:W},UBAT_ES:function(){return(0<d?c[d-1]:Y)===da&&d+1<b.length&&b[d+1]===da?da:W},UBAT_ET:function(){if(0<d&&c[d-1]===da)return da;if(e.lastArabic)return W;for(var a=d+1,f=b.length;a<f&&b[a]===na;)a++;return a<f&&b[a]===da?da:W},UBAT_NSM:function(){if("VLTR"===e.inFormat){for(var f=b.length,h=d+1;h<
f&&b[h]===ja;)h++;if(h<f&&(f=a[d],h=b[h],(1425<=f&&2303>=f||64286===f)&&(h===ea||h===la)))return ea}return 1>d||b[d-1]===Y?W:c[d-1]},UBAT_B:function(){e.lastArabic=!0;e.hasUbatB=!0;return e.dir},UBAT_S:function(){e.hasUbatS=!0;return W},UBAT_LRE:function(){e.lastArabic=!1;return W},UBAT_RLE:function(){e.lastArabic=!1;return W},UBAT_LRO:function(){e.lastArabic=!1;return W},UBAT_RLO:function(){e.lastArabic=!1;return W},UBAT_PDF:function(){e.lastArabic=!1;return W},UBAT_BN:function(){return W}}[oa[b[d]]]()}
function z(a,b){for(var c=0;c<L.length;c++)if(a===L[c])return b[c];return a}function y(a){return"\u064b"<=a&&"\u0655">=a?!0:!1}function r(a){if("L"===a)return"LTR";if("R"===a)return"RTL";if("C"===a)return"CLR";if("D"===a)return"CRL"}function u(a,b){for(var c=0;c<I.length;c++)if(a===I[c])return b[c];return a}function x(a,b,c,d){for(var e=0;e<a.length;e++)if(a[e]>b||!c&&a[e]===b)a[e]+=d}n.getObject("string",!0,dojox);n=a("dojox.string.BidiEngine",g,{inputFormat:"ILYNN",outputFormat:"VLNNN",sourceToTarget:[],
targetToSource:[],levels:[],bidiTransform:function(a,b,d){this.sourceToTarget=[];this.targetToSource=[];if(!a)return"";var e=this.sourceToTarget,f=this.targetToSource,g=a.length;A=[];C=[];for(var k=0;k<g;k++)e[k]=k,f[k]=k,A[k]=k;if(!this.checkParameters(b,d))return a;b=this.inputFormat;d=this.outputFormat;var e=a,e=E,k=r(b.charAt(1)),f=r(d.charAt(1)),l="I"===b.charAt(0)?"L":b.charAt(0),g="I"===d.charAt(0)?"L":d.charAt(0),k=l+k,f=g+f,g=b.charAt(2)+d.charAt(2);e.defInFormat=k;e.defOutFormat=f;e.defSwap=
g;a=q(a,k,f,g,e);e=!1;if("R"===d.charAt(1))e=!0;else if("C"===d.charAt(1)||"D"===d.charAt(1))e=this.checkContextual(a);f=this.sourceToTarget=A;g=Array(f.length);for(k=0;k<f.length;k++)g[f[k]]=k;J=this.targetToSource=g;if(b.charAt(3)===d.charAt(3))e=a;else if("S"===d.charAt(3))if(b=e,d=!0,0===a.length)e=void 0;else{void 0===b&&(b=!0);void 0===d&&(d=!0);a=String(a);a=a.split("");var m=0,f=1,e=a.length;b||(m=a.length-1,f=-1,e=1);for(var g=e,k=d,p=0,e=[],l=0;m*f<g;m+=f)if(c(a[m])||y(a[m])){var n;if(n=
"\u0644"===a[m])b:{for(var t=a,v=m+f,B=f,D=g;v*B<D&&y(t[v]);)v+=B;n=" ";if(v*B<D)for(n=t[v],t=0;t<I.length;t++)if(I[t]===n){n=!0;break b}n=!1}if(n){a[m]=0===p?u(a[m+f],N):u(a[m+f],S);m+=f;p=a;n=m;t=f;for(v=g;n*t<v&&y(p[n]);)n+=t;n*t<v&&(p[n]=" ");k&&(e[l]=m,l++);p=0}else{n=a[m];if(1===p){t=m;if(h(a,m+f,f,g))b:for(v=a[m],B=0;B<L.length;B++){if(v===L[B]){v=H[B];break b}}else v=z(a[m],G);a[t]=v}else!0===h(a,m+f,f,g)?a[m]=z(a[m],R):a[m]=z(a[m],w);y(n)||(p=1);b:{for(t=0;t<M.length;t++)if(M[t]===n){n=!0;
break b}n=!1}!0===n&&(p=0)}}else p=0;f="";for(g=0;g<a.length;g++){if(k=d){b:{for(k=0;k<e.length;k++)if(e[k]===g)break b;k=-1}k=-1<k}k?(x(J,g,!b,-1),A.splice(g,1)):f+=a[g]}e=f}else if(b=a,d=e,a=!0,0===b.length)e=void 0;else for(void 0===a&&(a=!0),void 0===d&&(d=!0),b=String(b),e="",f=[],f=b.split(""),g=0;g<b.length;g++)k=!1,"\ufe70"<=f[g]&&"\ufeff">f[g]?(l=b.charCodeAt(g),"\ufef5"<=f[g]&&"\ufefc">=f[g]?(d?(0<g&&a&&" "===f[g-1]?e=e.substring(0,e.length-1)+"\u0644":(e+="\u0644",k=!0),e+=I[(l-65269)/
2]):(e+=I[(l-65269)/2],e+="\u0644",g+1<b.length&&a&&" "===f[g+1]?g++:k=!0),k&&(x(J,g,!0,1),A.splice(g,0,A[g]))):e+=T[l-65136]):e+=f[g];this.sourceToTarget=A;this.targetToSource=J;this.levels=C;return e},_inputFormatSetter:function(a){if(!Q.test(a))throw Error("dojox/string/BidiEngine: the bidi layout string is wrong!");this.inputFormat=a},_outputFormatSetter:function(a){if(!Q.test(a))throw Error("dojox/string/BidiEngine: the bidi layout string is wrong!");this.outputFormat=a},checkParameters:function(a,
b){a?this.set("inputFormat",a):a=this.inputFormat;b?this.set("outputFormat",b):b=this.outputFormat;return a===b?!1:!0},checkContextual:function(a){a=d(a);if("ltr"!==a&&"rtl"!==a){try{a=document.dir.toLowerCase()}catch(sa){}"ltr"!==a&&"rtl"!==a&&(a="ltr")}return a},hasBidiChar:function(a){return F.test(a)}});var A=[],J=[],C=[],E={dir:0,defInFormat:"LLTR",defoutFormat:"VLTR",defSwap:"YN",inFormat:"LLTR",outFormat:"VLTR",swap:"YN",hiLevel:0,lastArabic:!1,hasUbatAl:!1,hasBlockSep:!1,hasSegSep:!1},B=5,
v=6,K=0,U=1,Q=/^[(I|V)][(L|R|C|D)][(Y|N)][(S|N)][N]$/,F=/[\u0591-\u06ff\ufb1d-\ufefc]/,D=[["(",")"],[")","("],["\x3c","\x3e"],["\x3e","\x3c"],["[","]"],["]","["],["{","}"],["}","{"],["\u00ab","\u00bb"],["\u00bb","\u00ab"],["\u2039","\u203a"],["\u203a","\u2039"],["\u207d","\u207e"],["\u207e","\u207d"],["\u208d","\u208e"],["\u208e","\u208d"],["\u2264","\u2265"],["\u2265","\u2264"],["\u2329","\u232a"],["\u232a","\u2329"],["\ufe59","\ufe5a"],["\ufe5a","\ufe59"],["\ufe5b","\ufe5c"],["\ufe5c","\ufe5b"],
["\ufe5d","\ufe5e"],["\ufe5e","\ufe5d"],["\ufe64","\ufe65"],["\ufe65","\ufe64"]],I=["\u0622","\u0623","\u0625","\u0627"],N=["\ufef5","\ufef7","\ufef9","\ufefb"],S=["\ufef6","\ufef8","\ufefa","\ufefc"],L="\u0627\u0628\u062a\u062b\u062c\u062d\u062e\u062f\u0630\u0631\u0632\u0633\u0634\u0635\u0636\u0637\u0638\u0639\u063a\u0641\u0642\u0643\u0644\u0645\u0646\u0647\u0648\u064a\u0625\u0623\u0622\u0629\u0649\u0644\u0645\u0646\u0647\u0648\u064a\u0625\u0623\u0622\u0629\u0649\u06cc\u0626\u0624".split(""),w="\ufe8d\ufe8f\ufe95\ufe99\ufe9d\ufea1\ufea5\ufea9\ufeab\ufead\ufeaf\ufeb1\ufeb5\ufeb9\ufebd\ufec1\ufec5\ufec9\ufecd\ufed1\ufed5\ufed9\ufedd\ufee1\ufee5\ufee9\ufeed\ufef1\ufe87\ufe83\ufe81\ufe93\ufeef\ufbfc\ufe89\ufe85\ufe70\ufe72\ufe74\ufe76\ufe78\ufe7a\ufe7c\ufe7e\ufe80\ufe89\ufe85".split(""),
G="\ufe8e\ufe90\ufe96\ufe9a\ufe9e\ufea2\ufea6\ufeaa\ufeac\ufeae\ufeb0\ufeb2\ufeb6\ufeba\ufebe\ufec2\ufec6\ufeca\ufece\ufed2\ufed6\ufeda\ufede\ufee2\ufee6\ufeea\ufeee\ufef2\ufe88\ufe84\ufe82\ufe94\ufef0\ufbfd\ufe8a\ufe86\ufe70\ufe72\ufe74\ufe76\ufe78\ufe7a\ufe7c\ufe7e\ufe80\ufe8a\ufe86".split(""),H="\ufe8e\ufe92\ufe98\ufe9c\ufea0\ufea4\ufea8\ufeaa\ufeac\ufeae\ufeb0\ufeb4\ufeb8\ufebc\ufec0\ufec4\ufec8\ufecc\ufed0\ufed4\ufed8\ufedc\ufee0\ufee4\ufee8\ufeec\ufeee\ufef4\ufe88\ufe84\ufe82\ufe94\ufef0\ufbff\ufe8c\ufe86\ufe71\ufe72\ufe74\ufe77\ufe79\ufe7b\ufe7d\ufe7f\ufe80\ufe8c\ufe86".split(""),
R="\ufe8d\ufe91\ufe97\ufe9b\ufe9f\ufea3\ufea7\ufea9\ufeab\ufead\ufeaf\ufeb3\ufeb7\ufebb\ufebf\ufec3\ufec7\ufecb\ufecf\ufed3\ufed7\ufedb\ufedf\ufee3\ufee7\ufeeb\ufeed\ufef3\ufe87\ufe83\ufe81\ufe93\ufeef\ufbfe\ufe8b\ufe85\ufe70\ufe72\ufe74\ufe76\ufe78\ufe7a\ufe7c\ufe7e\ufe80\ufe8b\ufe85".split(""),M="\u0621\u0622\u0623\u0624\u0625\u0627\u0629\u062f\u0630\u0631\u0632\u0648\u0649".split(""),T="\u064b\u064b\u064c\u061f\u064d\u061f\u064e\u064e\u064f\u064f\u0650\u0650\u0651\u0651\u0652\u0652\u0621\u0622\u0622\u0623\u0623\u0624\u0624\u0625\u0625\u0626\u0626\u0626\u0626\u0627\u0627\u0628\u0628\u0628\u0628\u0629\u0629\u062a\u062a\u062a\u062a\u062b\u062b\u062b\u062b\u062c\u062c\u062c\u062c\u062d\u062d\u062d\u062d\u062e\u062e\u062e\u062e\u062f\u062f\u0630\u0630\u0631\u0631\u0632\u0632\u0633\u0633\u0633\u0633\u0634\u0634\u0634\u0634\u0635\u0635\u0635\u0635\u0636\u0636\u0636\u0636\u0637\u0637\u0637\u0637\u0638\u0638\u0638\u0638\u0639\u0639\u0639\u0639\u063a\u063a\u063a\u063a\u0641\u0641\u0641\u0641\u0642\u0642\u0642\u0642\u0643\u0643\u0643\u0643\u0644\u0644\u0644\u0644\u0645\u0645\u0645\u0645\u0646\u0646\u0646\u0646\u0647\u0647\u0647\u0647\u0648\u0648\u0649\u0649\u064a\u064a\u064a\u064a\ufef5\ufef6\ufef7\ufef8\ufef9\ufefa\ufefb\ufefc\u061f\u061f\u061f".split(""),
Z=["\u0621","\u0641"],ca=["\u063a","\u064a"],X=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],fa=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],ga=0,ea=1,da=2,ha=3,W=4,Y=5,ka=6,la=7,ma=8,na=11,ja=12,oa="UBAT_L UBAT_R UBAT_EN UBAT_AN UBAT_ON UBAT_B UBAT_S UBAT_AL UBAT_WS UBAT_CS UBAT_ES UBAT_ET UBAT_NSM UBAT_LRE UBAT_RLE UBAT_PDF UBAT_LRO UBAT_RLO UBAT_BN".split(" "),aa=100;a=ga;g=ea;var O=da,V=ha,l=W,ia=Y,pa=ka,m=la,ba=ma,P=
na,t=ja,qa=[aa+0,a,a,a,a,aa+1,aa+2,aa+3,g,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,aa+4,l,l,l,a,l,a,l,a,l,l,l,a,a,l,l,a,a,a,a,a,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,a,a,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,a,a,a,a,a,a,a,a,a,a,a,a,a,a,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,a,a,l,l,a,a,l,l,a,a,l,l,l,l,l,l,l,l,l,l,l,l,
l,l,l,l,l,l,l,l,l,l,l,a,a,a,aa+5,m,m,aa+6,aa+7],ra=[[18,18,18,18,18,18,18,18,18,pa,ia,pa,ba,ia,18,18,18,18,18,18,18,18,18,18,18,18,18,18,ia,ia,ia,pa,ba,l,l,P,P,P,l,l,l,l,l,10,9,10,9,9,O,O,O,O,O,O,O,O,O,O,9,l,l,l,l,l,l,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,l,l,l,l,l,l,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,l,l,l,l,18,18,18,18,18,18,ia,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,9,l,P,P,P,P,l,l,l,l,a,l,l,18,l,l,P,P,O,O,l,a,l,l,l,O,a,l,l,l,
l,l,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,l,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,l,a,a,a,a,a,a,a,a],[a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,l,l,l,l,l,l,l,l,l,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,l,l,a,a,a,a,a,a,a,l,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,l,a,l,l,l,l,l,l,l,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,
t,t,t,t,t,t,g,t,g,t,t,g,t,t,g,t,l,l,l,l,l,l,l,l,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,l,l,l,l,l,g,g,g,g,g,l,l,l,l,l,l,l,l,l,l,l],[V,V,V,V,l,l,l,l,m,P,P,m,9,m,l,l,t,t,t,t,t,t,t,t,t,t,t,m,l,l,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,V,V,V,V,V,V,V,V,V,V,P,V,V,m,m,m,t,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,
m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,t,t,t,t,t,t,t,V,l,t,t,t,t,t,t,m,m,t,t,l,t,t,t,t,m,m,O,O,O,O,O,O,O,O,O,O,m,m,m,m,m,m],[m,m,m,m,m,m,m,m,m,m,m,m,m,m,l,m,m,t,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,l,l,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,t,t,t,t,t,t,
t,t,t,t,t,m,l,l,l,l,l,l,l,l,l,l,l,l,l,l,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,t,t,t,t,t,t,t,t,t,g,g,l,l,l,l,g,l,l,l,l,l],[ba,ba,ba,ba,ba,ba,ba,ba,ba,ba,ba,18,18,18,a,g,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,ba,ia,13,14,15,16,17,9,P,P,P,P,P,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,9,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,ba,18,18,18,18,18,l,l,l,l,l,18,18,18,18,18,18,O,a,l,l,O,O,O,O,O,O,10,10,l,l,l,a,O,O,O,O,O,O,O,O,O,O,10,10,l,l,l,l,a,a,a,
a,a,a,a,a,a,a,a,a,a,l,l,l,P,P,P,P,P,P,P,P,P,P,P,P,P,P,P,P,P,P,P,P,P,P,P,P,P,P,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l],[a,a,a,a,a,a,a,l,l,l,l,l,l,l,l,l,l,l,l,a,a,a,a,a,l,l,l,l,l,g,t,g,g,g,g,g,g,g,g,g,g,10,g,g,g,g,g,g,g,g,g,g,g,g,g,l,g,g,g,g,g,l,g,l,g,g,l,g,g,l,g,g,g,g,g,g,g,g,g,g,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,
m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m],[t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,t,t,t,t,t,t,t,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,9,l,9,l,l,9,l,l,l,l,l,l,l,l,l,P,l,l,10,10,l,l,l,l,l,P,P,l,l,l,l,l,m,m,m,m,m,l,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,
m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,l,l,18],[l,l,l,P,P,P,l,l,l,l,l,10,9,10,9,9,O,O,O,O,O,O,O,O,O,O,9,l,l,l,l,l,l,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,l,l,l,l,l,l,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,l,l,l,l,l,l,l,l,l,l,l,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,
a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,l,l,l,a,a,a,a,a,a,l,l,a,a,a,a,a,a,l,l,a,a,a,a,a,a,l,l,a,a,a,l,l,l,P,P,l,l,l,P,P,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l]];return n})},"dojo/Stateful":function(){define(["./_base/declare","./_base/lang","./_base/array","./when"],function(n,a,g,q){return n("dojo.Stateful",null,{_attrPairNames:{},_getAttrNames:function(a){var d=this._attrPairNames;return d[a]?
d[a]:d[a]={s:"_"+a+"Setter",g:"_"+a+"Getter"}},postscript:function(a){a&&this.set(a)},_get:function(a,f){return"function"===typeof this[f.g]?this[f.g]():this[a]},get:function(a){return this._get(a,this._getAttrNames(a))},set:function(a,f){if("object"===typeof a){for(var d in a)a.hasOwnProperty(d)&&"_watchCallbacks"!=d&&this.set(d,a[d]);return this}d=this._getAttrNames(a);var b=this._get(a,d);d=this[d.s];var c;"function"===typeof d?c=d.apply(this,Array.prototype.slice.call(arguments,1)):this[a]=f;
if(this._watchCallbacks){var h=this;q(c,function(){h._watchCallbacks(a,b,f)})}return this},_changeAttrValue:function(a,f){var d=this.get(a);this[a]=f;this._watchCallbacks&&this._watchCallbacks(a,d,f);return this},watch:function(a,f){var d=this._watchCallbacks;if(!d)var b=this,d=this._watchCallbacks=function(a,c,f,h){var e=function(d){if(d){d=d.slice();for(var e=0,h=d.length;e<h;e++)d[e].call(b,a,c,f)}};e(d["_"+a]);h||e(d["*"])};f||"function"!==typeof a?a="_"+a:(f=a,a="*");var c=d[a];"object"!==typeof c&&
(c=d[a]=[]);c.push(f);var h={};h.unwatch=h.remove=function(){var a=g.indexOf(c,f);-1<a&&c.splice(a,1)};return h}})})},"esri/layers/vectorTiles/views/2d/engine/webgl/TileClipper":function(){define(["require","exports","./Geometry","./GeometryUtils"],function(n,a,g,q){Object.defineProperty(a,"__esModule",{value:!0});var d=function(){return function(a,b,c){this.ratio=a;this.x=b;this.y=c}}();n=function(){function a(a,c,d,e,f){void 0===e&&(e=8);void 0===f&&(f=8);this.lines=[];this.starts=[];this.pixelRatio=
e;this.pixelMargin=f;this.tileSize=512*e;this.dz=a;this.yPos=c;this.xPos=d}a.prototype.setExtent=function(a){this.finalRatio=this.tileSize/a*(1<<this.dz);var b=this.pixelRatio*this.pixelMargin,b=b/this.finalRatio;a>>=this.dz;b>a&&(b=a);this.margin=b;this.xmin=a*this.xPos-b;this.ymin=a*this.yPos-b;this.xmax=this.xmin+a+2*b;this.ymax=this.ymin+a+2*b};a.prototype.reset=function(a){this.type=a;this.lines=[];this.starts=[];this.line=null;this.start=0};a.prototype.moveTo=function(a,c){this._pushLine();
this._prevIsIn=this._isIn(a,c);this._moveTo(a,c,this._prevIsIn);this._prevPt=new g.Point(a,c);this._firstPt=new g.Point(a,c);this._dist=0};a.prototype.lineTo=function(a,c){var b=this._isIn(a,c),e=new g.Point(a,c),f=g.Point.distance(this._prevPt,e),k,n,q,u,x;if(b)this._prevIsIn?this._lineTo(a,c,!0):(k=this._prevPt,n=e,q=this._intersect(n,k),this.start=this._dist+f*(1-this._r),this._lineTo(q.x,q.y,!0),this._lineTo(n.x,n.y,!0));else if(this._prevIsIn)n=this._prevPt,k=e,q=this._intersect(n,k),this._lineTo(q.x,
q.y,!0),this._lineTo(k.x,k.y,!1);else{var A=this._prevPt;if(!(A.x<=this.xmin&&e.x<=this.xmin||A.x>=this.xmax&&e.x>=this.xmax||A.y<=this.ymin&&e.y<=this.ymin||A.y>=this.ymax&&e.y>=this.ymax)){k=[];if(A.x<this.xmin&&e.x>this.xmin||A.x>this.xmin&&e.x<this.xmin)n=(this.xmin-A.x)/(e.x-A.x),x=A.y+n*(e.y-A.y),x<=this.ymin?u=!1:x>=this.ymax?u=!0:k.push(new d(n,this.xmin,x));if(A.x<this.xmax&&e.x>this.xmax||A.x>this.xmax&&e.x<this.xmax)n=(this.xmax-A.x)/(e.x-A.x),x=A.y+n*(e.y-A.y),x<=this.ymin?u=!1:x>=this.ymax?
u=!0:k.push(new d(n,this.xmax,x));if(A.y<this.ymin&&e.y>this.ymin||A.y>this.ymin&&e.y<this.ymin)n=(this.ymin-A.y)/(e.y-A.y),x=A.x+n*(e.x-A.x),x<=this.xmin?q=!1:x>=this.xmax?q=!0:k.push(new d(n,x,this.ymin));if(A.y<this.ymax&&e.y>this.ymax||A.y>this.ymax&&e.y<this.ymax)n=(this.ymax-A.y)/(e.y-A.y),x=A.x+n*(e.x-A.x),x<=this.xmin?q=!1:x>=this.xmax?q=!0:k.push(new d(n,x,this.ymax));if(0===k.length)q?u?this._lineTo(this.xmax,this.ymax,!0):this._lineTo(this.xmax,this.ymin,!0):u?this._lineTo(this.xmin,this.ymax,
!0):this._lineTo(this.xmin,this.ymin,!0);else if(1<k.length&&k[0].ratio>k[1].ratio)this.start=this._dist+f*k[1].ratio,this._lineTo(k[1].x,k[1].y,!0),this._lineTo(k[0].x,k[0].y,!0);else for(this.start=this._dist+f*k[0].ratio,n=0;n<k.length;n++)this._lineTo(k[n].x,k[n].y,!0)}this._lineTo(e.x,e.y,!1)}this._dist+=f;this._prevIsIn=b;this._prevPt=e};a.prototype.close=function(){var a,c;0<this.line.length&&(a=this._firstPt,c=this._prevPt,a.x===c.x&&a.y===c.y||this.lineTo(a.x,a.y),a=this.line,c=a.length,
4<=c&&(a[0].x===a[1].x&&a[0].x===a[c-2].x||a[0].y===a[1].y&&a[0].y===a[c-2].y)&&(a.pop(),a[0].x=a[c-2].x,a[0].y=a[c-2].y))};a.prototype.result=function(){this._pushLine();if(0===this.lines.length)return null;3===this.type&&f.simplify(this.margin*this.finalRatio,this.lines);return this.lines};a.prototype.resultWithStarts=function(){if(2!==this.type)throw Error("Only valid for lines");this._pushLine();var a=this.lines,c=a.length;if(0===c)return null;for(var d=[],e=0;e<c;e++)d.push({line:a[e],start:this.starts[e]||
0});return d};a.prototype._isIn=function(a,c){return a>=this.xmin&&a<=this.xmax&&c>=this.ymin&&c<=this.ymax};a.prototype._intersect=function(a,c){var b,d,f;if(c.x>=this.xmin&&c.x<=this.xmax)d=c.y<=this.ymin?this.ymin:this.ymax,f=(d-a.y)/(c.y-a.y),b=a.x+f*(c.x-a.x);else if(c.y>=this.ymin&&c.y<=this.ymax)b=c.x<=this.xmin?this.xmin:this.xmax,f=(b-a.x)/(c.x-a.x),d=a.y+f*(c.y-a.y);else{d=c.y<=this.ymin?this.ymin:this.ymax;b=c.x<=this.xmin?this.xmin:this.xmax;var k=(b-a.x)/(c.x-a.x),n=(d-a.y)/(c.y-a.y);
k<n?(f=k,d=a.y+k*(c.y-a.y)):(f=n,b=a.x+n*(c.x-a.x))}this._r=f;return new g.Point(b,d)};a.prototype._pushLine=function(){this.line&&(1===this.type?0<this.line.length&&(this.lines.push(this.line),this.starts.push(this.start)):2===this.type?1<this.line.length&&(this.lines.push(this.line),this.starts.push(this.start)):3===this.type&&3<this.line.length&&(this.lines.push(this.line),this.starts.push(this.start)));this.line=[];this.start=0};a.prototype._moveTo=function(a,c,d){3!==this.type?d&&(a=Math.round((a-
(this.xmin+this.margin))*this.finalRatio),c=Math.round((c-(this.ymin+this.margin))*this.finalRatio),this.line.push(new g.Point(a,c))):(d||(a<this.xmin&&(a=this.xmin),a>this.xmax&&(a=this.xmax),c<this.ymin&&(c=this.ymin),c>this.ymax&&(c=this.ymax)),a=Math.round((a-(this.xmin+this.margin))*this.finalRatio),c=Math.round((c-(this.ymin+this.margin))*this.finalRatio),this.line.push(new g.Point(a,c)),this._is_v=this._is_h=!1)};a.prototype._lineTo=function(a,c,d){if(3!==this.type)if(d){a=Math.round((a-(this.xmin+
this.margin))*this.finalRatio);c=Math.round((c-(this.ymin+this.margin))*this.finalRatio);if(0<this.line.length&&(d=this.line[this.line.length-1],d.equals(a,c)))return;this.line.push(new g.Point(a,c))}else this.line&&0<this.line.length&&this._pushLine();else if(d||(a<this.xmin&&(a=this.xmin),a>this.xmax&&(a=this.xmax),c<this.ymin&&(c=this.ymin),c>this.ymax&&(c=this.ymax)),a=Math.round((a-(this.xmin+this.margin))*this.finalRatio),c=Math.round((c-(this.ymin+this.margin))*this.finalRatio),this.line&&
0<this.line.length){d=this.line[this.line.length-1];var b=d.x===a,f=d.y===c;b&&f||(this._is_h&&b?(d.x=a,d.y=c,d=this.line[this.line.length-2],this._is_h=d.x===a,this._is_v=d.y===c):this._is_v&&f?(d.x=a,d.y=c,d=this.line[this.line.length-2],this._is_h=d.x===a,this._is_v=d.y===c):(this.line.push(new g.Point(a,c)),this._is_h=b,this._is_v=f))}else this.line.push(new g.Point(a,c))};return a}();a.TileClipper=n;n=function(){function a(){}a.prototype.setExtent=function(a){this._ratio=4096===a?1:4096/a};a.prototype.reset=
function(a){this.type=a;this.lines=[];this.line=null};a.prototype.moveTo=function(a,c){this.line&&this.lines.push(this.line);this.line=[];var b=this._ratio;this.line.push(new g.Point(Math.round(a*b),Math.round(c*b)))};a.prototype.lineTo=function(a,c){var b=this._ratio;this.line.push(new g.Point(Math.round(a*b),Math.round(c*b)))};a.prototype.close=function(){var a=this.line;a&&!a[0].isEqual(a[a.length-1])&&a.push(a[0])};a.prototype.result=function(){this.line&&this.lines.push(this.line);if(0===this.lines.length)return null;
3===this.type&&1!==this._ratio&&f.simplify(64,this.lines);return this.lines};return a}();a.SimpleBuilder=n;var f=function(){function a(){}a.simplify=function(b,c){if(c){for(var d=-b,e=4096+b,f=-b,g=4096+b,k=[],n=[],q=c.length,x=0;x<q;++x){var A=c[x];if(A&&!(2>A.length))for(var J=A[0],C=void 0,E=A.length,B=1;B<E;++B)C=A[B],J.x===C.x&&(J.x<=d&&(J.y>C.y?(k.push(x),k.push(B),k.push(0),k.push(-1)):(n.push(x),n.push(B),n.push(0),n.push(-1))),J.x>=e&&(J.y<C.y?(k.push(x),k.push(B),k.push(1),k.push(-1)):(n.push(x),
n.push(B),n.push(1),n.push(-1)))),J.y===C.y&&(J.y<=f&&(J.x<C.x?(k.push(x),k.push(B),k.push(2),k.push(-1)):(n.push(x),n.push(B),n.push(2),n.push(-1))),J.y>=g&&(J.x>C.x?(k.push(x),k.push(B),k.push(3),k.push(-1)):(n.push(x),n.push(B),n.push(3),n.push(-1)))),J=C}0!==k.length&&0!==n.length&&(a.fillParent(c,n,k),a.fillParent(c,k,n),d=[],a.calcDeltas(d,n,k),a.calcDeltas(d,k,n),a.addDeltas(d,c))}};a.fillParent=function(a,c,d){for(var b=d.length,f=c.length,g=0;g<f;g+=4){for(var h=c[g],k=c[g+1],n=c[g+2],x=
a[h][k-1],h=a[h][k],k=8092,A=-1,J=0;J<b;J+=4)if(d[J+2]===n){var C=d[J],E=d[J+1],B=a[C][E-1],C=a[C][E];switch(n){case 0:case 1:q.between(x.y,B.y,C.y)&&q.between(h.y,B.y,C.y)&&(B=Math.abs(C.y-B.y),B<k&&(k=B,A=J));break;case 2:case 3:q.between(x.x,B.x,C.x)&&q.between(h.x,B.x,C.x)&&(B=Math.abs(C.x-B.x),B<k&&(k=B,A=J))}}c[g+3]=A}};a.calcDeltas=function(b,c,d){for(var e=c.length,f=0;f<e;f+=4){var g=a.calcDelta(f,c,d,[]);b.push(c[f]);b.push(c[f+1]);b.push(c[f+2]);b.push(g)}};a.calcDelta=function(b,c,d,e){b=
c[b+3];if(-1===b)return 0;var f=e.length;if(1<f&&e[f-2]===b)return 0;e.push(b);return a.calcDelta(b,d,c,e)+1};a.addDeltas=function(a,c){for(var b=a.length,d=0,f=0;f<b;f+=4){var g=a[f+3];g>d&&(d=g)}for(f=0;f<b;f+=4){var k=c[a[f]],n=a[f+1],g=d-a[f+3];switch(a[f+2]){case 0:k[n-1].x-=g;k[n].x-=g;break;case 1:k[n-1].x+=g;k[n].x+=g;break;case 2:k[n-1].y-=g;k[n].y-=g;break;case 3:k[n-1].y+=g,k[n].y+=g}}b=c.length;for(d=0;d<b;++d)k=c[d],!k||2>k.length||k[k.length-1].x!==k[0].x&&k[k.length-1].y!==k[0].y&&
k.push(k[0])};return a}()})},"esri/layers/vectorTiles/views/2d/engine/webgl/GeometryUtils":function(){define(["require","exports"],function(n,a){function g(a,f){a%=f;return 0<=a?a:a+f}Object.defineProperty(a,"__esModule",{value:!0});a.C_INFINITY=Number.POSITIVE_INFINITY;a.C_PI=Math.PI;a.C_2PI=2*a.C_PI;a.C_PI_BY_2=a.C_PI/2;a.C_RAD_TO_256=128/a.C_PI;a.C_256_TO_RAD=a.C_PI/128;a.C_DEG_TO_256=256/360;a.C_DEG_TO_RAD=a.C_PI/180;a.C_SQRT2=1.414213562;a.C_SQRT2_INV=1/a.C_SQRT2;var q=1/Math.LN2;a.positiveMod=
g;a.radToByte=function(d){return g(d*a.C_RAD_TO_256,256)};a.degToByte=function(d){return g(d*a.C_DEG_TO_256,256)};a.log2=function(a){return Math.log(a)*q};a.sqr=function(a){return a*a};a.clamp=function(a,f,g){return Math.min(Math.max(a,f),g)};a.interpolate=function(a,f,g){return a*(1-g)+f*g};a.between=function(a,f,g){return a>=f&&a<=g||a>=g&&a<=f}})},"esri/layers/vectorTiles/views/vectorTiles/style/StyleRepository":function(){define(["require","exports","./StyleLayer","dojo/has"],function(n,a,g,q){return function(){function a(d,
g){this.styleJSON=d;this.version=parseFloat(d.version);this.sprite=g?g.spriteUrl:d.sprite;this.glyphs=g?g.glyphsUrl:d.glyphs;if(q("stable-symbol-rendering")){var b=(d.layers||[]).filter(function(a){return a.layout&&a.layout["text-font"]})[0];b&&(d.layers||[]).forEach(function(a){a.layout&&a.layout["text-font"]&&(a.layout["text-font"]=b.layout["text-font"])})}this.layers=(d.layers||[]).map(a._create);this._identifyRefLayers()}a.prototype._identifyRefLayers=function(){for(var a=[],d=[],b=0,c=0,g=this.layers;c<
g.length;c++){var e=g[c];if(1===e.type){var n=e,q=e.sourceLayer,q=q+("|"+JSON.stringify(e.minzoom)),q=q+("|"+JSON.stringify(e.maxzoom)),q=q+("|"+JSON.stringify(e.filter));if(n.hasDataDrivenFill||n.hasDataDrivenOutline)q+="|"+JSON.stringify(b);a.push({key:q,layer:e})}2===e.type&&(n=e,q=e.sourceLayer,q+="|"+JSON.stringify(e.minzoom),q+="|"+JSON.stringify(e.maxzoom),q+="|"+JSON.stringify(e.filter),q+="|"+JSON.stringify(e.layout&&e.layout["line-cap"]),q+="|"+JSON.stringify(e.layout&&e.layout["line-join"]),
n.hasDataDrivenLine&&(q+="|"+JSON.stringify(b)),d.push({key:q,layer:e}));++b}this._assignRefLayers(a);this._assignRefLayers(d)};a.prototype._assignRefLayers=function(a){a.sort(function(a,b){return a.key<b.key?-1:a.key>b.key?1:0});for(var d,b,c=a.length,f=0;f<c;f++){var e=a[f];if(e.key===d)e.layer.refLayerId=b;else if(d=e.key,b=e.layer.id,1===e.layer.type&&!e.layer.getPaintProperty("fill-outline-color"))for(var g=f+1;g<c;g++){var n=a[g];if(n.key===d){if(n.layer.getPaintProperty("fill-outline-color")){a[f]=
n;a[g]=e;b=n.layer.id;break}}else break}}};a._create=function(a,d,b){d=1-1/(b.length+1)*(1+d);switch(a.type){case "background":return new g.BackgroundStyleLayer(0,a,d);case "fill":return new g.FillStyleLayer(1,a,d);case "line":return new g.LineStyleLayer(2,a,d);case "symbol":return new g.SymbolStyleLayer(3,a,d);case "raster":throw Error("Unsupported vector tile raster layer");case "circle":throw Error("Unsupported vector tile circle layer");}throw Error("Unknown vector tile layer");};return a}()})},
"*now":function(n){n(['dojo/i18n!*preload*esri/layers/vectorTiles/core/workers/nls/worker-init*["ar","ca","cs","da","de","el","en-gb","en-us","es-es","fi-fi","fr-fr","he-il","hu","it-it","ja-jp","ko-kr","nl-nl","nb","pl","pt-br","pt-pt","ru","sk","sl","sv","th","tr","zh-tw","zh-cn","ROOT"]'])}}});define("esri/layers/vectorTiles/core/workers/worker-init",[],1);